(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function wN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var em={exports:{}},Oo={};var Ab;function TN(){if(Ab)return Oo;Ab=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Oo.Fragment=e,Oo.jsx=n,Oo.jsxs=n,Oo}var Rb;function CN(){return Rb||(Rb=1,em.exports=TN()),em.exports}var b=CN(),tm={exports:{}},ce={};var Nb;function AN(){if(Nb)return ce;Nb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function M(A,H,K){this.props=A,this.context=H,this.refs=k,this.updater=K||T}M.prototype.isReactComponent={},M.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function P(){}P.prototype=M.prototype;function L(A,H,K){this.props=A,this.context=H,this.refs=k,this.updater=K||T}var F=L.prototype=new P;F.constructor=L,N(F,M.prototype),F.isPureReactComponent=!0;var Y=Array.isArray;function ie(){}var $={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function se(A,H,K){var Z=K.ref;return{$$typeof:t,type:A,key:H,ref:Z!==void 0?Z:null,props:K}}function be(A,H){return se(A.type,H,A.props)}function Ke(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function We(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(K){return H[K]})}var Wt=/\/+/g;function zt(A,H){return typeof A=="object"&&A!==null&&A.key!=null?We(""+A.key):H.toString(36)}function Et(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ie,ie):(A.status="pending",A.then(function(H){A.status==="pending"&&(A.status="fulfilled",A.value=H)},function(H){A.status==="pending"&&(A.status="rejected",A.reason=H)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function z(A,H,K,Z,le){var de=typeof A;(de==="undefined"||de==="boolean")&&(A=null);var Ae=!1;if(A===null)Ae=!0;else switch(de){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(A.$$typeof){case t:case e:Ae=!0;break;case g:return Ae=A._init,z(Ae(A._payload),H,K,Z,le)}}if(Ae)return le=le(A),Ae=Z===""?"."+zt(A,0):Z,Y(le)?(K="",Ae!=null&&(K=Ae.replace(Wt,"$&/")+"/"),z(le,H,K,"",function($t){return $t})):le!=null&&(Ke(le)&&(le=be(le,K+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(Wt,"$&/")+"/")+Ae)),H.push(le)),1;Ae=0;var ee=Z===""?".":Z+":";if(Y(A))for(var xe=0;xe<A.length;xe++)Z=A[xe],de=ee+zt(Z,xe),Ae+=z(Z,H,K,de,le);else if(xe=x(A),typeof xe=="function")for(A=xe.call(A),xe=0;!(Z=A.next()).done;)Z=Z.value,de=ee+zt(Z,xe++),Ae+=z(Z,H,K,de,le);else if(de==="object"){if(typeof A.then=="function")return z(Et(A),H,K,Z,le);throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function q(A,H,K){if(A==null)return A;var Z=[],le=0;return z(A,Z,"","",function(de){return H.call(K,de,le++)}),Z}function Q(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(K){(A._status===0||A._status===-1)&&(A._status=1,A._result=K)},function(K){(A._status===0||A._status===-1)&&(A._status=2,A._result=K)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var ge=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Se={map:q,forEach:function(A,H,K){q(A,function(){H.apply(this,arguments)},K)},count:function(A){var H=0;return q(A,function(){H++}),H},toArray:function(A){return q(A,function(H){return H})||[]},only:function(A){if(!Ke(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ce.Activity=y,ce.Children=Se,ce.Component=M,ce.Fragment=n,ce.Profiler=o,ce.PureComponent=L,ce.StrictMode=r,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ce.__COMPILER_RUNTIME={__proto__:null,c:function(A){return $.H.useMemoCache(A)}},ce.cache=function(A){return function(){return A.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(A,H,K){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=N({},A.props),le=A.key;if(H!=null)for(de in H.key!==void 0&&(le=""+H.key),H)!W.call(H,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&H.ref===void 0||(Z[de]=H[de]);var de=arguments.length-2;if(de===1)Z.children=K;else if(1<de){for(var Ae=Array(de),ee=0;ee<de;ee++)Ae[ee]=arguments[ee+2];Z.children=Ae}return se(A.type,le,Z)},ce.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},ce.createElement=function(A,H,K){var Z,le={},de=null;if(H!=null)for(Z in H.key!==void 0&&(de=""+H.key),H)W.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=H[Z]);var Ae=arguments.length-2;if(Ae===1)le.children=K;else if(1<Ae){for(var ee=Array(Ae),xe=0;xe<Ae;xe++)ee[xe]=arguments[xe+2];le.children=ee}if(A&&A.defaultProps)for(Z in Ae=A.defaultProps,Ae)le[Z]===void 0&&(le[Z]=Ae[Z]);return se(A,de,le)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(A){return{$$typeof:h,render:A}},ce.isValidElement=Ke,ce.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:Q}},ce.memo=function(A,H){return{$$typeof:p,type:A,compare:H===void 0?null:H}},ce.startTransition=function(A){var H=$.T,K={};$.T=K;try{var Z=A(),le=$.S;le!==null&&le(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ie,ge)}catch(de){ge(de)}finally{H!==null&&K.types!==null&&(H.types=K.types),$.T=H}},ce.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ce.use=function(A){return $.H.use(A)},ce.useActionState=function(A,H,K){return $.H.useActionState(A,H,K)},ce.useCallback=function(A,H){return $.H.useCallback(A,H)},ce.useContext=function(A){return $.H.useContext(A)},ce.useDebugValue=function(){},ce.useDeferredValue=function(A,H){return $.H.useDeferredValue(A,H)},ce.useEffect=function(A,H){return $.H.useEffect(A,H)},ce.useEffectEvent=function(A){return $.H.useEffectEvent(A)},ce.useId=function(){return $.H.useId()},ce.useImperativeHandle=function(A,H,K){return $.H.useImperativeHandle(A,H,K)},ce.useInsertionEffect=function(A,H){return $.H.useInsertionEffect(A,H)},ce.useLayoutEffect=function(A,H){return $.H.useLayoutEffect(A,H)},ce.useMemo=function(A,H){return $.H.useMemo(A,H)},ce.useOptimistic=function(A,H){return $.H.useOptimistic(A,H)},ce.useReducer=function(A,H,K){return $.H.useReducer(A,H,K)},ce.useRef=function(A){return $.H.useRef(A)},ce.useState=function(A){return $.H.useState(A)},ce.useSyncExternalStore=function(A,H,K){return $.H.useSyncExternalStore(A,H,K)},ce.useTransition=function(){return $.H.useTransition()},ce.version="19.2.4",ce}var kb;function Vp(){return kb||(kb=1,tm.exports=AN()),tm.exports}var E=Vp();const gi=wN(E);var nm={exports:{}},Io={},im={exports:{}},sm={};var Mb;function RN(){return Mb||(Mb=1,(function(t){function e(z,q){var Q=z.length;z.push(q);e:for(;0<Q;){var ge=Q-1>>>1,Se=z[ge];if(0<o(Se,q))z[ge]=q,z[Q]=Se,Q=ge;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],Q=z.pop();if(Q!==q){z[0]=Q;e:for(var ge=0,Se=z.length,A=Se>>>1;ge<A;){var H=2*(ge+1)-1,K=z[H],Z=H+1,le=z[Z];if(0>o(K,Q))Z<Se&&0>o(le,K)?(z[ge]=le,z[Z]=Q,ge=Z):(z[ge]=K,z[H]=Q,ge=H);else if(Z<Se&&0>o(le,Q))z[ge]=le,z[Z]=Q,ge=Z;else break e}}return q}function o(z,q){var Q=z.sortIndex-q.sortIndex;return Q!==0?Q:z.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],g=1,y=null,_=3,x=!1,T=!1,N=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function F(z){for(var q=n(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=z)r(p),q.sortIndex=q.expirationTime,e(m,q);else break;q=n(p)}}function Y(z){if(N=!1,F(z),!T)if(n(m)!==null)T=!0,ie||(ie=!0,We());else{var q=n(p);q!==null&&Et(Y,q.startTime-z)}}var ie=!1,$=-1,W=5,se=-1;function be(){return k?!0:!(t.unstable_now()-se<W)}function Ke(){if(k=!1,ie){var z=t.unstable_now();se=z;var q=!0;try{e:{T=!1,N&&(N=!1,P($),$=-1),x=!0;var Q=_;try{t:{for(F(z),y=n(m);y!==null&&!(y.expirationTime>z&&be());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,_=y.priorityLevel;var Se=ge(y.expirationTime<=z);if(z=t.unstable_now(),typeof Se=="function"){y.callback=Se,F(z),q=!0;break t}y===n(m)&&r(m),F(z)}else r(m);y=n(m)}if(y!==null)q=!0;else{var A=n(p);A!==null&&Et(Y,A.startTime-z),q=!1}}break e}finally{y=null,_=Q,x=!1}q=void 0}}finally{q?We():ie=!1}}}var We;if(typeof L=="function")We=function(){L(Ke)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,zt=Wt.port2;Wt.port1.onmessage=Ke,We=function(){zt.postMessage(null)}}else We=function(){M(Ke,0)};function Et(z,q){$=M(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(z){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var Q=_;_=q;try{return z()}finally{_=Q}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=_;_=z;try{return q()}finally{_=Q}},t.unstable_scheduleCallback=function(z,q,Q){var ge=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ge+Q:ge):Q=ge,z){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Q+Se,z={id:g++,callback:q,priorityLevel:z,startTime:Q,expirationTime:Se,sortIndex:-1},Q>ge?(z.sortIndex=Q,e(p,z),n(m)===null&&z===n(p)&&(N?(P($),$=-1):N=!0,Et(Y,Q-ge))):(z.sortIndex=Se,e(m,z),T||x||(T=!0,ie||(ie=!0,We()))),z},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(z){var q=_;return function(){var Q=_;_=q;try{return z.apply(this,arguments)}finally{_=Q}}}})(sm)),sm}var Db;function NN(){return Db||(Db=1,im.exports=RN()),im.exports}var rm={exports:{}},kt={};var Ob;function kN(){if(Ob)return kt;Ob=1;var t=Vp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(m,p,null,g)},kt.flushSync=function(m){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=g,r.d.f()}},kt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},kt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},kt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):g==="script"&&r.d.X(m,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},kt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},kt.requestFormReset=function(m){r.d.r(m)},kt.unstable_batchedUpdates=function(m,p){return m(p)},kt.useFormState=function(m,p,g){return u.H.useFormState(m,p,g)},kt.useFormStatus=function(){return u.H.useHostTransitionStatus()},kt.version="19.2.4",kt}var Ib;function MN(){if(Ib)return rm.exports;Ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rm.exports=kN(),rm.exports}var Lb;function DN(){if(Lb)return Io;Lb=1;var t=NN(),e=Vp(),n=MN();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(c(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=c(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),i;if(d===l)return m(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=d;break}if(S===l){v=!0,l=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=f;break}if(S===l){v=!0,l=d,a=f;break}S=S.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function We(i){return i===null||typeof i!="object"?null:(i=Ke&&i[Ke]||i["@@iterator"],typeof i=="function"?i:null)}var Wt=Symbol.for("react.client.reference");function zt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Wt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case Y:return"Suspense";case ie:return"SuspenseList";case se:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case L:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case F:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return s=i.displayName||null,s!==null?s:zt(i.type)||"Memo";case W:s=i._payload,i=i._init;try{return zt(i(s))}catch{}}return null}var Et=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ge=[],Se=-1;function A(i){return{current:i}}function H(i){0>Se||(i.current=ge[Se],ge[Se]=null,Se--)}function K(i,s){Se++,ge[Se]=i.current,i.current=s}var Z=A(null),le=A(null),de=A(null),Ae=A(null);function ee(i,s){switch(K(de,s),K(le,i),K(Z,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?X0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=X0(s),i=Q0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(Z),K(Z,i)}function xe(){H(Z),H(le),H(de)}function $t(i){i.memoizedState!==null&&K(Ae,i);var s=Z.current,a=Q0(s,i.type);s!==a&&(K(le,i),K(Z,a))}function jn(i){le.current===i&&(H(Z),H(le)),Ae.current===i&&(H(Ae),No._currentValue=Q)}var Pf,Cy;function Ms(i){if(Pf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Pf=s&&s[1]||"",Cy=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pf+i+Cy}var jf=!1;function Uf(i,s){if(!i||jf)return"";jf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(j){var I=j}Reflect.construct(i,[],B)}else{try{B.call()}catch(j){I=j}i.call(B.prototype)}}else{try{throw Error()}catch(j){I=j}(B=i())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(j){if(j&&I&&typeof j.stack=="string")return[j.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var w=v.split(`
`),O=S.split(`
`);for(f=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(l===w.length||f===O.length)for(l=w.length-1,f=O.length-1;1<=l&&0<=f&&w[l]!==O[f];)f--;for(;1<=l&&0<=f;l--,f--)if(w[l]!==O[f]){if(l!==1||f!==1)do if(l--,f--,0>f||w[l]!==O[f]){var U=`
`+w[l].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=l&&0<=f);break}}}finally{jf=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Ms(a):""}function tA(i,s){switch(i.tag){case 26:case 27:case 5:return Ms(i.type);case 16:return Ms("Lazy");case 13:return i.child!==s&&s!==null?Ms("Suspense Fallback"):Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 15:return Uf(i.type,!1);case 11:return Uf(i.type.render,!1);case 1:return Uf(i.type,!0);case 31:return Ms("Activity");default:return""}}function Ay(i){try{var s="",a=null;do s+=tA(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var zf=Object.prototype.hasOwnProperty,Vf=t.unstable_scheduleCallback,Bf=t.unstable_cancelCallback,nA=t.unstable_shouldYield,iA=t.unstable_requestPaint,Xt=t.unstable_now,sA=t.unstable_getCurrentPriorityLevel,Ry=t.unstable_ImmediatePriority,Ny=t.unstable_UserBlockingPriority,Vl=t.unstable_NormalPriority,rA=t.unstable_LowPriority,ky=t.unstable_IdlePriority,aA=t.log,oA=t.unstable_setDisableYieldValue,Va=null,Qt=null;function Li(i){if(typeof aA=="function"&&oA(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Va,i)}catch{}}var Zt=Math.clz32?Math.clz32:uA,lA=Math.log,cA=Math.LN2;function uA(i){return i>>>=0,i===0?32:31-(lA(i)/cA|0)|0}var Bl=256,Hl=262144,Fl=4194304;function Ds(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ql(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Ds(l):(v&=S,v!==0?f=Ds(v):a||(a=S&~i,a!==0&&(f=Ds(a))))):(S=l&~d,S!==0?f=Ds(S):v!==0?f=Ds(v):a||(a=l&~i,a!==0&&(f=Ds(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Ba(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function fA(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(){var i=Fl;return Fl<<=1,(Fl&62914560)===0&&(Fl=4194304),i}function Hf(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ha(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hA(i,s,a,l,f,d){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,w=i.expirationTimes,O=i.hiddenUpdates;for(a=v&~a;0<a;){var U=31-Zt(a),B=1<<U;S[U]=0,w[U]=-1;var I=O[U];if(I!==null)for(O[U]=null,U=0;U<I.length;U++){var j=I[U];j!==null&&(j.lane&=-536870913)}a&=~B}l!==0&&Dy(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(v&~s))}function Dy(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-Zt(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function Oy(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-Zt(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function Iy(i,s){var a=s&-s;return a=(a&42)!==0?1:Ff(a),(a&(i.suspendedLanes|s))!==0?0:a}function Ff(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function qf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ly(){var i=q.p;return i!==0?i:(i=window.event,i===void 0?32:bb(i.type))}function Py(i,s){var a=q.p;try{return q.p=i,s()}finally{q.p=a}}var Pi=Math.random().toString(36).slice(2),wt="__reactFiber$"+Pi,Vt="__reactProps$"+Pi,yr="__reactContainer$"+Pi,Gf="__reactEvents$"+Pi,dA="__reactListeners$"+Pi,mA="__reactHandles$"+Pi,jy="__reactResources$"+Pi,Fa="__reactMarker$"+Pi;function Yf(i){delete i[wt],delete i[Vt],delete i[Gf],delete i[dA],delete i[mA]}function vr(i){var s=i[wt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[yr]||a[wt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=sb(i);i!==null;){if(a=i[wt])return a;i=sb(i)}return s}i=a,a=i.parentNode}return null}function _r(i){if(i=i[wt]||i[yr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function qa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function br(i){var s=i[jy];return s||(s=i[jy]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(i){i[Fa]=!0}var Uy=new Set,zy={};function Os(i,s){Sr(i,s),Sr(i+"Capture",s)}function Sr(i,s){for(zy[i]=s,i=0;i<s.length;i++)Uy.add(s[i])}var pA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vy={},By={};function gA(i){return zf.call(By,i)?!0:zf.call(Vy,i)?!1:pA.test(i)?By[i]=!0:(Vy[i]=!0,!1)}function Gl(i,s,a){if(gA(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Yl(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function $n(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hy(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yA(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Kf(i){if(!i._valueTracker){var s=Hy(i)?"checked":"value";i._valueTracker=yA(i,s,""+i[s])}}function Fy(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Hy(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vA=/[\n"\\]/g;function un(i){return i.replace(vA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wf(i,s,a,l,f,d,v,S){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?$f(i,v,cn(s)):a!=null?$f(i,v,cn(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+cn(S):i.removeAttribute("name")}function qy(i,s,a,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Kf(i);return}a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),Kf(i)}function $f(i,s,a){s==="number"&&Kl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function xr(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Gy(i,s,a){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+cn(a):""}function Yy(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Kf(i)}function Er(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var _A=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ky(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||_A.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Wy(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Ky(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Ky(i,d,s[d])}function Xf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(i){return SA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Xn(){}var Qf=null;function Zf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wr=null,Tr=null;function $y(i){var s=_r(i);if(s&&(i=s.stateNode)){var a=i[Vt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Wf(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Vt]||null;if(!f)throw Error(r(90));Wf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Fy(l)}break e;case"textarea":Gy(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&xr(i,!!a.multiple,s,!1)}}}var Jf=!1;function Xy(i,s,a){if(Jf)return i(s,a);Jf=!0;try{var l=i(s);return l}finally{if(Jf=!1,(wr!==null||Tr!==null)&&(Lc(),wr&&(s=wr,i=Tr,Tr=wr=null,$y(s),i)))for(s=0;s<i.length;s++)$y(i[s])}}function Ga(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eh=!1;if(Qn)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){eh=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{eh=!1}var ji=null,th=null,$l=null;function Qy(){if($l)return $l;var i,s=th,a=s.length,l,f="value"in ji?ji.value:ji.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return $l=f.slice(i,1<l?1-l:void 0)}function Xl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ql(){return!0}function Zy(){return!1}function Bt(i){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ql:Zy,this.isPropagationStopped=Zy,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),s}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Bt(Is),Ka=y({},Is,{view:0,detail:0}),xA=Bt(Ka),nh,ih,Wa,Jl=y({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wa&&(Wa&&i.type==="mousemove"?(nh=i.screenX-Wa.screenX,ih=i.screenY-Wa.screenY):ih=nh=0,Wa=i),nh)},movementY:function(i){return"movementY"in i?i.movementY:ih}}),Jy=Bt(Jl),EA=y({},Jl,{dataTransfer:0}),wA=Bt(EA),TA=y({},Ka,{relatedTarget:0}),sh=Bt(TA),CA=y({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),AA=Bt(CA),RA=y({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),NA=Bt(RA),kA=y({},Is,{data:0}),ev=Bt(kA),MA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=OA[i])?!!s[i]:!1}function rh(){return IA}var LA=y({},Ka,{key:function(i){if(i.key){var s=MA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Xl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?DA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(i){return i.type==="keypress"?Xl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),PA=Bt(LA),jA=y({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tv=Bt(jA),UA=y({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),zA=Bt(UA),VA=y({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),BA=Bt(VA),HA=y({},Jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),FA=Bt(HA),qA=y({},Is,{newState:0,oldState:0}),GA=Bt(qA),YA=[9,13,27,32],ah=Qn&&"CompositionEvent"in window,$a=null;Qn&&"documentMode"in document&&($a=document.documentMode);var KA=Qn&&"TextEvent"in window&&!$a,nv=Qn&&(!ah||$a&&8<$a&&11>=$a),iv=" ",sv=!1;function rv(i,s){switch(i){case"keyup":return YA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function av(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cr=!1;function WA(i,s){switch(i){case"compositionend":return av(s);case"keypress":return s.which!==32?null:(sv=!0,iv);case"textInput":return i=s.data,i===iv&&sv?null:i;default:return null}}function $A(i,s){if(Cr)return i==="compositionend"||!ah&&rv(i,s)?(i=Qy(),$l=th=ji=null,Cr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nv&&s.locale!=="ko"?null:s.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!XA[i.type]:s==="textarea"}function lv(i,s,a,l){wr?Tr?Tr.push(l):Tr=[l]:wr=l,s=Hc(s,"onChange"),0<s.length&&(a=new Zl("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Xa=null,Qa=null;function QA(i){q0(i,0)}function ec(i){var s=qa(i);if(Fy(s))return i}function cv(i,s){if(i==="change")return s}var uv=!1;if(Qn){var oh;if(Qn){var lh="oninput"in document;if(!lh){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),lh=typeof fv.oninput=="function"}oh=lh}else oh=!1;uv=oh&&(!document.documentMode||9<document.documentMode)}function hv(){Xa&&(Xa.detachEvent("onpropertychange",dv),Qa=Xa=null)}function dv(i){if(i.propertyName==="value"&&ec(Qa)){var s=[];lv(s,Qa,i,Zf(i)),Xy(QA,s)}}function ZA(i,s,a){i==="focusin"?(hv(),Xa=s,Qa=a,Xa.attachEvent("onpropertychange",dv)):i==="focusout"&&hv()}function JA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ec(Qa)}function eR(i,s){if(i==="click")return ec(s)}function tR(i,s){if(i==="input"||i==="change")return ec(s)}function nR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Jt=typeof Object.is=="function"?Object.is:nR;function Za(i,s){if(Jt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!zf.call(s,f)||!Jt(i[f],s[f]))return!1}return!0}function mv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pv(i,s){var a=mv(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mv(a)}}function gv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?gv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Kl(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Kl(i.document)}return s}function ch(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var iR=Qn&&"documentMode"in document&&11>=document.documentMode,Ar=null,uh=null,Ja=null,fh=!1;function vv(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fh||Ar==null||Ar!==Kl(l)||(l=Ar,"selectionStart"in l&&ch(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ja&&Za(Ja,l)||(Ja=l,l=Hc(uh,"onSelect"),0<l.length&&(s=new Zl("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Ar)))}function Ls(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Rr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},hh={},_v={};Qn&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Ps(i){if(hh[i])return hh[i];if(!Rr[i])return i;var s=Rr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in _v)return hh[i]=s[a];return i}var bv=Ps("animationend"),Sv=Ps("animationiteration"),xv=Ps("animationstart"),sR=Ps("transitionrun"),rR=Ps("transitionstart"),aR=Ps("transitioncancel"),Ev=Ps("transitionend"),wv=new Map,dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dh.push("scrollEnd");function Tn(i,s){wv.set(i,s),Os(s,[i])}var tc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fn=[],Nr=0,mh=0;function nc(){for(var i=Nr,s=mh=Nr=0;s<i;){var a=fn[s];fn[s++]=null;var l=fn[s];fn[s++]=null;var f=fn[s];fn[s++]=null;var d=fn[s];if(fn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Tv(a,f,d)}}function ic(i,s,a,l){fn[Nr++]=i,fn[Nr++]=s,fn[Nr++]=a,fn[Nr++]=l,mh|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function ph(i,s,a,l){return ic(i,s,a,l),sc(i)}function js(i,s){return ic(i,null,null,s),sc(i)}function Tv(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-Zt(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function sc(i){if(50<xo)throw xo=0,wd=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var kr={};function oR(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(i,s,a,l){return new oR(i,s,a,l)}function gh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zn(i,s){var a=i.alternate;return a===null?(a=en(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Cv(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function rc(i,s,a,l,f,d){var v=0;if(l=i,typeof i=="function")gh(i)&&(v=1);else if(typeof i=="string")v=hN(i,a,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case se:return i=en(31,a,s,f),i.elementType=se,i.lanes=d,i;case N:return Us(a.children,f,d,s);case k:v=8,f|=24;break;case M:return i=en(12,a,s,f|2),i.elementType=M,i.lanes=d,i;case Y:return i=en(13,a,s,f),i.elementType=Y,i.lanes=d,i;case ie:return i=en(19,a,s,f),i.elementType=ie,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:v=10;break e;case P:v=9;break e;case F:v=11;break e;case $:v=14;break e;case W:v=16,l=null;break e}v=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=en(v,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function Us(i,s,a,l){return i=en(7,i,l,s),i.lanes=a,i}function yh(i,s,a){return i=en(6,i,null,s),i.lanes=a,i}function Av(i){var s=en(18,null,null,0);return s.stateNode=i,s}function vh(i,s,a){return s=en(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Rv=new WeakMap;function hn(i,s){if(typeof i=="object"&&i!==null){var a=Rv.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Ay(s)},Rv.set(i,s),s)}return{value:i,source:s,stack:Ay(s)}}var Mr=[],Dr=0,ac=null,eo=0,dn=[],mn=0,Ui=null,Un=1,zn="";function Jn(i,s){Mr[Dr++]=eo,Mr[Dr++]=ac,ac=i,eo=s}function Nv(i,s,a){dn[mn++]=Un,dn[mn++]=zn,dn[mn++]=Ui,Ui=i;var l=Un;i=zn;var f=32-Zt(l)-1;l&=~(1<<f),a+=1;var d=32-Zt(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Un=1<<32-Zt(s)+f|a<<f|l,zn=d+i}else Un=1<<d|a<<f|l,zn=i}function _h(i){i.return!==null&&(Jn(i,1),Nv(i,1,0))}function bh(i){for(;i===ac;)ac=Mr[--Dr],Mr[Dr]=null,eo=Mr[--Dr],Mr[Dr]=null;for(;i===Ui;)Ui=dn[--mn],dn[mn]=null,zn=dn[--mn],dn[mn]=null,Un=dn[--mn],dn[mn]=null}function kv(i,s){dn[mn++]=Un,dn[mn++]=zn,dn[mn++]=Ui,Un=s.id,zn=s.overflow,Ui=i}var Tt=null,qe=null,Ce=!1,zi=null,pn=!1,Sh=Error(r(519));function Vi(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(hn(s,i)),Sh}function Mv(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[wt]=i,s[Vt]=l,a){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(a=0;a<wo.length;a++)_e(wo[a],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":_e("invalid",s),qy(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_e("invalid",s);break;case"textarea":_e("invalid",s),Yy(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||W0(s.textContent,a)?(l.popover!=null&&(_e("beforetoggle",s),_e("toggle",s)),l.onScroll!=null&&_e("scroll",s),l.onScrollEnd!=null&&_e("scrollend",s),l.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||Vi(i,!0)}function Dv(i){for(Tt=i.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:Tt=Tt.return}}function Or(i){if(i!==Tt)return!1;if(!Ce)return Dv(i),Ce=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||zd(i.type,i.memoizedProps)),a=!a),a&&qe&&Vi(i),Dv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qe=ib(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qe=ib(i)}else s===27?(s=qe,es(i.type)?(i=qd,qd=null,qe=i):qe=s):qe=Tt?yn(i.stateNode.nextSibling):null;return!0}function zs(){qe=Tt=null,Ce=!1}function xh(){var i=zi;return i!==null&&(Gt===null?Gt=i:Gt.push.apply(Gt,i),zi=null),i}function to(i){zi===null?zi=[i]:zi.push(i)}var Eh=A(null),Vs=null,ei=null;function Bi(i,s,a){K(Eh,s._currentValue),s._currentValue=a}function ti(i){i._currentValue=Eh.current,H(Eh)}function wh(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Th(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var w=0;w<s.length;w++)if(S.context===s[w]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),wh(d.return,a,i),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),wh(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ir(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=f.type;Jt(f.pendingProps.value,v.value)||(i!==null?i.push(S):i=[S])}}else if(f===Ae.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(No):i=[No])}f=f.return}i!==null&&Th(s,i,a,l),s.flags|=262144}function oc(i){for(i=i.firstContext;i!==null;){if(!Jt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Bs(i){Vs=i,ei=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ct(i){return Ov(Vs,i)}function lc(i,s){return Vs===null&&Bs(i),Ov(i,s)}function Ov(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ei===null){if(i===null)throw Error(r(308));ei=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ei=ei.next=s;return a}var lR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},cR=t.unstable_scheduleCallback,uR=t.unstable_NormalPriority,ot={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new lR,data:new Map,refCount:0}}function no(i){i.refCount--,i.refCount===0&&cR(uR,function(){i.controller.abort()})}var io=null,Ah=0,Lr=0,Pr=null;function fR(i,s){if(io===null){var a=io=[];Ah=0,Lr=kd(),Pr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ah++,s.then(Iv,Iv),s}function Iv(){if(--Ah===0&&io!==null){Pr!==null&&(Pr.status="fulfilled");var i=io;io=null,Lr=0,Pr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function hR(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Lv=z.S;z.S=function(i,s){v0=Xt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&fR(i,s),Lv!==null&&Lv(i,s)};var Hs=A(null);function Rh(){var i=Hs.current;return i!==null?i:ze.pooledCache}function cc(i,s){s===null?K(Hs,Hs.current):K(Hs,s.pool)}function Pv(){var i=Rh();return i===null?null:{parent:ot._currentValue,pool:i}}var jr=Error(r(460)),Nh=Error(r(474)),uc=Error(r(542)),fc={then:function(){}};function jv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Uv(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Xn,Xn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Vv(i),i;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(i=ze,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Vv(i),i}throw qs=s,jr}}function Fs(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,jr):a}}var qs=null;function zv(){if(qs===null)throw Error(r(459));var i=qs;return qs=null,i}function Vv(i){if(i===jr||i===uc)throw Error(r(483))}var Ur=null,so=0;function hc(i){var s=so;return so+=1,Ur===null&&(Ur=[]),Uv(Ur,i,s)}function ro(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function dc(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Bv(i){function s(R,C){if(i){var D=R.deletions;D===null?(R.deletions=[C],R.flags|=16):D.push(C)}}function a(R,C){if(!i)return null;for(;C!==null;)s(R,C),C=C.sibling;return null}function l(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function f(R,C){return R=Zn(R,C),R.index=0,R.sibling=null,R}function d(R,C,D){return R.index=D,i?(D=R.alternate,D!==null?(D=D.index,D<C?(R.flags|=67108866,C):D):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function v(R){return i&&R.alternate===null&&(R.flags|=67108866),R}function S(R,C,D,V){return C===null||C.tag!==6?(C=yh(D,R.mode,V),C.return=R,C):(C=f(C,D),C.return=R,C)}function w(R,C,D,V){var ne=D.type;return ne===N?U(R,C,D.props.children,V,D.key):C!==null&&(C.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===W&&Fs(ne)===C.type)?(C=f(C,D.props),ro(C,D),C.return=R,C):(C=rc(D.type,D.key,D.props,null,R.mode,V),ro(C,D),C.return=R,C)}function O(R,C,D,V){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=vh(D,R.mode,V),C.return=R,C):(C=f(C,D.children||[]),C.return=R,C)}function U(R,C,D,V,ne){return C===null||C.tag!==7?(C=Us(D,R.mode,V,ne),C.return=R,C):(C=f(C,D),C.return=R,C)}function B(R,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=yh(""+C,R.mode,D),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case x:return D=rc(C.type,C.key,C.props,null,R.mode,D),ro(D,C),D.return=R,D;case T:return C=vh(C,R.mode,D),C.return=R,C;case W:return C=Fs(C),B(R,C,D)}if(Et(C)||We(C))return C=Us(C,R.mode,D,null),C.return=R,C;if(typeof C.then=="function")return B(R,hc(C),D);if(C.$$typeof===L)return B(R,lc(R,C),D);dc(R,C)}return null}function I(R,C,D,V){var ne=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ne!==null?null:S(R,C,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return D.key===ne?w(R,C,D,V):null;case T:return D.key===ne?O(R,C,D,V):null;case W:return D=Fs(D),I(R,C,D,V)}if(Et(D)||We(D))return ne!==null?null:U(R,C,D,V,null);if(typeof D.then=="function")return I(R,C,hc(D),V);if(D.$$typeof===L)return I(R,C,lc(R,D),V);dc(R,D)}return null}function j(R,C,D,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(D)||null,S(C,R,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return R=R.get(V.key===null?D:V.key)||null,w(C,R,V,ne);case T:return R=R.get(V.key===null?D:V.key)||null,O(C,R,V,ne);case W:return V=Fs(V),j(R,C,D,V,ne)}if(Et(V)||We(V))return R=R.get(D)||null,U(C,R,V,ne,null);if(typeof V.then=="function")return j(R,C,D,hc(V),ne);if(V.$$typeof===L)return j(R,C,D,lc(C,V),ne);dc(C,V)}return null}function X(R,C,D,V){for(var ne=null,Re=null,te=C,he=C=0,we=null;te!==null&&he<D.length;he++){te.index>he?(we=te,te=null):we=te.sibling;var Ne=I(R,te,D[he],V);if(Ne===null){te===null&&(te=we);break}i&&te&&Ne.alternate===null&&s(R,te),C=d(Ne,C,he),Re===null?ne=Ne:Re.sibling=Ne,Re=Ne,te=we}if(he===D.length)return a(R,te),Ce&&Jn(R,he),ne;if(te===null){for(;he<D.length;he++)te=B(R,D[he],V),te!==null&&(C=d(te,C,he),Re===null?ne=te:Re.sibling=te,Re=te);return Ce&&Jn(R,he),ne}for(te=l(te);he<D.length;he++)we=j(te,R,he,D[he],V),we!==null&&(i&&we.alternate!==null&&te.delete(we.key===null?he:we.key),C=d(we,C,he),Re===null?ne=we:Re.sibling=we,Re=we);return i&&te.forEach(function(rs){return s(R,rs)}),Ce&&Jn(R,he),ne}function re(R,C,D,V){if(D==null)throw Error(r(151));for(var ne=null,Re=null,te=C,he=C=0,we=null,Ne=D.next();te!==null&&!Ne.done;he++,Ne=D.next()){te.index>he?(we=te,te=null):we=te.sibling;var rs=I(R,te,Ne.value,V);if(rs===null){te===null&&(te=we);break}i&&te&&rs.alternate===null&&s(R,te),C=d(rs,C,he),Re===null?ne=rs:Re.sibling=rs,Re=rs,te=we}if(Ne.done)return a(R,te),Ce&&Jn(R,he),ne;if(te===null){for(;!Ne.done;he++,Ne=D.next())Ne=B(R,Ne.value,V),Ne!==null&&(C=d(Ne,C,he),Re===null?ne=Ne:Re.sibling=Ne,Re=Ne);return Ce&&Jn(R,he),ne}for(te=l(te);!Ne.done;he++,Ne=D.next())Ne=j(te,R,he,Ne.value,V),Ne!==null&&(i&&Ne.alternate!==null&&te.delete(Ne.key===null?he:Ne.key),C=d(Ne,C,he),Re===null?ne=Ne:Re.sibling=Ne,Re=Ne);return i&&te.forEach(function(EN){return s(R,EN)}),Ce&&Jn(R,he),ne}function je(R,C,D,V){if(typeof D=="object"&&D!==null&&D.type===N&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case x:e:{for(var ne=D.key;C!==null;){if(C.key===ne){if(ne=D.type,ne===N){if(C.tag===7){a(R,C.sibling),V=f(C,D.props.children),V.return=R,R=V;break e}}else if(C.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===W&&Fs(ne)===C.type){a(R,C.sibling),V=f(C,D.props),ro(V,D),V.return=R,R=V;break e}a(R,C);break}else s(R,C);C=C.sibling}D.type===N?(V=Us(D.props.children,R.mode,V,D.key),V.return=R,R=V):(V=rc(D.type,D.key,D.props,null,R.mode,V),ro(V,D),V.return=R,R=V)}return v(R);case T:e:{for(ne=D.key;C!==null;){if(C.key===ne)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){a(R,C.sibling),V=f(C,D.children||[]),V.return=R,R=V;break e}else{a(R,C);break}else s(R,C);C=C.sibling}V=vh(D,R.mode,V),V.return=R,R=V}return v(R);case W:return D=Fs(D),je(R,C,D,V)}if(Et(D))return X(R,C,D,V);if(We(D)){if(ne=We(D),typeof ne!="function")throw Error(r(150));return D=ne.call(D),re(R,C,D,V)}if(typeof D.then=="function")return je(R,C,hc(D),V);if(D.$$typeof===L)return je(R,C,lc(R,D),V);dc(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(a(R,C.sibling),V=f(C,D),V.return=R,R=V):(a(R,C),V=yh(D,R.mode,V),V.return=R,R=V),v(R)):a(R,C)}return function(R,C,D,V){try{so=0;var ne=je(R,C,D,V);return Ur=null,ne}catch(te){if(te===jr||te===uc)throw te;var Re=en(29,te,null,R.mode);return Re.lanes=V,Re.return=R,Re}}}var Gs=Bv(!0),Hv=Bv(!1),Hi=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qi(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=sc(i),Tv(i,null,a),s}return ic(i,l,s,a),sc(i)}function ao(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Oy(i,a)}}function Dh(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Oh=!1;function oo(){if(Oh){var i=Pr;if(i!==null)throw i}}function lo(i,s,a,l){Oh=!1;var f=i.updateQueue;Hi=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var w=S,O=w.next;w.next=null,v===null?d=O:v.next=O,v=w;var U=i.alternate;U!==null&&(U=U.updateQueue,S=U.lastBaseUpdate,S!==v&&(S===null?U.firstBaseUpdate=O:S.next=O,U.lastBaseUpdate=w))}if(d!==null){var B=f.baseState;v=0,U=O=w=null,S=d;do{var I=S.lane&-536870913,j=I!==S.lane;if(j?(Ee&I)===I:(l&I)===I){I!==0&&I===Lr&&(Oh=!0),U!==null&&(U=U.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var X=i,re=S;I=s;var je=a;switch(re.tag){case 1:if(X=re.payload,typeof X=="function"){B=X.call(je,B,I);break e}B=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=re.payload,I=typeof X=="function"?X.call(je,B,I):X,I==null)break e;B=y({},B,I);break e;case 2:Hi=!0}}I=S.callback,I!==null&&(i.flags|=64,j&&(i.flags|=8192),j=f.callbacks,j===null?f.callbacks=[I]:j.push(I))}else j={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},U===null?(O=U=j,w=B):U=U.next=j,v|=I;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;j=S,S=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);U===null&&(w=B),f.baseState=w,f.firstBaseUpdate=O,f.lastBaseUpdate=U,d===null&&(f.shared.lanes=0),$i|=v,i.lanes=v,i.memoizedState=B}}function Fv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function qv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Fv(a[i],s)}var zr=A(null),mc=A(0);function Gv(i,s){i=ui,K(mc,i),K(zr,s),ui=i|s.baseLanes}function Ih(){K(mc,ui),K(zr,zr.current)}function Lh(){ui=mc.current,H(zr),H(mc)}var tn=A(null),gn=null;function Gi(i){var s=i.alternate;K(rt,rt.current&1),K(tn,i),gn===null&&(s===null||zr.current!==null||s.memoizedState!==null)&&(gn=i)}function Ph(i){K(rt,rt.current),K(tn,i),gn===null&&(gn=i)}function Yv(i){i.tag===22?(K(rt,rt.current),K(tn,i),gn===null&&(gn=i)):Yi()}function Yi(){K(rt,rt.current),K(tn,tn.current)}function nn(i){H(tn),gn===i&&(gn=null),H(rt)}var rt=A(0);function pc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hd(a)||Fd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ni=0,fe=null,Le=null,lt=null,gc=!1,Vr=!1,Ys=!1,yc=0,co=0,Br=null,dR=0;function tt(){throw Error(r(321))}function jh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Jt(i[a],s[a]))return!1;return!0}function Uh(i,s,a,l,f,d){return ni=d,fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=i===null||i.memoizedState===null?N_:Jh,Ys=!1,d=a(l,f),Ys=!1,Vr&&(d=Wv(s,a,l,f)),Kv(i),d}function Kv(i){z.H=ho;var s=Le!==null&&Le.next!==null;if(ni=0,lt=Le=fe=null,gc=!1,co=0,Br=null,s)throw Error(r(300));i===null||ct||(i=i.dependencies,i!==null&&oc(i)&&(ct=!0))}function Wv(i,s,a,l){fe=i;var f=0;do{if(Vr&&(Br=null),co=0,Vr=!1,25<=f)throw Error(r(301));if(f+=1,lt=Le=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=k_,d=s(a,l)}while(Vr);return d}function mR(){var i=z.H,s=i.useState()[0];return s=typeof s.then=="function"?uo(s):s,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(fe.flags|=1024),s}function zh(){var i=yc!==0;return yc=0,i}function Vh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Bh(i){if(gc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}gc=!1}ni=0,lt=Le=fe=null,Vr=!1,co=yc=0,Br=null}function Dt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?fe.memoizedState=lt=i:lt=lt.next=i,lt}function at(){if(Le===null){var i=fe.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var s=lt===null?fe.memoizedState:lt.next;if(s!==null)lt=s,Le=i;else{if(i===null)throw fe.alternate===null?Error(r(467)):Error(r(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},lt===null?fe.memoizedState=lt=i:lt=lt.next=i}return lt}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(i){var s=co;return co+=1,Br===null&&(Br=[]),i=Uv(Br,i,s),s=fe,(lt===null?s.memoizedState:lt.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?N_:Jh),i}function _c(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return uo(i);if(i.$$typeof===L)return Ct(i)}throw Error(r(438,String(i)))}function Hh(i){var s=null,a=fe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=vc(),fe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=be;return s.index++,a}function ii(i,s){return typeof s=="function"?s(i):s}function bc(i){var s=at();return Fh(s,Le,i)}function Fh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var S=v=null,w=null,O=s,U=!1;do{var B=O.lane&-536870913;if(B!==O.lane?(Ee&B)===B:(ni&B)===B){var I=O.revertLane;if(I===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),B===Lr&&(U=!0);else if((ni&I)===I){O=O.next,I===Lr&&(U=!0);continue}else B={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(S=w=B,v=d):w=w.next=B,fe.lanes|=I,$i|=I;B=O.action,Ys&&a(d,B),d=O.hasEagerState?O.eagerState:a(d,B)}else I={lane:B,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(S=w=I,v=d):w=w.next=I,fe.lanes|=B,$i|=B;O=O.next}while(O!==null&&O!==s);if(w===null?v=d:w.next=S,!Jt(d,i.memoizedState)&&(ct=!0,U&&(a=Pr,a!==null)))throw a;i.memoizedState=d,i.baseState=v,i.baseQueue=w,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function qh(i){var s=at(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=i(d,v.action),v=v.next;while(v!==f);Jt(d,s.memoizedState)||(ct=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function $v(i,s,a){var l=fe,f=at(),d=Ce;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Jt((Le||f).memoizedState,a);if(v&&(f.memoizedState=a,ct=!0),f=f.queue,Kh(Zv.bind(null,l,f,i),[i]),f.getSnapshot!==s||v||lt!==null&&lt.memoizedState.tag&1){if(l.flags|=2048,Hr(9,{destroy:void 0},Qv.bind(null,l,f,a,s),null),ze===null)throw Error(r(349));d||(ni&127)!==0||Xv(l,s,a)}return a}function Xv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=fe.updateQueue,s===null?(s=vc(),fe.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Qv(i,s,a,l){s.value=a,s.getSnapshot=l,Jv(s)&&e_(i)}function Zv(i,s,a){return a(function(){Jv(s)&&e_(i)})}function Jv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Jt(i,a)}catch{return!0}}function e_(i){var s=js(i,2);s!==null&&Yt(s,i,2)}function Gh(i){var s=Dt();if(typeof i=="function"){var a=i;if(i=a(),Ys){Li(!0);try{a()}finally{Li(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:i},s}function t_(i,s,a,l){return i.baseState=a,Fh(i,Le,typeof l=="function"?l:ii)}function pR(i,s,a,l,f){if(Ec(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};z.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,n_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function n_(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=z.T,v={};z.T=v;try{var S=a(f,l),w=z.S;w!==null&&w(v,S),i_(i,s,S)}catch(O){Yh(i,s,O)}finally{d!==null&&v.types!==null&&(d.types=v.types),z.T=d}}else try{d=a(f,l),i_(i,s,d)}catch(O){Yh(i,s,O)}}function i_(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){s_(i,s,l)},function(l){return Yh(i,s,l)}):s_(i,s,a)}function s_(i,s,a){s.status="fulfilled",s.value=a,r_(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,n_(i,a)))}function Yh(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,r_(s),s=s.next;while(s!==l)}i.action=null}function r_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function a_(i,s){return s}function o_(i,s){if(Ce){var a=ze.formState;if(a!==null){e:{var l=fe;if(Ce){if(qe){t:{for(var f=qe,d=pn;f.nodeType!==8;){if(!d){f=null;break t}if(f=yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){qe=yn(f.nextSibling),l=f.data==="F!";break e}}Vi(l)}l=!1}l&&(s=a[0])}}return a=Dt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a_,lastRenderedState:s},a.queue=l,a=C_.bind(null,fe,l),l.dispatch=a,l=Gh(!1),d=Zh.bind(null,fe,!1,l.queue),l=Dt(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=pR.bind(null,fe,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function l_(i){var s=at();return c_(s,Le,i)}function c_(i,s,a){if(s=Fh(i,s,a_)[0],i=bc(ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=uo(s)}catch(v){throw v===jr?uc:v}else l=s;s=at();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(fe.flags|=2048,Hr(9,{destroy:void 0},gR.bind(null,f,a),null)),[l,d,i]}function gR(i,s){i.action=s}function u_(i){var s=at(),a=Le;if(a!==null)return c_(s,a,i);at(),s=s.memoizedState,a=at();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Hr(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=fe.updateQueue,s===null&&(s=vc(),fe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function f_(){return at().memoizedState}function Sc(i,s,a,l){var f=Dt();fe.flags|=i,f.memoizedState=Hr(1|s,{destroy:void 0},a,l===void 0?null:l)}function xc(i,s,a,l){var f=at();l=l===void 0?null:l;var d=f.memoizedState.inst;Le!==null&&l!==null&&jh(l,Le.memoizedState.deps)?f.memoizedState=Hr(s,d,a,l):(fe.flags|=i,f.memoizedState=Hr(1|s,d,a,l))}function h_(i,s){Sc(8390656,8,i,s)}function Kh(i,s){xc(2048,8,i,s)}function yR(i){fe.flags|=4;var s=fe.updateQueue;if(s===null)s=vc(),fe.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function d_(i){var s=at().memoizedState;return yR({ref:s,nextImpl:i}),function(){if((Me&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function m_(i,s){return xc(4,2,i,s)}function p_(i,s){return xc(4,4,i,s)}function g_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function y_(i,s,a){a=a!=null?a.concat([i]):null,xc(4,4,g_.bind(null,s,i),a)}function Wh(){}function v_(i,s){var a=at();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&jh(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function __(i,s){var a=at();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&jh(s,l[1]))return l[0];if(l=i(),Ys){Li(!0);try{i()}finally{Li(!1)}}return a.memoizedState=[l,s],l}function $h(i,s,a){return a===void 0||(ni&1073741824)!==0&&(Ee&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=b0(),fe.lanes|=i,$i|=i,a)}function b_(i,s,a,l){return Jt(a,s)?a:zr.current!==null?(i=$h(i,a,l),Jt(i,s)||(ct=!0),i):(ni&42)===0||(ni&1073741824)!==0&&(Ee&261930)===0?(ct=!0,i.memoizedState=a):(i=b0(),fe.lanes|=i,$i|=i,s)}function S_(i,s,a,l,f){var d=q.p;q.p=d!==0&&8>d?d:8;var v=z.T,S={};z.T=S,Zh(i,!1,s,a);try{var w=f(),O=z.S;if(O!==null&&O(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var U=hR(w,l);fo(i,s,U,an(i))}else fo(i,s,l,an(i))}catch(B){fo(i,s,{then:function(){},status:"rejected",reason:B},an())}finally{q.p=d,v!==null&&S.types!==null&&(v.types=S.types),z.T=v}}function vR(){}function Xh(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=x_(i).queue;S_(i,f,s,Q,a===null?vR:function(){return E_(i),a(l)})}function x_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:Q},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function E_(i){var s=x_(i);s.next===null&&(s=i.alternate.memoizedState),fo(i,s.next.queue,{},an())}function Qh(){return Ct(No)}function w_(){return at().memoizedState}function T_(){return at().memoizedState}function _R(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=an();i=Fi(a);var l=qi(s,i,a);l!==null&&(Yt(l,s,a),ao(l,s,a)),s={cache:Ch()},i.payload=s;return}s=s.return}}function bR(i,s,a){var l=an();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(i)?A_(s,a):(a=ph(i,s,a,l),a!==null&&(Yt(a,i,l),R_(a,s,l)))}function C_(i,s,a){var l=an();fo(i,s,a,l)}function fo(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(i))A_(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,Jt(S,v))return ic(i,s,f,0),ze===null&&nc(),!1}catch{}if(a=ph(i,s,f,l),a!==null)return Yt(a,i,l),R_(a,s,l),!0}return!1}function Zh(i,s,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(i)){if(s)throw Error(r(479))}else s=ph(i,a,l,2),s!==null&&Yt(s,i,2)}function Ec(i){var s=i.alternate;return i===fe||s!==null&&s===fe}function A_(i,s){Vr=gc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function R_(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Oy(i,a)}}var ho={readContext:Ct,use:_c,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};ho.useEffectEvent=tt;var N_={readContext:Ct,use:_c,useCallback:function(i,s){return Dt().memoizedState=[i,s===void 0?null:s],i},useContext:Ct,useEffect:h_,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Sc(4194308,4,g_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Sc(4194308,4,i,s)},useInsertionEffect:function(i,s){Sc(4,2,i,s)},useMemo:function(i,s){var a=Dt();s=s===void 0?null:s;var l=i();if(Ys){Li(!0);try{i()}finally{Li(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=Dt();if(a!==void 0){var f=a(s);if(Ys){Li(!0);try{a(s)}finally{Li(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=bR.bind(null,fe,i),[l.memoizedState,i]},useRef:function(i){var s=Dt();return i={current:i},s.memoizedState=i},useState:function(i){i=Gh(i);var s=i.queue,a=C_.bind(null,fe,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Wh,useDeferredValue:function(i,s){var a=Dt();return $h(a,i,s)},useTransition:function(){var i=Gh(!1);return i=S_.bind(null,fe,i.queue,!0,!1),Dt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=fe,f=Dt();if(Ce){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ze===null)throw Error(r(349));(Ee&127)!==0||Xv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,h_(Zv.bind(null,l,d,i),[i]),l.flags|=2048,Hr(9,{destroy:void 0},Qv.bind(null,l,d,a,s),null),a},useId:function(){var i=Dt(),s=ze.identifierPrefix;if(Ce){var a=zn,l=Un;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=yc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=dR++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Qh,useFormState:o_,useActionState:o_,useOptimistic:function(i){var s=Dt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Zh.bind(null,fe,!0,a),a.dispatch=s,[i,s]},useMemoCache:Hh,useCacheRefresh:function(){return Dt().memoizedState=_R.bind(null,fe)},useEffectEvent:function(i){var s=Dt(),a={impl:i};return s.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Jh={readContext:Ct,use:_c,useCallback:v_,useContext:Ct,useEffect:Kh,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:bc,useRef:f_,useState:function(){return bc(ii)},useDebugValue:Wh,useDeferredValue:function(i,s){var a=at();return b_(a,Le.memoizedState,i,s)},useTransition:function(){var i=bc(ii)[0],s=at().memoizedState;return[typeof i=="boolean"?i:uo(i),s]},useSyncExternalStore:$v,useId:w_,useHostTransitionStatus:Qh,useFormState:l_,useActionState:l_,useOptimistic:function(i,s){var a=at();return t_(a,Le,i,s)},useMemoCache:Hh,useCacheRefresh:T_};Jh.useEffectEvent=d_;var k_={readContext:Ct,use:_c,useCallback:v_,useContext:Ct,useEffect:Kh,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:qh,useRef:f_,useState:function(){return qh(ii)},useDebugValue:Wh,useDeferredValue:function(i,s){var a=at();return Le===null?$h(a,i,s):b_(a,Le.memoizedState,i,s)},useTransition:function(){var i=qh(ii)[0],s=at().memoizedState;return[typeof i=="boolean"?i:uo(i),s]},useSyncExternalStore:$v,useId:w_,useHostTransitionStatus:Qh,useFormState:u_,useActionState:u_,useOptimistic:function(i,s){var a=at();return Le!==null?t_(a,Le,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:T_};k_.useEffectEvent=d_;function ed(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var td={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=an(),f=Fi(l);f.payload=s,a!=null&&(f.callback=a),s=qi(i,f,l),s!==null&&(Yt(s,i,l),ao(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=an(),f=Fi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=qi(i,f,l),s!==null&&(Yt(s,i,l),ao(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=an(),l=Fi(a);l.tag=2,s!=null&&(l.callback=s),s=qi(i,l,a),s!==null&&(Yt(s,i,a),ao(s,i,a))}};function M_(i,s,a,l,f,d,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!Za(a,l)||!Za(f,d):!0}function D_(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&td.enqueueReplaceState(s,s.state,null)}function Ks(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=y({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function O_(i){tc(i)}function I_(i){console.error(i)}function L_(i){tc(i)}function wc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function P_(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nd(i,s,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(i,s)},a}function j_(i){return i=Fi(i),i.tag=3,i}function U_(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){P_(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){P_(s,a,l),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function SR(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ir(s,a,f,!0),a=tn.current,a!==null){switch(a.tag){case 31:case 13:return gn===null?Pc():a.alternate===null&&nt===0&&(nt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Ad(i,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Ad(i,l,f)),!1}throw Error(r(435,a.tag))}return Ad(i,l,f),Pc(),!1}if(Ce)return s=tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Sh&&(i=Error(r(422),{cause:l}),to(hn(i,a)))):(l!==Sh&&(s=Error(r(423),{cause:l}),to(hn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=hn(l,a),f=nd(i.stateNode,l,f),Dh(i,f),nt!==4&&(nt=2)),!1;var d=Error(r(520),{cause:l});if(d=hn(d,a),So===null?So=[d]:So.push(d),nt!==4&&(nt=2),s===null)return!0;l=hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=nd(a.stateNode,l,i),Dh(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xi===null||!Xi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=j_(f),U_(f,i,a,l),Dh(a,f),!1}a=a.return}while(a!==null);return!1}var id=Error(r(461)),ct=!1;function At(i,s,a,l){s.child=i===null?Hv(s,null,a,l):Gs(s,i.child,a,l)}function z_(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Bs(s),l=Uh(i,s,a,v,d,f),S=zh(),i!==null&&!ct?(Vh(i,s,f),si(i,s,f)):(Ce&&S&&_h(s),s.flags|=1,At(i,s,l,f),s.child)}function V_(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!gh(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,B_(i,s,d,l,f)):(i=rc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!fd(i,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Za,a(v,l)&&i.ref===s.ref)return si(i,s,f)}return s.flags|=1,i=Zn(d,l),i.ref=s.ref,i.return=s,s.child=i}function B_(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(Za(d,l)&&i.ref===s.ref)if(ct=!1,s.pendingProps=l=d,fd(i,f))(i.flags&131072)!==0&&(ct=!0);else return s.lanes=i.lanes,si(i,s,f)}return sd(i,s,a,l,f)}function H_(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return F_(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&cc(s,d!==null?d.cachePool:null),d!==null?Gv(s,d):Ih(),Yv(s);else return l=s.lanes=536870912,F_(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(s,d.cachePool),Gv(s,d),Yi(),s.memoizedState=null):(i!==null&&cc(s,null),Ih(),Yi());return At(i,s,f,a),s.child}function mo(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function F_(i,s,a,l,f){var d=Rh();return d=d===null?null:{parent:ot._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&cc(s,null),Ih(),Yv(s),i!==null&&Ir(i,s,l,!0),s.childLanes=f,null}function Tc(i,s){return s=Ac({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function q_(i,s,a){return Gs(s,i.child,null,a),i=Tc(s,s.pendingProps),i.flags|=2,nn(s),s.memoizedState=null,i}function xR(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ce){if(l.mode==="hidden")return i=Tc(s,l),s.lanes=536870912,mo(null,i);if(Ph(s),(i=qe)?(i=nb(i,pn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ui!==null?{id:Un,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},a=Av(i),a.return=s,s.child=a,Tt=s,qe=null)):i=null,i===null)throw Vi(s);return s.lanes=536870912,null}return Tc(s,l)}var d=i.memoizedState;if(d!==null){var v=d.dehydrated;if(Ph(s),f)if(s.flags&256)s.flags&=-257,s=q_(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(ct||Ir(i,s,a,!1),f=(a&i.childLanes)!==0,ct||f){if(l=ze,l!==null&&(v=Iy(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,js(i,v),Yt(l,i,v),id;Pc(),s=q_(i,s,a)}else i=d.treeContext,qe=yn(v.nextSibling),Tt=s,Ce=!0,zi=null,pn=!1,i!==null&&kv(s,i),s=Tc(s,l),s.flags|=4096;return s}return i=Zn(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Cc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function sd(i,s,a,l,f){return Bs(s),a=Uh(i,s,a,l,void 0,f),l=zh(),i!==null&&!ct?(Vh(i,s,f),si(i,s,f)):(Ce&&l&&_h(s),s.flags|=1,At(i,s,a,f),s.child)}function G_(i,s,a,l,f,d){return Bs(s),s.updateQueue=null,a=Wv(s,l,a,f),Kv(i),l=zh(),i!==null&&!ct?(Vh(i,s,d),si(i,s,d)):(Ce&&l&&_h(s),s.flags|=1,At(i,s,a,d),s.child)}function Y_(i,s,a,l,f){if(Bs(s),s.stateNode===null){var d=kr,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ct(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},kh(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ct(v):kr,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),lo(s,l,d,f),oo(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var S=s.memoizedProps,w=Ks(a,S);d.props=w;var O=d.context,U=a.contextType;v=kr,typeof U=="object"&&U!==null&&(v=Ct(U));var B=a.getDerivedStateFromProps;U=typeof B=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,U||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||O!==v)&&D_(s,d,l,v),Hi=!1;var I=s.memoizedState;d.state=I,lo(s,l,d,f),oo(),O=s.memoizedState,S||I!==O||Hi?(typeof B=="function"&&(ed(s,a,B,l),O=s.memoizedState),(w=Hi||M_(s,a,w,l,I,O,v))?(U||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=O),d.props=l,d.state=O,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Mh(i,s),v=s.memoizedProps,U=Ks(a,v),d.props=U,B=s.pendingProps,I=d.context,O=a.contextType,w=kr,typeof O=="object"&&O!==null&&(w=Ct(O)),S=a.getDerivedStateFromProps,(O=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==B||I!==w)&&D_(s,d,l,w),Hi=!1,I=s.memoizedState,d.state=I,lo(s,l,d,f),oo();var j=s.memoizedState;v!==B||I!==j||Hi||i!==null&&i.dependencies!==null&&oc(i.dependencies)?(typeof S=="function"&&(ed(s,a,S,l),j=s.memoizedState),(U=Hi||M_(s,a,U,l,I,j,w)||i!==null&&i.dependencies!==null&&oc(i.dependencies))?(O||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,w)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=j),d.props=l,d.state=j,d.context=w,l=U):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,Cc(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=Gs(s,i.child,null,f),s.child=Gs(s,null,a,f)):At(i,s,a,f),s.memoizedState=d.state,i=s.child):i=si(i,s,f),i}function K_(i,s,a,l){return zs(),s.flags|=256,At(i,s,a,l),s.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(i){return{baseLanes:i,cachePool:Pv()}}function od(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=rn),i}function W_(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=i!==null&&i.memoizedState===null?!1:(rt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ce){if(f?Gi(s):Yi(),(i=qe)?(i=nb(i,pn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ui!==null?{id:Un,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},a=Av(i),a.return=s,s.child=a,Tt=s,qe=null)):i=null,i===null)throw Vi(s);return Fd(i)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Yi(),f=s.mode,S=Ac({mode:"hidden",children:S},f),l=Us(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=ad(a),l.childLanes=od(i,v,a),s.memoizedState=rd,mo(null,l)):(Gi(s),ld(s,S))}var w=i.memoizedState;if(w!==null&&(S=w.dehydrated,S!==null)){if(d)s.flags&256?(Gi(s),s.flags&=-257,s=cd(i,s,a)):s.memoizedState!==null?(Yi(),s.child=i.child,s.flags|=128,s=null):(Yi(),S=l.fallback,f=s.mode,l=Ac({mode:"visible",children:l.children},f),S=Us(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Gs(s,i.child,null,a),l=s.child,l.memoizedState=ad(a),l.childLanes=od(i,v,a),s.memoizedState=rd,s=mo(null,l));else if(Gi(s),Fd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var O=v.dgst;v=O,l=Error(r(419)),l.stack="",l.digest=v,to({value:l,source:null,stack:null}),s=cd(i,s,a)}else if(ct||Ir(i,s,a,!1),v=(a&i.childLanes)!==0,ct||v){if(v=ze,v!==null&&(l=Iy(v,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,js(i,l),Yt(v,i,l),id;Hd(S)||Pc(),s=cd(i,s,a)}else Hd(S)?(s.flags|=192,s.child=i.child,s=null):(i=w.treeContext,qe=yn(S.nextSibling),Tt=s,Ce=!0,zi=null,pn=!1,i!==null&&kv(s,i),s=ld(s,l.children),s.flags|=4096);return s}return f?(Yi(),S=l.fallback,f=s.mode,w=i.child,O=w.sibling,l=Zn(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,O!==null?S=Zn(O,S):(S=Us(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,mo(null,l),l=s.child,S=i.child.memoizedState,S===null?S=ad(a):(f=S.cachePool,f!==null?(w=ot._currentValue,f=f.parent!==w?{parent:w,pool:w}:f):f=Pv(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=od(i,v,a),s.memoizedState=rd,mo(i.child,l)):(Gi(s),a=i.child,i=a.sibling,a=Zn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=a,s.memoizedState=null,a)}function ld(i,s){return s=Ac({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ac(i,s){return i=en(22,i,null,s),i.lanes=0,i}function cd(i,s,a){return Gs(s,i.child,null,a),i=ld(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function $_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),wh(i.return,s,a)}function ud(i,s,a,l,f,d){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function X_(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=rt.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,K(rt,v),At(i,s,l,a),l=Ce?eo:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$_(i,a,s);else if(i.tag===19)$_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&pc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ud(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&pc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}ud(s,!0,a,null,d,l);break;case"together":ud(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function si(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),$i|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ir(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Zn(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Zn(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function fd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&oc(i)))}function ER(i,s,a){switch(s.tag){case 3:ee(s,s.stateNode.containerInfo),Bi(s,ot,i.memoizedState.cache),zs();break;case 27:case 5:$t(s);break;case 4:ee(s,s.stateNode.containerInfo);break;case 10:Bi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ph(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?W_(i,s,a):(Gi(s),i=si(i,s,a),i!==null?i.sibling:null);Gi(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ir(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return X_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(rt,rt.current),l)break;return null;case 22:return s.lanes=0,H_(i,s,a,s.pendingProps);case 24:Bi(s,ot,i.memoizedState.cache)}return si(i,s,a)}function Q_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)ct=!0;else{if(!fd(i,a)&&(s.flags&128)===0)return ct=!1,ER(i,s,a);ct=(i.flags&131072)!==0}else ct=!1,Ce&&(s.flags&1048576)!==0&&Nv(s,eo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(i=Fs(s.elementType),s.type=i,typeof i=="function")gh(i)?(l=Ks(i,l),s.tag=1,s=Y_(null,s,i,l,a)):(s.tag=0,s=sd(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===F){s.tag=11,s=z_(null,s,i,l,a);break e}else if(f===$){s.tag=14,s=V_(null,s,i,l,a);break e}}throw s=zt(i)||i,Error(r(306,s,""))}}return s;case 0:return sd(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Ks(l,s.pendingProps),Y_(i,s,l,f,a);case 3:e:{if(ee(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Mh(i,s),lo(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Bi(s,ot,l),l!==d.cache&&Th(s,[ot],a,!0),oo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=K_(i,s,l,a);break e}else if(l!==f){f=hn(Error(r(424)),s),to(f),s=K_(i,s,l,a);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,qe=yn(i.firstChild),Tt=s,Ce=!0,zi=null,pn=!0,a=Hv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zs(),l===f){s=si(i,s,a);break e}At(i,s,l,a)}s=s.child}return s;case 26:return Cc(i,s),i===null?(a=lb(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ce||(a=s.type,i=s.pendingProps,l=Fc(de.current).createElement(a),l[wt]=s,l[Vt]=i,Rt(l,a,i),gt(l),s.stateNode=l):s.memoizedState=lb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return $t(s),i===null&&Ce&&(l=s.stateNode=rb(s.type,s.pendingProps,de.current),Tt=s,pn=!0,f=qe,es(s.type)?(qd=f,qe=yn(l.firstChild)):qe=f),At(i,s,s.pendingProps.children,a),Cc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ce&&((f=l=qe)&&(l=JR(l,s.type,s.pendingProps,pn),l!==null?(s.stateNode=l,Tt=s,qe=yn(l.firstChild),pn=!1,f=!0):f=!1),f||Vi(s)),$t(s),f=s.type,d=s.pendingProps,v=i!==null?i.memoizedProps:null,l=d.children,zd(f,d)?l=null:v!==null&&zd(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Uh(i,s,mR,null,null,a),No._currentValue=f),Cc(i,s),At(i,s,l,a),s.child;case 6:return i===null&&Ce&&((i=a=qe)&&(a=eN(a,s.pendingProps,pn),a!==null?(s.stateNode=a,Tt=s,qe=null,i=!0):i=!1),i||Vi(s)),null;case 13:return W_(i,s,a);case 4:return ee(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Gs(s,null,l,a):At(i,s,l,a),s.child;case 11:return z_(i,s,s.type,s.pendingProps,a);case 7:return At(i,s,s.pendingProps,a),s.child;case 8:return At(i,s,s.pendingProps.children,a),s.child;case 12:return At(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bi(s,s.type,l.value),At(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Bs(s),f=Ct(f),l=l(f),s.flags|=1,At(i,s,l,a),s.child;case 14:return V_(i,s,s.type,s.pendingProps,a);case 15:return B_(i,s,s.type,s.pendingProps,a);case 19:return X_(i,s,a);case 31:return xR(i,s,a);case 22:return H_(i,s,a,s.pendingProps);case 24:return Bs(s),l=Ct(ot),i===null?(f=Rh(),f===null&&(f=ze,d=Ch(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},kh(s),Bi(s,ot,f)):((i.lanes&a)!==0&&(Mh(i,s),lo(s,null,null,a),oo()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Bi(s,ot,l)):(l=d.cache,Bi(s,ot,l),l!==f.cache&&Th(s,[ot],a,!0))),At(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ri(i){i.flags|=4}function hd(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(w0())i.flags|=8192;else throw qs=fc,Nh}else i.flags&=-16777217}function Z_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!db(s))if(w0())i.flags|=8192;else throw qs=fc,Nh}function Rc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?My():536870912,i.lanes|=s,Yr|=s)}function po(i,s){if(!Ce)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Ge(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function wR(i,s,a){var l=s.pendingProps;switch(bh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(s),null;case 1:return Ge(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ti(ot),xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Or(s)?ri(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xh())),Ge(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(ri(s),d!==null?(Ge(s),Z_(s,d)):(Ge(s),hd(s,f,null,l,a))):d?d!==i.memoizedState?(ri(s),Ge(s),Z_(s,d)):(Ge(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&ri(s),Ge(s),hd(s,f,i,l,a)),null;case 27:if(jn(s),a=de.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ri(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ge(s),null}i=Z.current,Or(s)?Mv(s):(i=rb(f,l,a),s.stateNode=i,ri(s))}return Ge(s),null;case 5:if(jn(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ri(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ge(s),null}if(d=Z.current,Or(s))Mv(s);else{var v=Fc(de.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[wt]=s,d[Vt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(Rt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ri(s)}}return Ge(s),hd(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ri(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=de.current,Or(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Tt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[wt]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W0(i.nodeValue,a)),i||Vi(s,!0)}else i=Fc(i).createTextNode(l),i[wt]=s,s.stateNode=i}return Ge(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Or(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[wt]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ge(s),i=!1}else a=xh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(nn(s),s):(nn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ge(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Or(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[wt]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ge(s),f=!1}else f=xh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(nn(s),s):(nn(s),null)}return nn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Rc(s,s.updateQueue),Ge(s),null);case 4:return xe(),i===null&&Id(s.stateNode.containerInfo),Ge(s),null;case 10:return ti(s.type),Ge(s),null;case 19:if(H(rt),l=s.memoizedState,l===null)return Ge(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)po(l,!1);else{if(nt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=pc(i),d!==null){for(s.flags|=128,po(l,!1),i=d.updateQueue,s.updateQueue=i,Rc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Cv(a,i),a=a.sibling;return K(rt,rt.current&1|2),Ce&&Jn(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&Xt()>Oc&&(s.flags|=128,f=!0,po(l,!1),s.lanes=4194304)}else{if(!f)if(i=pc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Rc(s,i),po(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ce)return Ge(s),null}else 2*Xt()-l.renderingStartTime>Oc&&a!==536870912&&(s.flags|=128,f=!0,po(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=Xt(),i.sibling=null,a=rt.current,K(rt,f?a&1|2:a&1),Ce&&Jn(s,l.treeForkCount),i):(Ge(s),null);case 22:case 23:return nn(s),Lh(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Ge(s),s.subtreeFlags&6&&(s.flags|=8192)):Ge(s),a=s.updateQueue,a!==null&&Rc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&H(Hs),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ti(ot),Ge(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TR(i,s){switch(bh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ti(ot),xe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return jn(s),null;case 31:if(s.memoizedState!==null){if(nn(s),s.alternate===null)throw Error(r(340));zs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(nn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));zs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return H(rt),null;case 4:return xe(),null;case 10:return ti(s.type),null;case 22:case 23:return nn(s),Lh(),i!==null&&H(Hs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ti(ot),null;case 25:return null;default:return null}}function J_(i,s){switch(bh(s),s.tag){case 3:ti(ot),xe();break;case 26:case 27:case 5:jn(s);break;case 4:xe();break;case 31:s.memoizedState!==null&&nn(s);break;case 13:nn(s);break;case 19:H(rt);break;case 10:ti(s.type);break;case 22:case 23:nn(s),Lh(),i!==null&&H(Hs);break;case 24:ti(ot)}}function go(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){Ie(s,s.return,S)}}function Ki(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=s;var w=a,O=S;try{O()}catch(U){Ie(f,w,U)}}}l=l.next}while(l!==d)}}catch(U){Ie(s,s.return,U)}}function e0(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{qv(s,a)}catch(l){Ie(i,i.return,l)}}}function t0(i,s,a){a.props=Ks(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Ie(i,s,l)}}function yo(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Ie(i,s,f)}}function Vn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ie(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ie(i,s,f)}else a.current=null}function n0(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ie(i,i.return,f)}}function dd(i,s,a){try{var l=i.stateNode;KR(l,i.type,a,s),l[Vt]=s}catch(f){Ie(i,i.return,f)}}function i0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&es(i.type)||i.tag===4}function md(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||i0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&es(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pd(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Xn));else if(l!==4&&(l===27&&es(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(pd(i,s,a),i=i.sibling;i!==null;)pd(i,s,a),i=i.sibling}function Nc(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&es(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Nc(i,s,a),i=i.sibling;i!==null;)Nc(i,s,a),i=i.sibling}function s0(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Rt(s,l,a),s[wt]=i,s[Vt]=a}catch(d){Ie(i,i.return,d)}}var ai=!1,ut=!1,gd=!1,r0=typeof WeakSet=="function"?WeakSet:Set,yt=null;function CR(i,s){if(i=i.containerInfo,jd=Xc,i=yv(i),ch(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,w=-1,O=0,U=0,B=i,I=null;t:for(;;){for(var j;B!==a||f!==0&&B.nodeType!==3||(S=v+f),B!==d||l!==0&&B.nodeType!==3||(w=v+l),B.nodeType===3&&(v+=B.nodeValue.length),(j=B.firstChild)!==null;)I=B,B=j;for(;;){if(B===i)break t;if(I===a&&++O===f&&(S=v),I===d&&++U===l&&(w=v),(j=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=j}a=S===-1||w===-1?null:{start:S,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:i,selectionRange:a},Xc=!1,yt=s;yt!==null;)if(s=yt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,yt=i;else for(;yt!==null;){switch(s=yt,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var X=Ks(a.type,f);i=l.getSnapshotBeforeUpdate(X,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(re){Ie(a,a.return,re)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Bd(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,yt=i;break}yt=s.return}}function a0(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:li(i,a),l&4&&go(5,a);break;case 1:if(li(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(v){Ie(a,a.return,v)}else{var f=Ks(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Ie(a,a.return,v)}}l&64&&e0(a),l&512&&yo(a,a.return);break;case 3:if(li(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{qv(i,s)}catch(v){Ie(a,a.return,v)}}break;case 27:s===null&&l&4&&s0(a);case 26:case 5:li(i,a),s===null&&l&4&&n0(a),l&512&&yo(a,a.return);break;case 12:li(i,a);break;case 31:li(i,a),l&4&&c0(i,a);break;case 13:li(i,a),l&4&&u0(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=LR.bind(null,a),tN(i,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){s=s!==null&&s.memoizedState!==null||ut,f=ai;var d=ut;ai=l,(ut=s)&&!d?ci(i,a,(a.subtreeFlags&8772)!==0):li(i,a),ai=f,ut=d}break;case 30:break;default:li(i,a)}}function o0(i){var s=i.alternate;s!==null&&(i.alternate=null,o0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Yf(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,Ht=!1;function oi(i,s,a){for(a=a.child;a!==null;)l0(i,s,a),a=a.sibling}function l0(i,s,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Va,a)}catch{}switch(a.tag){case 26:ut||Vn(a,s),oi(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Vn(a,s);var l=$e,f=Ht;es(a.type)&&($e=a.stateNode,Ht=!1),oi(i,s,a),Co(a.stateNode),$e=l,Ht=f;break;case 5:ut||Vn(a,s);case 6:if(l=$e,f=Ht,$e=null,oi(i,s,a),$e=l,Ht=f,$e!==null)if(Ht)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(d){Ie(a,s,d)}else try{$e.removeChild(a.stateNode)}catch(d){Ie(a,s,d)}break;case 18:$e!==null&&(Ht?(i=$e,eb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),ea(i)):eb($e,a.stateNode));break;case 4:l=$e,f=Ht,$e=a.stateNode.containerInfo,Ht=!0,oi(i,s,a),$e=l,Ht=f;break;case 0:case 11:case 14:case 15:Ki(2,a,s),ut||Ki(4,a,s),oi(i,s,a);break;case 1:ut||(Vn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t0(a,s,l)),oi(i,s,a);break;case 21:oi(i,s,a);break;case 22:ut=(l=ut)||a.memoizedState!==null,oi(i,s,a),ut=l;break;default:oi(i,s,a)}}function c0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ea(i)}catch(a){Ie(s,s.return,a)}}}function u0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ea(i)}catch(a){Ie(s,s.return,a)}}function AR(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new r0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new r0),s;default:throw Error(r(435,i.tag))}}function kc(i,s){var a=AR(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=PR.bind(null,i,l);l.then(f,f)}})}function Ft(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(es(S.type)){$e=S.stateNode,Ht=!1;break e}break;case 5:$e=S.stateNode,Ht=!1;break e;case 3:case 4:$e=S.stateNode.containerInfo,Ht=!0;break e}S=S.return}if($e===null)throw Error(r(160));l0(d,v,f),$e=null,Ht=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)f0(s,i),s=s.sibling}var Cn=null;function f0(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ft(s,i),qt(i),l&4&&(Ki(3,i,i.return),go(3,i),Ki(5,i,i.return));break;case 1:Ft(s,i),qt(i),l&512&&(ut||a===null||Vn(a,a.return)),l&64&&ai&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Cn;if(Ft(s,i),qt(i),l&512&&(ut||a===null||Vn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Fa]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Rt(d,l,a),d[wt]=i,gt(d),l=d;break e;case"link":var v=fb("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),Rt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=fb("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=f.createElement(l),Rt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[wt]=i,gt(d),l=d}i.stateNode=l}else hb(f,i.type,i.stateNode);else i.stateNode=ub(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hb(f,i.type,i.stateNode):ub(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&dd(i,i.memoizedProps,a.memoizedProps)}break;case 27:Ft(s,i),qt(i),l&512&&(ut||a===null||Vn(a,a.return)),a!==null&&l&4&&dd(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Ft(s,i),qt(i),l&512&&(ut||a===null||Vn(a,a.return)),i.flags&32){f=i.stateNode;try{Er(f,"")}catch(X){Ie(i,i.return,X)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,dd(i,f,a!==null?a.memoizedProps:f)),l&1024&&(gd=!0);break;case 6:if(Ft(s,i),qt(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(X){Ie(i,i.return,X)}}break;case 3:if(Yc=null,f=Cn,Cn=qc(s.containerInfo),Ft(s,i),Cn=f,qt(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ea(s.containerInfo)}catch(X){Ie(i,i.return,X)}gd&&(gd=!1,h0(i));break;case 4:l=Cn,Cn=qc(i.stateNode.containerInfo),Ft(s,i),qt(i),Cn=l;break;case 12:Ft(s,i),qt(i);break;case 31:Ft(s,i),qt(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,kc(i,l)));break;case 13:Ft(s,i),qt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=Xt()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,kc(i,l)));break;case 22:f=i.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,O=ai,U=ut;if(ai=O||f,ut=U||w,Ft(s,i),ut=U,ai=O,qt(i),l&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||w||ai||ut||Ws(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){w=a=s;try{if(d=w.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=w.stateNode;var B=w.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(X){Ie(w,w.return,X)}}}else if(s.tag===6){if(a===null){w=s;try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(X){Ie(w,w.return,X)}}}else if(s.tag===18){if(a===null){w=s;try{var j=w.stateNode;f?tb(j,!0):tb(w.stateNode,!1)}catch(X){Ie(w,w.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(i,a))));break;case 19:Ft(s,i),qt(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,kc(i,l)));break;case 30:break;case 21:break;default:Ft(s,i),qt(i)}}function qt(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(i0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=md(i);Nc(i,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Er(v,""),a.flags&=-33);var S=md(i);Nc(i,S,v);break;case 3:case 4:var w=a.stateNode.containerInfo,O=md(i);pd(i,O,w);break;default:throw Error(r(161))}}catch(U){Ie(i,i.return,U)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function h0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;h0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function li(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)a0(i,s.alternate,s),s=s.sibling}function Ws(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ki(4,s,s.return),Ws(s);break;case 1:Vn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&t0(s,s.return,a),Ws(s);break;case 27:Co(s.stateNode);case 26:case 5:Vn(s,s.return),Ws(s);break;case 22:s.memoizedState===null&&Ws(s);break;case 30:Ws(s);break;default:Ws(s)}i=i.sibling}}function ci(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:ci(f,d,a),go(4,d);break;case 1:if(ci(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){Ie(l,l.return,O)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)Fv(w[f],S)}catch(O){Ie(l,l.return,O)}}a&&v&64&&e0(d),yo(d,d.return);break;case 27:s0(d);case 26:case 5:ci(f,d,a),a&&l===null&&v&4&&n0(d),yo(d,d.return);break;case 12:ci(f,d,a);break;case 31:ci(f,d,a),a&&v&4&&c0(f,d);break;case 13:ci(f,d,a),a&&v&4&&u0(f,d);break;case 22:d.memoizedState===null&&ci(f,d,a),yo(d,d.return);break;case 30:break;default:ci(f,d,a)}s=s.sibling}}function yd(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&no(a))}function vd(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&no(i))}function An(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(i,s,a,l),s=s.sibling}function d0(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:An(i,s,a,l),f&2048&&go(9,s);break;case 1:An(i,s,a,l);break;case 3:An(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&no(i)));break;case 12:if(f&2048){An(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(w){Ie(s,s.return,w)}}else An(i,s,a,l);break;case 31:An(i,s,a,l);break;case 13:An(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?An(i,s,a,l):vo(i,s):d._visibility&2?An(i,s,a,l):(d._visibility|=2,Fr(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&yd(v,s);break;case 24:An(i,s,a,l),f&2048&&vd(s.alternate,s);break;default:An(i,s,a,l)}}function Fr(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,v=s,S=a,w=l,O=v.flags;switch(v.tag){case 0:case 11:case 15:Fr(d,v,S,w,f),go(8,v);break;case 23:break;case 22:var U=v.stateNode;v.memoizedState!==null?U._visibility&2?Fr(d,v,S,w,f):vo(d,v):(U._visibility|=2,Fr(d,v,S,w,f)),f&&O&2048&&yd(v.alternate,v);break;case 24:Fr(d,v,S,w,f),f&&O&2048&&vd(v.alternate,v);break;default:Fr(d,v,S,w,f)}s=s.sibling}}function vo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:vo(a,l),f&2048&&yd(l.alternate,l);break;case 24:vo(a,l),f&2048&&vd(l.alternate,l);break;default:vo(a,l)}s=s.sibling}}var _o=8192;function qr(i,s,a){if(i.subtreeFlags&_o)for(i=i.child;i!==null;)m0(i,s,a),i=i.sibling}function m0(i,s,a){switch(i.tag){case 26:qr(i,s,a),i.flags&_o&&i.memoizedState!==null&&dN(a,Cn,i.memoizedState,i.memoizedProps);break;case 5:qr(i,s,a);break;case 3:case 4:var l=Cn;Cn=qc(i.stateNode.containerInfo),qr(i,s,a),Cn=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=_o,_o=16777216,qr(i,s,a),_o=l):qr(i,s,a));break;default:qr(i,s,a)}}function p0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function bo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];yt=l,y0(l,i)}p0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g0(i),i=i.sibling}function g0(i){switch(i.tag){case 0:case 11:case 15:bo(i),i.flags&2048&&Ki(9,i,i.return);break;case 3:bo(i);break;case 12:bo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Mc(i)):bo(i);break;default:bo(i)}}function Mc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];yt=l,y0(l,i)}p0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ki(8,s,s.return),Mc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(s));break;default:Mc(s)}i=i.sibling}}function y0(i,s){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:no(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,yt=l;else e:for(a=i;yt!==null;){l=yt;var f=l.sibling,d=l.return;if(o0(l),l===a){yt=null;break e}if(f!==null){f.return=d,yt=f;break e}yt=d}}}var RR={getCacheForType:function(i){var s=Ct(ot),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Ct(ot).controller.signal}},NR=typeof WeakMap=="function"?WeakMap:Map,Me=0,ze=null,ve=null,Ee=0,Oe=0,sn=null,Wi=!1,Gr=!1,_d=!1,ui=0,nt=0,$i=0,$s=0,bd=0,rn=0,Yr=0,So=null,Gt=null,Sd=!1,Dc=0,v0=0,Oc=1/0,Ic=null,Xi=null,ht=0,Qi=null,Kr=null,fi=0,xd=0,Ed=null,_0=null,xo=0,wd=null;function an(){return(Me&2)!==0&&Ee!==0?Ee&-Ee:z.T!==null?kd():Ly()}function b0(){if(rn===0)if((Ee&536870912)===0||Ce){var i=Hl;Hl<<=1,(Hl&3932160)===0&&(Hl=262144),rn=i}else rn=536870912;return i=tn.current,i!==null&&(i.flags|=32),rn}function Yt(i,s,a){(i===ze&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)&&(Wr(i,0),Zi(i,Ee,rn,!1)),Ha(i,a),((Me&2)===0||i!==ze)&&(i===ze&&((Me&2)===0&&($s|=a),nt===4&&Zi(i,Ee,rn,!1)),Bn(i))}function S0(i,s,a){if((Me&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Ba(i,s),f=l?DR(i,s):Cd(i,s,!0),d=l;do{if(f===0){Gr&&!l&&Zi(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!kR(a)){f=Cd(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=i;f=So;var w=S.current.memoizedState.isDehydrated;if(w&&(Wr(S,v).flags|=256),v=Cd(S,v,!1),v!==2){if(_d&&!w){S.errorRecoveryDisabledLanes|=d,$s|=d,f=4;break e}d=Gt,Gt=f,d!==null&&(Gt===null?Gt=d:Gt.push.apply(Gt,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Wr(i,0),Zi(i,s,0,!0);break}e:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Zi(l,s,rn,!Wi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Dc+300-Xt(),10<f)){if(Zi(l,s,rn,!Wi),ql(l,0,!0)!==0)break e;fi=s,l.timeoutHandle=Z0(x0.bind(null,l,a,Gt,Ic,Sd,s,rn,$s,Yr,Wi,d,"Throttled",-0,0),f);break e}x0(l,a,Gt,Ic,Sd,s,rn,$s,Yr,Wi,d,null,-0,0)}}break}while(!0);Bn(i)}function x0(i,s,a,l,f,d,v,S,w,O,U,B,I,j){if(i.timeoutHandle=-1,B=s.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},m0(s,d,B);var X=(d&62914560)===d?Dc-Xt():(d&4194048)===d?v0-Xt():0;if(X=mN(B,X),X!==null){fi=d,i.cancelPendingCommit=X(k0.bind(null,i,s,d,a,l,f,v,S,w,U,B,null,I,j)),Zi(i,d,v,!O);return}}k0(i,s,d,a,l,f,v,S,w)}function kR(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Jt(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zi(i,s,a,l){s&=~bd,s&=~$s,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-Zt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Dy(i,a,s)}function Lc(){return(Me&6)===0?(Eo(0),!1):!0}function Td(){if(ve!==null){if(Oe===0)var i=ve.return;else i=ve,ei=Vs=null,Bh(i),Ur=null,so=0,i=ve;for(;i!==null;)J_(i.alternate,i),i=i.return;ve=null}}function Wr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,XR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),fi=0,Td(),ze=i,ve=a=Zn(i.current,null),Ee=s,Oe=0,sn=null,Wi=!1,Gr=Ba(i,s),_d=!1,Yr=rn=bd=$s=$i=nt=0,Gt=So=null,Sd=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-Zt(l),d=1<<f;s|=i[f],l&=~d}return ui=s,nc(),a}function E0(i,s){fe=null,z.H=ho,s===jr||s===uc?(s=zv(),Oe=3):s===Nh?(s=zv(),Oe=4):Oe=s===id?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sn=s,ve===null&&(nt=1,wc(i,hn(s,i.current)))}function w0(){var i=tn.current;return i===null?!0:(Ee&4194048)===Ee?gn===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?i===gn:!1}function T0(){var i=z.H;return z.H=ho,i===null?ho:i}function C0(){var i=z.A;return z.A=RR,i}function Pc(){nt=4,Wi||(Ee&4194048)!==Ee&&tn.current!==null||(Gr=!0),($i&134217727)===0&&($s&134217727)===0||ze===null||Zi(ze,Ee,rn,!1)}function Cd(i,s,a){var l=Me;Me|=2;var f=T0(),d=C0();(ze!==i||Ee!==s)&&(Ic=null,Wr(i,s)),s=!1;var v=nt;e:do try{if(Oe!==0&&ve!==null){var S=ve,w=sn;switch(Oe){case 8:Td(),v=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(s=!0);var O=Oe;if(Oe=0,sn=null,$r(i,S,w,O),a&&Gr){v=0;break e}break;default:O=Oe,Oe=0,sn=null,$r(i,S,w,O)}}MR(),v=nt;break}catch(U){E0(i,U)}while(!0);return s&&i.shellSuspendCounter++,ei=Vs=null,Me=l,z.H=f,z.A=d,ve===null&&(ze=null,Ee=0,nc()),v}function MR(){for(;ve!==null;)A0(ve)}function DR(i,s){var a=Me;Me|=2;var l=T0(),f=C0();ze!==i||Ee!==s?(Ic=null,Oc=Xt()+500,Wr(i,s)):Gr=Ba(i,s);e:do try{if(Oe!==0&&ve!==null){s=ve;var d=sn;t:switch(Oe){case 1:Oe=0,sn=null,$r(i,s,d,1);break;case 2:case 9:if(jv(d)){Oe=0,sn=null,R0(s);break}s=function(){Oe!==2&&Oe!==9||ze!==i||(Oe=7),Bn(i)},d.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:jv(d)?(Oe=0,sn=null,R0(s)):(Oe=0,sn=null,$r(i,s,d,7));break;case 5:var v=null;switch(ve.tag){case 26:v=ve.memoizedState;case 5:case 27:var S=ve;if(v?db(v):S.stateNode.complete){Oe=0,sn=null;var w=S.sibling;if(w!==null)ve=w;else{var O=S.return;O!==null?(ve=O,jc(O)):ve=null}break t}}Oe=0,sn=null,$r(i,s,d,5);break;case 6:Oe=0,sn=null,$r(i,s,d,6);break;case 8:Td(),nt=6;break e;default:throw Error(r(462))}}OR();break}catch(U){E0(i,U)}while(!0);return ei=Vs=null,z.H=l,z.A=f,Me=a,ve!==null?0:(ze=null,Ee=0,nc(),nt)}function OR(){for(;ve!==null&&!nA();)A0(ve)}function A0(i){var s=Q_(i.alternate,i,ui);i.memoizedProps=i.pendingProps,s===null?jc(i):ve=s}function R0(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=G_(a,s,s.pendingProps,s.type,void 0,Ee);break;case 11:s=G_(a,s,s.pendingProps,s.type.render,s.ref,Ee);break;case 5:Bh(s);default:J_(a,s),s=ve=Cv(s,ui),s=Q_(a,s,ui)}i.memoizedProps=i.pendingProps,s===null?jc(i):ve=s}function $r(i,s,a,l){ei=Vs=null,Bh(s),Ur=null,so=0;var f=s.return;try{if(SR(i,f,s,a,Ee)){nt=1,wc(i,hn(a,i.current)),ve=null;return}}catch(d){if(f!==null)throw ve=f,d;nt=1,wc(i,hn(a,i.current)),ve=null;return}s.flags&32768?(Ce||l===1?i=!0:Gr||(Ee&536870912)!==0?i=!1:(Wi=i=!0,(l===2||l===9||l===3||l===6)&&(l=tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),N0(s,i)):jc(s)}function jc(i){var s=i;do{if((s.flags&32768)!==0){N0(s,Wi);return}i=s.return;var a=wR(s.alternate,s,ui);if(a!==null){ve=a;return}if(s=s.sibling,s!==null){ve=s;return}ve=s=i}while(s!==null);nt===0&&(nt=5)}function N0(i,s){do{var a=TR(i.alternate,i);if(a!==null){a.flags&=32767,ve=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){ve=i;return}ve=i=a}while(i!==null);nt=6,ve=null}function k0(i,s,a,l,f,d,v,S,w){i.cancelPendingCommit=null;do Uc();while(ht!==0);if((Me&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=mh,hA(i,a,d,v,S,w),i===ze&&(ve=ze=null,Ee=0),Kr=s,Qi=i,fi=a,xd=d,Ed=f,_0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jR(Vl,function(){return L0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,f=q.p,q.p=2,v=Me,Me|=4;try{CR(i,s,a)}finally{Me=v,q.p=f,z.T=l}}ht=1,M0(),D0(),O0()}}function M0(){if(ht===1){ht=0;var i=Qi,s=Kr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=q.p;q.p=2;var f=Me;Me|=4;try{f0(s,i);var d=Ud,v=yv(i.containerInfo),S=d.focusedElem,w=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&gv(S.ownerDocument.documentElement,S)){if(w!==null&&ch(S)){var O=w.start,U=w.end;if(U===void 0&&(U=O),"selectionStart"in S)S.selectionStart=O,S.selectionEnd=Math.min(U,S.value.length);else{var B=S.ownerDocument||document,I=B&&B.defaultView||window;if(I.getSelection){var j=I.getSelection(),X=S.textContent.length,re=Math.min(w.start,X),je=w.end===void 0?re:Math.min(w.end,X);!j.extend&&re>je&&(v=je,je=re,re=v);var R=pv(S,re),C=pv(S,je);if(R&&C&&(j.rangeCount!==1||j.anchorNode!==R.node||j.anchorOffset!==R.offset||j.focusNode!==C.node||j.focusOffset!==C.offset)){var D=B.createRange();D.setStart(R.node,R.offset),j.removeAllRanges(),re>je?(j.addRange(D),j.extend(C.node,C.offset)):(D.setEnd(C.node,C.offset),j.addRange(D))}}}}for(B=[],j=S;j=j.parentNode;)j.nodeType===1&&B.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<B.length;S++){var V=B[S];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Xc=!!jd,Ud=jd=null}finally{Me=f,q.p=l,z.T=a}}i.current=s,ht=2}}function D0(){if(ht===2){ht=0;var i=Qi,s=Kr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=q.p;q.p=2;var f=Me;Me|=4;try{a0(i,s.alternate,s)}finally{Me=f,q.p=l,z.T=a}}ht=3}}function O0(){if(ht===4||ht===3){ht=0,iA();var i=Qi,s=Kr,a=fi,l=_0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ht=5:(ht=0,Kr=Qi=null,I0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Xi=null),qf(a),s=s.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Va,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=z.T,f=q.p,q.p=2,z.T=null;try{for(var d=i.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{z.T=s,q.p=f}}(fi&3)!==0&&Uc(),Bn(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===wd?xo++:(xo=0,wd=i):xo=0,Eo(0)}}function I0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,no(s)))}function Uc(){return M0(),D0(),O0(),L0()}function L0(){if(ht!==5)return!1;var i=Qi,s=xd;xd=0;var a=qf(fi),l=z.T,f=q.p;try{q.p=32>a?32:a,z.T=null,a=Ed,Ed=null;var d=Qi,v=fi;if(ht=0,Kr=Qi=null,fi=0,(Me&6)!==0)throw Error(r(331));var S=Me;if(Me|=4,g0(d.current),d0(d,d.current,v,a),Me=S,Eo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Va,d)}catch{}return!0}finally{q.p=f,z.T=l,I0(i,s)}}function P0(i,s,a){s=hn(a,s),s=nd(i.stateNode,s,2),i=qi(i,s,2),i!==null&&(Ha(i,2),Bn(i))}function Ie(i,s,a){if(i.tag===3)P0(i,i,a);else for(;s!==null;){if(s.tag===3){P0(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){i=hn(a,i),a=j_(2),l=qi(s,a,2),l!==null&&(U_(a,l,s,i),Ha(l,2),Bn(l));break}}s=s.return}}function Ad(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new NR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(_d=!0,f.add(a),i=IR.bind(null,i,s,a),s.then(i,i))}function IR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ze===i&&(Ee&a)===a&&(nt===4||nt===3&&(Ee&62914560)===Ee&&300>Xt()-Dc?(Me&2)===0&&Wr(i,0):bd|=a,Yr===Ee&&(Yr=0)),Bn(i)}function j0(i,s){s===0&&(s=My()),i=js(i,s),i!==null&&(Ha(i,s),Bn(i))}function LR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),j0(i,a)}function PR(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),j0(i,a)}function jR(i,s){return Vf(i,s)}var zc=null,Xr=null,Rd=!1,Vc=!1,Nd=!1,Ji=0;function Bn(i){i!==Xr&&i.next===null&&(Xr===null?zc=Xr=i:Xr=Xr.next=i),Vc=!0,Rd||(Rd=!0,zR())}function Eo(i,s){if(!Nd&&Vc){Nd=!0;do for(var a=!1,l=zc;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Zt(42|i)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,B0(l,d))}else d=Ee,d=ql(l,l===ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ba(l,d)||(a=!0,B0(l,d));l=l.next}while(a);Nd=!1}}function UR(){U0()}function U0(){Vc=Rd=!1;var i=0;Ji!==0&&$R()&&(i=Ji);for(var s=Xt(),a=null,l=zc;l!==null;){var f=l.next,d=z0(l,s);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&(Xr=a)):(a=l,(i!==0||(d&3)!==0)&&(Vc=!0)),l=f}ht!==0&&ht!==5||Eo(i),Ji!==0&&(Ji=0)}function z0(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var v=31-Zt(d),S=1<<v,w=f[v];w===-1?((S&a)===0||(S&l)!==0)&&(f[v]=fA(S,s)):w<=s&&(i.expiredLanes|=S),d&=~S}if(s=ze,a=Ee,a=ql(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Bf(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ba(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Bf(l),qf(a)){case 2:case 8:a=Ny;break;case 32:a=Vl;break;case 268435456:a=ky;break;default:a=Vl}return l=V0.bind(null,i),a=Vf(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Bf(l),i.callbackPriority=2,i.callbackNode=null,2}function V0(i,s){if(ht!==0&&ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Uc()&&i.callbackNode!==a)return null;var l=Ee;return l=ql(i,i===ze?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(S0(i,l,s),z0(i,Xt()),i.callbackNode!=null&&i.callbackNode===a?V0.bind(null,i):null)}function B0(i,s){if(Uc())return null;S0(i,s,!0)}function zR(){QR(function(){(Me&6)!==0?Vf(Ry,UR):U0()})}function kd(){if(Ji===0){var i=Lr;i===0&&(i=Bl,Bl<<=1,(Bl&261888)===0&&(Bl=256)),Ji=i}return Ji}function H0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wl(""+i)}function F0(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function VR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=H0((f[Vt]||null).action),v=l.submitter;v&&(s=(s=v[Vt]||null)?H0(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var S=new Zl("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ji!==0){var w=v?F0(f,v):new FormData(f);Xh(a,{pending:!0,data:w,method:f.method,action:d},null,w)}}else typeof d=="function"&&(S.preventDefault(),w=v?F0(f,v):new FormData(f),Xh(a,{pending:!0,data:w,method:f.method,action:d},d,w))},currentTarget:f}]})}}for(var Md=0;Md<dh.length;Md++){var Dd=dh[Md],BR=Dd.toLowerCase(),HR=Dd[0].toUpperCase()+Dd.slice(1);Tn(BR,"on"+HR)}Tn(bv,"onAnimationEnd"),Tn(Sv,"onAnimationIteration"),Tn(xv,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(sR,"onTransitionRun"),Tn(rR,"onTransitionStart"),Tn(aR,"onTransitionCancel"),Tn(Ev,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Os("onBeforeInput",["compositionend","keypress","textInput","paste"]),Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function q0(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var S=l[v],w=S.instance,O=S.currentTarget;if(S=S.listener,w!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=O;try{d(f)}catch(U){tc(U)}f.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(S=l[v],w=S.instance,O=S.currentTarget,S=S.listener,w!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=O;try{d(f)}catch(U){tc(U)}f.currentTarget=null,d=w}}}}function _e(i,s){var a=s[Gf];a===void 0&&(a=s[Gf]=new Set);var l=i+"__bubble";a.has(l)||(G0(s,i,2,!1),a.add(l))}function Od(i,s,a){var l=0;s&&(l|=4),G0(a,i,l,s)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Id(i){if(!i[Bc]){i[Bc]=!0,Uy.forEach(function(a){a!=="selectionchange"&&(FR.has(a)||Od(a,!1,i),Od(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Bc]||(s[Bc]=!0,Od("selectionchange",!1,s))}}function G0(i,s,a,l){switch(bb(s)){case 2:var f=yN;break;case 8:f=vN;break;default:f=$d}a=f.bind(null,s,a,i),f=void 0,!eh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Ld(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=vr(S),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Xy(function(){var O=d,U=Zf(a),B=[];e:{var I=wv.get(i);if(I!==void 0){var j=Zl,X=i;switch(i){case"keypress":if(Xl(a)===0)break e;case"keydown":case"keyup":j=PA;break;case"focusin":X="focus",j=sh;break;case"focusout":X="blur",j=sh;break;case"beforeblur":case"afterblur":j=sh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=zA;break;case bv:case Sv:case xv:j=AA;break;case Ev:j=BA;break;case"scroll":case"scrollend":j=xA;break;case"wheel":j=FA;break;case"copy":case"cut":case"paste":j=NA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=tv;break;case"toggle":case"beforetoggle":j=GA}var re=(s&4)!==0,je=!re&&(i==="scroll"||i==="scrollend"),R=re?I!==null?I+"Capture":null:I;re=[];for(var C=O,D;C!==null;){var V=C;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||R===null||(V=Ga(C,R),V!=null&&re.push(To(C,V,D))),je)break;C=C.return}0<re.length&&(I=new j(I,X,null,a,U),B.push({event:I,listeners:re}))}}if((s&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",j=i==="mouseout"||i==="pointerout",I&&a!==Qf&&(X=a.relatedTarget||a.fromElement)&&(vr(X)||X[yr]))break e;if((j||I)&&(I=U.window===U?U:(I=U.ownerDocument)?I.defaultView||I.parentWindow:window,j?(X=a.relatedTarget||a.toElement,j=O,X=X?vr(X):null,X!==null&&(je=c(X),re=X.tag,X!==je||re!==5&&re!==27&&re!==6)&&(X=null)):(j=null,X=O),j!==X)){if(re=Jy,V="onMouseLeave",R="onMouseEnter",C="mouse",(i==="pointerout"||i==="pointerover")&&(re=tv,V="onPointerLeave",R="onPointerEnter",C="pointer"),je=j==null?I:qa(j),D=X==null?I:qa(X),I=new re(V,C+"leave",j,a,U),I.target=je,I.relatedTarget=D,V=null,vr(U)===O&&(re=new re(R,C+"enter",X,a,U),re.target=D,re.relatedTarget=je,V=re),je=V,j&&X)t:{for(re=qR,R=j,C=X,D=0,V=R;V;V=re(V))D++;V=0;for(var ne=C;ne;ne=re(ne))V++;for(;0<D-V;)R=re(R),D--;for(;0<V-D;)C=re(C),V--;for(;D--;){if(R===C||C!==null&&R===C.alternate){re=R;break t}R=re(R),C=re(C)}re=null}else re=null;j!==null&&Y0(B,I,j,re,!1),X!==null&&je!==null&&Y0(B,je,X,re,!0)}}e:{if(I=O?qa(O):window,j=I.nodeName&&I.nodeName.toLowerCase(),j==="select"||j==="input"&&I.type==="file")var Re=cv;else if(ov(I))if(uv)Re=tR;else{Re=JA;var te=ZA}else j=I.nodeName,!j||j.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?O&&Xf(O.elementType)&&(Re=cv):Re=eR;if(Re&&(Re=Re(i,O))){lv(B,Re,a,U);break e}te&&te(i,I,O),i==="focusout"&&O&&I.type==="number"&&O.memoizedProps.value!=null&&$f(I,"number",I.value)}switch(te=O?qa(O):window,i){case"focusin":(ov(te)||te.contentEditable==="true")&&(Ar=te,uh=O,Ja=null);break;case"focusout":Ja=uh=Ar=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,vv(B,a,U);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":vv(B,a,U)}var he;if(ah)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Cr?rv(i,a)&&(we="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(nv&&a.locale!=="ko"&&(Cr||we!=="onCompositionStart"?we==="onCompositionEnd"&&Cr&&(he=Qy()):(ji=U,th="value"in ji?ji.value:ji.textContent,Cr=!0)),te=Hc(O,we),0<te.length&&(we=new ev(we,i,null,a,U),B.push({event:we,listeners:te}),he?we.data=he:(he=av(a),he!==null&&(we.data=he)))),(he=KA?WA(i,a):$A(i,a))&&(we=Hc(O,"onBeforeInput"),0<we.length&&(te=new ev("onBeforeInput","beforeinput",null,a,U),B.push({event:te,listeners:we}),te.data=he)),VR(B,i,O,a,U)}q0(B,s)})}function To(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Hc(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ga(i,a),f!=null&&l.unshift(To(i,f,d)),f=Ga(i,s),f!=null&&l.push(To(i,f,d))),i.tag===3)return l;i=i.return}return[]}function qR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Y0(i,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var S=a,w=S.alternate,O=S.stateNode;if(S=S.tag,w!==null&&w===l)break;S!==5&&S!==26&&S!==27||O===null||(w=O,f?(O=Ga(a,d),O!=null&&v.unshift(To(a,O,w))):f||(O=Ga(a,d),O!=null&&v.push(To(a,O,w)))),a=a.return}v.length!==0&&i.push({event:s,listeners:v})}var GR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function K0(i){return(typeof i=="string"?i:""+i).replace(GR,`
`).replace(YR,"")}function W0(i,s){return s=K0(s),K0(i)===s}function Pe(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Er(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Er(i,""+l);break;case"className":Yl(i,"class",l);break;case"tabIndex":Yl(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(i,a,l);break;case"style":Wy(i,l,d);break;case"data":if(s!=="object"){Yl(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Wl(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Pe(i,s,"name",f.name,f,null),Pe(i,s,"formEncType",f.formEncType,f,null),Pe(i,s,"formMethod",f.formMethod,f,null),Pe(i,s,"formTarget",f.formTarget,f,null)):(Pe(i,s,"encType",f.encType,f,null),Pe(i,s,"method",f.method,f,null),Pe(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Wl(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Xn);break;case"onScroll":l!=null&&_e("scroll",i);break;case"onScrollEnd":l!=null&&_e("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Wl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":_e("beforetoggle",i),_e("toggle",i),Gl(i,"popover",l);break;case"xlinkActuate":$n(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$n(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$n(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$n(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$n(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$n(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$n(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$n(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$n(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gl(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bA.get(a)||a,Gl(i,a,l))}}function Pd(i,s,a,l,f,d){switch(a){case"style":Wy(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Er(i,l):(typeof l=="number"||typeof l=="bigint")&&Er(i,""+l);break;case"onScroll":l!=null&&_e("scroll",i);break;case"onScrollEnd":l!=null&&_e("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zy.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Gl(i,a,l)}}}function Rt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",i),_e("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pe(i,s,d,v,a,null)}}f&&Pe(i,s,"srcSet",a.srcSet,a,null),l&&Pe(i,s,"src",a.src,a,null);return;case"input":_e("invalid",i);var S=d=v=f=null,w=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var U=a[l];if(U!=null)switch(l){case"name":f=U;break;case"type":v=U;break;case"checked":w=U;break;case"defaultChecked":O=U;break;case"value":d=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:Pe(i,s,l,U,a,null)}}qy(i,d,S,w,O,v,f,!1);return;case"select":_e("invalid",i),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Pe(i,s,f,S,a,null)}s=d,a=v,i.multiple=!!l,s!=null?xr(i,!!l,s,!1):a!=null&&xr(i,!!l,a,!0);return;case"textarea":_e("invalid",i),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Pe(i,s,v,S,a,null)}Yy(i,l,f,d);return;case"option":for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null)&&(w==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":Pe(i,s,w,l,a,null));return;case"dialog":_e("beforetoggle",i),_e("toggle",i),_e("cancel",i),_e("close",i);break;case"iframe":case"object":_e("load",i);break;case"video":case"audio":for(l=0;l<wo.length;l++)_e(wo[l],i);break;case"image":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"embed":case"source":case"link":_e("error",i),_e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pe(i,s,O,l,a,null)}return;default:if(Xf(s)){for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!==void 0&&Pd(i,s,U,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Pe(i,s,S,l,a,null))}function KR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,w=null,O=null,U=null;for(j in a){var B=a[j];if(a.hasOwnProperty(j)&&B!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=B;default:l.hasOwnProperty(j)||Pe(i,s,j,null,l,B)}}for(var I in l){var j=l[I];if(B=a[I],l.hasOwnProperty(I)&&(j!=null||B!=null))switch(I){case"type":d=j;break;case"name":f=j;break;case"checked":O=j;break;case"defaultChecked":U=j;break;case"value":v=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:j!==B&&Pe(i,s,I,j,l,B)}}Wf(i,v,S,w,O,U,d,f);return;case"select":j=v=S=I=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(d)||Pe(i,s,d,null,l,w)}for(f in l)if(d=l[f],w=a[f],l.hasOwnProperty(f)&&(d!=null||w!=null))switch(f){case"value":I=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==w&&Pe(i,s,f,d,l,w)}s=S,a=v,l=j,I!=null?xr(i,!!a,I,!1):!!l!=!!a&&(s!=null?xr(i,!!a,s,!0):xr(i,!!a,a?[]:"",!1));return;case"textarea":j=I=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Pe(i,s,S,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":I=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Pe(i,s,v,f,l,d)}Gy(i,I,j);return;case"option":for(var X in a)I=a[X],a.hasOwnProperty(X)&&I!=null&&!l.hasOwnProperty(X)&&(X==="selected"?i.selected=!1:Pe(i,s,X,null,l,I));for(w in l)I=l[w],j=a[w],l.hasOwnProperty(w)&&I!==j&&(I!=null||j!=null)&&(w==="selected"?i.selected=I&&typeof I!="function"&&typeof I!="symbol":Pe(i,s,w,I,l,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)I=a[re],a.hasOwnProperty(re)&&I!=null&&!l.hasOwnProperty(re)&&Pe(i,s,re,null,l,I);for(O in l)if(I=l[O],j=a[O],l.hasOwnProperty(O)&&I!==j&&(I!=null||j!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:Pe(i,s,O,I,l,j)}return;default:if(Xf(s)){for(var je in a)I=a[je],a.hasOwnProperty(je)&&I!==void 0&&!l.hasOwnProperty(je)&&Pd(i,s,je,void 0,l,I);for(U in l)I=l[U],j=a[U],!l.hasOwnProperty(U)||I===j||I===void 0&&j===void 0||Pd(i,s,U,I,l,j);return}}for(var R in a)I=a[R],a.hasOwnProperty(R)&&I!=null&&!l.hasOwnProperty(R)&&Pe(i,s,R,null,l,I);for(B in l)I=l[B],j=a[B],!l.hasOwnProperty(B)||I===j||I==null&&j==null||Pe(i,s,B,I,l,j)}function $0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&$0(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var w=a[l],O=w.startTime;if(O>S)break;var U=w.transferSize,B=w.initiatorType;U&&$0(B)&&(w=w.responseEnd,v+=U*(w<S?1:(S-O)/(w-O)))}if(--l,s+=8*(d+v)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jd=null,Ud=null;function Fc(i){return i.nodeType===9?i:i.ownerDocument}function X0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vd=null;function $R(){var i=window.event;return i&&i.type==="popstate"?i===Vd?!1:(Vd=i,!0):(Vd=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,XR=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(i){return J0.resolve(null).then(i).catch(ZR)}:Z0;function ZR(i){setTimeout(function(){throw i})}function es(i){return i==="head"}function eb(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),ea(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Co(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Co(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Fa]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Co(i.ownerDocument.body);a=f}while(a);ea(s)}function tb(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Bd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bd(a),Yf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function JR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Fa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=yn(i.nextSibling),i===null)break}return null}function eN(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=yn(i.nextSibling),i===null))return null;return i}function nb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=yn(i.nextSibling),i===null))return null;return i}function Hd(i){return i.data==="$?"||i.data==="$~"}function Fd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function tN(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function yn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var qd=null;function ib(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return yn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function sb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function rb(i,s,a){switch(s=Fc(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Co(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Yf(i)}var vn=new Map,ab=new Set;function qc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hi=q.d;q.d={f:nN,r:iN,D:sN,C:rN,L:aN,m:oN,X:cN,S:lN,M:uN};function nN(){var i=hi.f(),s=Lc();return i||s}function iN(i){var s=_r(i);s!==null&&s.tag===5&&s.type==="form"?E_(s):hi.r(i)}var Qr=typeof document>"u"?null:document;function ob(i,s,a){var l=Qr;if(l&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),ab.has(f)||(ab.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Rt(s,"link",i),gt(s),l.head.appendChild(s)))}}function sN(i){hi.D(i),ob("dns-prefetch",i,null)}function rN(i,s){hi.C(i,s),ob("preconnect",i,s)}function aN(i,s,a){hi.L(i,s,a);var l=Qr;if(l&&i&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(i)+'"]';var d=f;switch(s){case"style":d=Zr(i);break;case"script":d=Jr(i)}vn.has(d)||(i=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),vn.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Ao(d))||s==="script"&&l.querySelector(Ro(d))||(s=l.createElement("link"),Rt(s,"link",i),gt(s),l.head.appendChild(s)))}}function oN(i,s){hi.m(i,s);var a=Qr;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Jr(i)}if(!vn.has(d)&&(i=y({rel:"modulepreload",href:i},s),vn.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ro(d)))return}l=a.createElement("link"),Rt(l,"link",i),gt(l),a.head.appendChild(l)}}}function lN(i,s,a){hi.S(i,s,a);var l=Qr;if(l&&i){var f=br(l).hoistableStyles,d=Zr(i);s=s||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Ao(d)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},a),(a=vn.get(d))&&Gd(i,a);var w=v=l.createElement("link");gt(w),Rt(w,"link",i),w._p=new Promise(function(O,U){w.onload=O,w.onerror=U}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gc(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function cN(i,s){hi.X(i,s);var a=Qr;if(a&&i){var l=br(a).hoistableScripts,f=Jr(i),d=l.get(f);d||(d=a.querySelector(Ro(f)),d||(i=y({src:i,async:!0},s),(s=vn.get(f))&&Yd(i,s),d=a.createElement("script"),gt(d),Rt(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function uN(i,s){hi.M(i,s);var a=Qr;if(a&&i){var l=br(a).hoistableScripts,f=Jr(i),d=l.get(f);d||(d=a.querySelector(Ro(f)),d||(i=y({src:i,async:!0,type:"module"},s),(s=vn.get(f))&&Yd(i,s),d=a.createElement("script"),gt(d),Rt(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function lb(i,s,a,l){var f=(f=de.current)?qc(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Zr(a.href),a=br(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Zr(a.href);var d=br(f).hoistableStyles,v=d.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,v),(d=f.querySelector(Ao(i)))&&!d._p&&(v.instance=d,v.state.loading=5),vn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vn.set(i,a),d||fN(f,i,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jr(a),a=br(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zr(i){return'href="'+un(i)+'"'}function Ao(i){return'link[rel="stylesheet"]['+i+"]"}function cb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function fN(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Rt(s,"link",a),gt(s),i.head.appendChild(s))}function Jr(i){return'[src="'+un(i)+'"]'}function Ro(i){return"script[async]"+i}function ub(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,gt(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),gt(l),Rt(l,"style",f),Gc(l,a.precedence,i),s.instance=l;case"stylesheet":f=Zr(a.href);var d=i.querySelector(Ao(f));if(d)return s.state.loading|=4,s.instance=d,gt(d),d;l=cb(a),(f=vn.get(f))&&Gd(l,f),d=(i.ownerDocument||i).createElement("link"),gt(d);var v=d;return v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),Rt(d,"link",l),s.state.loading|=4,Gc(d,a.precedence,i),s.instance=d;case"script":return d=Jr(a.src),(f=i.querySelector(Ro(d)))?(s.instance=f,gt(f),f):(l=a,(f=vn.get(d))&&(l=y({},a),Yd(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),gt(f),Rt(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Gc(l,a.precedence,i));return s.instance}function Gc(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Gd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Yd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Yc=null;function fb(i,s,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[Fa]||d[wt]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=i+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function hb(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function hN(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function db(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dN(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Zr(l.href),d=s.querySelector(Ao(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Kc.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,gt(d);return}d=s.ownerDocument||s,l=cb(l),(f=vn.get(f))&&Gd(l,f),d=d.createElement("link"),gt(d);var v=d;v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),Rt(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Kc.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Kd=0;function mN(i,s){return i.stylesheets&&i.count===0&&$c(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&$c(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Kd===0&&(Kd=62500*WR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&$c(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Kd?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wc=null;function $c(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wc=new Map,s.forEach(pN,i),Wc=null,Kc.call(i))}function pN(i,s){if(!(s.state.loading&4)){var a=Wc.get(i);if(a)var l=a.get(null);else{a=new Map,Wc.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var No={$$typeof:L,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function gN(i,s,a,l,f,d,v,S,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hf(0),this.hiddenUpdates=Hf(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function mb(i,s,a,l,f,d,v,S,w,O,U,B){return i=new gN(i,s,a,v,w,O,U,B,S),s=1,d===!0&&(s|=24),d=en(3,null,null,s),i.current=d,d.stateNode=i,s=Ch(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},kh(d),i}function pb(i){return i?(i=kr,i):kr}function gb(i,s,a,l,f,d){f=pb(f),l.context===null?l.context=f:l.pendingContext=f,l=Fi(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qi(i,l,s),a!==null&&(Yt(a,i,s),ao(a,i,s))}function yb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Wd(i,s){yb(i,s),(i=i.alternate)&&yb(i,s)}function vb(i){if(i.tag===13||i.tag===31){var s=js(i,67108864);s!==null&&Yt(s,i,67108864),Wd(i,67108864)}}function _b(i){if(i.tag===13||i.tag===31){var s=an();s=Ff(s);var a=js(i,s);a!==null&&Yt(a,i,s),Wd(i,s)}}var Xc=!0;function yN(i,s,a,l){var f=z.T;z.T=null;var d=q.p;try{q.p=2,$d(i,s,a,l)}finally{q.p=d,z.T=f}}function vN(i,s,a,l){var f=z.T;z.T=null;var d=q.p;try{q.p=8,$d(i,s,a,l)}finally{q.p=d,z.T=f}}function $d(i,s,a,l){if(Xc){var f=Xd(l);if(f===null)Ld(i,s,l,Qc,a),Sb(i,l);else if(bN(f,i,s,a,l))l.stopPropagation();else if(Sb(i,l),s&4&&-1<_N.indexOf(i)){for(;f!==null;){var d=_r(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ds(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var w=1<<31-Zt(v);S.entanglements[1]|=w,v&=~w}Bn(d),(Me&6)===0&&(Oc=Xt()+500,Eo(0))}}break;case 31:case 13:S=js(d,2),S!==null&&Yt(S,d,2),Lc(),Wd(d,2)}if(d=Xd(l),d===null&&Ld(i,s,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Ld(i,s,l,null,a)}}function Xd(i){return i=Zf(i),Qd(i)}var Qc=null;function Qd(i){if(Qc=null,i=vr(i),i!==null){var s=c(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=u(s),i!==null)return i;i=null}else if(a===31){if(i=h(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Qc=i,null}function bb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sA()){case Ry:return 2;case Ny:return 8;case Vl:case rA:return 32;case ky:return 268435456;default:return 32}default:return 32}}var Zd=!1,ts=null,ns=null,is=null,ko=new Map,Mo=new Map,ss=[],_N="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(i,s){switch(i){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":ko.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(s.pointerId)}}function Do(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=_r(s),s!==null&&vb(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function bN(i,s,a,l,f){switch(s){case"focusin":return ts=Do(ts,i,s,a,l,f),!0;case"dragenter":return ns=Do(ns,i,s,a,l,f),!0;case"mouseover":return is=Do(is,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return ko.set(d,Do(ko.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Mo.set(d,Do(Mo.get(d)||null,i,s,a,l,f)),!0}return!1}function xb(i){var s=vr(i.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){i.blockedOn=s,Py(i.priority,function(){_b(a)});return}}else if(s===31){if(s=h(a),s!==null){i.blockedOn=s,Py(i.priority,function(){_b(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Xd(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Qf=l,a.target.dispatchEvent(l),Qf=null}else return s=_r(a),s!==null&&vb(s),i.blockedOn=a,!1;s.shift()}return!0}function Eb(i,s,a){Zc(i)&&a.delete(s)}function SN(){Zd=!1,ts!==null&&Zc(ts)&&(ts=null),ns!==null&&Zc(ns)&&(ns=null),is!==null&&Zc(is)&&(is=null),ko.forEach(Eb),Mo.forEach(Eb)}function Jc(i,s){i.blockedOn===s&&(i.blockedOn=null,Zd||(Zd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SN)))}var eu=null;function wb(i){eu!==i&&(eu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){eu===i&&(eu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=_r(a);d!==null&&(i.splice(s,3),s-=3,Xh(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ea(i){function s(w){return Jc(w,i)}ts!==null&&Jc(ts,i),ns!==null&&Jc(ns,i),is!==null&&Jc(is,i),ko.forEach(s),Mo.forEach(s);for(var a=0;a<ss.length;a++){var l=ss[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)xb(a),a.blockedOn===null&&ss.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Vt]||null;if(typeof d=="function")v||wb(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Vt]||null)S=v.formAction;else if(Qd(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),wb(a)}}}function Tb(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Jd(i){this._internalRoot=i}tu.prototype.render=Jd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=an();gb(a,l,i,s,null,null)},tu.prototype.unmount=Jd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;gb(i.current,2,null,i,null,null),Lc(),s[yr]=null}};function tu(i){this._internalRoot=i}tu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ly();i={blockedOn:null,target:i,priority:s};for(var a=0;a<ss.length&&s!==0&&s<ss[a].priority;a++);ss.splice(a,0,i),a===0&&xb(i)}};var Cb=e.version;if(Cb!=="19.2.4")throw Error(r(527,Cb,"19.2.4"));q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var xN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Va=nu.inject(xN),Qt=nu}catch{}}return Io.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=O_,d=I_,v=L_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=mb(i,1,!1,null,null,a,l,null,f,d,v,Tb),i[yr]=s.current,Id(i),new Jd(s)},Io.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=O_,v=I_,S=L_,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),s=mb(i,1,!0,s,a??null,l,f,w,d,v,S,Tb),s.context=pb(null),a=s.current,l=an(),l=Ff(l),f=Fi(l),f.callback=null,qi(a,f,l),a=l,s.current.lanes=a,Ha(s,a),Bn(s),i[yr]=s.current,Id(i),new tu(s)},Io.version="19.2.4",Io}var Pb;function ON(){if(Pb)return nm.exports;Pb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nm.exports=DN(),nm.exports}var IN=ON();var jb="popstate";function LN(t={}){function e(r,o){let{pathname:c,search:u,hash:h}=r.location;return Vm("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:nl(o)}return jN(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ln(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PN(){return Math.random().toString(36).substring(2,10)}function Ub(t,e){return{usr:t.state,key:t.key,idx:e}}function Vm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:n,key:e&&e.key||r||PN()}}function nl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function jN(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,h="POP",m=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let k=g(),M=k==null?null:k-p;p=k,m&&m({action:h,location:N.location,delta:M})}function _(k,M){h="PUSH";let P=Vm(N.location,k,M);p=g()+1;let L=Ub(P,p),F=N.createHref(P);try{u.pushState(L,"",F)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(F)}c&&m&&m({action:h,location:N.location,delta:1})}function x(k,M){h="REPLACE";let P=Vm(N.location,k,M);p=g();let L=Ub(P,p),F=N.createHref(P);u.replaceState(L,"",F),c&&m&&m({action:h,location:N.location,delta:0})}function T(k){return UN(k)}let N={get action(){return h},get location(){return t(o,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(jb,y),m=k,()=>{o.removeEventListener(jb,y),m=null}},createHref(k){return e(o,k)},createURL:T,encodeLocation(k){let M=T(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:x,go(k){return u.go(k)}};return N}function UN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xx(t,e,n="/"){return zN(t,e,n,!1)}function zN(t,e,n,r){let o=typeof e=="string"?wa(e):e,c=wi(o.pathname||"/",n);if(c==null)return null;let u=Ex(t);VN(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=QN(c);h=$N(u[m],p,r)}return h}function Ex(t,e=[],n=[],r="",o=!1){let c=(u,h,m=o,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&m)return;Qe(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=bi([r,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(Qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ex(u.children,e,_,y,m)),!(u.path==null&&!u.index)&&e.push({path:y,score:KN(y,u.index),routesMeta:_})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))c(u,h);else for(let m of wx(u.path))c(u,h,!0,m)}),e}function wx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=wx(r.join("/")),h=[];return h.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...u),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function VN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var BN=/^:[\w-]+$/,HN=3,FN=2,qN=1,GN=10,YN=-2,zb=t=>t==="*";function KN(t,e){let n=t.split("/"),r=n.length;return n.some(zb)&&(r+=YN),e&&(r+=FN),n.filter(o=>!zb(o)).reduce((o,c)=>o+(BN.test(c)?HN:c===""?qN:GN),r)}function WN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function $N(t,e,n=!1){let{routesMeta:r}=t,o={},c="/",u=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,g=c==="/"?e:e.slice(c.length)||"/",y=Au({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),_=m.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=Au({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:bi([c,y.pathname]),pathnameBase:t2(bi([c,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(c=bi([c,y.pathnameBase]))}return u}function Au(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XN(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let T=h[_]||"";u=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const x=h[_];return y&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:t}}function XN(t,e=!1,n=!0){Ln(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function QN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var ZN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function JN(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?wa(t):t,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=Vb(n.substring(1),"/"):c=Vb(n,e)):c=e,{pathname:c,search:n2(r),hash:i2(o)}}function Vb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bp(t){let e=e2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Hp(t,e,n,r=!1){let o;typeof t=="string"?o=wa(t):(o={...t},Qe(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=n;else{let y=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let m=JN(o,h),p=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var bi=t=>t.join("/").replace(/\/\/+/g,"/"),t2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,s2=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function r2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function a2(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cx(t,e){let n=t;if(typeof n!="string"||!ZN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Tx)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),h=wi(u.pathname,e);u.origin===c.origin&&h!=null?n=h+u.search+u.hash:o=!0}catch{Ln(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ax=["POST","PUT","PATCH","DELETE"];new Set(Ax);var o2=["GET",...Ax];new Set(o2);var Ta=E.createContext(null);Ta.displayName="DataRouter";var ff=E.createContext(null);ff.displayName="DataRouterState";var l2=E.createContext(!1),Rx=E.createContext({isTransitioning:!1});Rx.displayName="ViewTransition";var c2=E.createContext(new Map);c2.displayName="Fetchers";var u2=E.createContext(null);u2.displayName="Await";var ln=E.createContext(null);ln.displayName="Navigation";var Sl=E.createContext(null);Sl.displayName="Location";var Pn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var Fp=E.createContext(null);Fp.displayName="RouteError";var Nx="REACT_ROUTER_ERROR",f2="REDIRECT",h2="ROUTE_ERROR_RESPONSE";function d2(t){if(t.startsWith(`${Nx}:${f2}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function m2(t){if(t.startsWith(`${Nx}:${h2}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new s2(e.status,e.statusText,e.data)}catch{}}function p2(t,{relative:e}={}){Qe(Ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ln),{hash:o,pathname:c,search:u}=xl(t,{relative:e}),h=c;return n!=="/"&&(h=c==="/"?n:bi([n,c])),r.createHref({pathname:h,search:u,hash:o})}function Ca(){return E.useContext(Sl)!=null}function ki(){return Qe(Ca(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Sl).location}var kx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mx(t){E.useContext(ln).static||E.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=E.useContext(Pn);return t?N2():g2()}function g2(){Qe(Ca(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Ta),{basename:e,navigator:n}=E.useContext(ln),{matches:r}=E.useContext(Pn),{pathname:o}=ki(),c=JSON.stringify(Bp(r)),u=E.useRef(!1);return Mx(()=>{u.current=!0}),E.useCallback((m,p={})=>{if(Ln(u.current,kx),!u.current)return;if(typeof m=="number"){n.go(m);return}let g=Hp(m,JSON.parse(c),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:bi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,c,o,t])}E.createContext(null);function y2(){let{matches:t}=E.useContext(Pn),e=t[t.length-1];return e?e.params:{}}function xl(t,{relative:e}={}){let{matches:n}=E.useContext(Pn),{pathname:r}=ki(),o=JSON.stringify(Bp(n));return E.useMemo(()=>Hp(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function v2(t,e){return Dx(t,e)}function Dx(t,e,n,r,o){Qe(Ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(ln),{matches:u}=E.useContext(Pn),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let P=y&&y.path||"";Ix(p,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let _=ki(),x;if(e){let P=typeof e=="string"?wa(e):e;Qe(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=_;let T=x.pathname||"/",N=T;if(g!=="/"){let P=g.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=xx(t,{pathname:N});Ln(y||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ln(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=E2(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:bi([g,c.encodeLocation?c.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:bi([g,c.encodeLocation?c.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,n,r,o);return e&&M?E.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function _2(){let t=R2(),e=r2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:c},"ErrorBoundary")," or"," ",E.createElement("code",{style:c},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:o},n):null,u)}var b2=E.createElement(_2,null),Ox=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=m2(t.digest);n&&(t=n)}let e=t!==void 0?E.createElement(Pn.Provider,{value:this.props.routeContext},E.createElement(Fp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?E.createElement(S2,{error:t},e):e}};Ox.contextType=l2;var om=new WeakMap;function S2({children:t,error:e}){let{basename:n}=E.useContext(ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=d2(e.digest);if(r){let o=om.get(e);if(o)throw o;let c=Cx(r.location,n);if(Tx&&!om.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw om.set(e,u),u}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function x2({routeContext:t,match:e,children:n}){let r=E.useContext(Ta);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Pn.Provider,{value:t},n)}function E2(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:_,errors:x}=n,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||T){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let p=n&&r?(g,y)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:a2(n.matches),errorInfo:y})}:void 0;return c.reduceRight((g,y,_)=>{let x,T=!1,N=null,k=null;n&&(x=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||b2,h&&(m<0&&_===0?(Ix("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,k=null):m===_&&(T=!0,k=y.route.hydrateFallbackElement||null)));let M=e.concat(c.slice(0,_+1)),P=()=>{let L;return x?L=N:T?L=k:y.route.Component?L=E.createElement(y.route.Component,null):y.route.element?L=y.route.element:L=g,E.createElement(x2,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:L})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?E.createElement(Ox,{location:n.location,revalidation:n.revalidation,component:N,error:x,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):P()},null)}function qp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(t){let e=E.useContext(Ta);return Qe(e,qp(t)),e}function T2(t){let e=E.useContext(ff);return Qe(e,qp(t)),e}function C2(t){let e=E.useContext(Pn);return Qe(e,qp(t)),e}function Gp(t){let e=C2(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function A2(){return Gp("useRouteId")}function R2(){let t=E.useContext(Fp),e=T2("useRouteError"),n=Gp("useRouteError");return t!==void 0?t:e.errors?.[n]}function N2(){let{router:t}=w2("useNavigate"),e=Gp("useNavigate"),n=E.useRef(!1);return Mx(()=>{n.current=!0}),E.useCallback(async(o,c={})=>{Ln(n.current,kx),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var Bb={};function Ix(t,e,n){!e&&!Bb[t]&&(Bb[t]=!0,Ln(!1,n))}E.memo(k2);function k2({routes:t,future:e,state:n,onError:r}){return Dx(t,void 0,n,r,e)}function Lx({to:t,replace:e,state:n,relative:r}){Qe(Ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=E.useContext(ln);Ln(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=E.useContext(Pn),{pathname:u}=ki(),h=Mi(),m=Hp(t,Bp(c),u,r==="path"),p=JSON.stringify(m);return E.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function mi(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){Qe(!Ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=E.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[h,o,c,u]);typeof n=="string"&&(n=wa(n));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:x="default"}=n,T=E.useMemo(()=>{let N=wi(p,h);return N==null?null:{location:{pathname:N,search:g,hash:y,state:_,key:x},navigationType:r}},[h,p,g,y,_,x,r]);return Ln(T!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(ln.Provider,{value:m},E.createElement(Sl.Provider,{children:e,value:T}))}function D2({children:t,location:e}){return v2(Bm(t),e)}function Bm(t,e=[]){let n=[];return E.Children.forEach(t,(r,o)=>{if(!E.isValidElement(r))return;let c=[...e,o];if(r.type===E.Fragment){n.push.apply(n,Bm(r.props.children,c));return}Qe(r.type===mi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Bm(r.props.children,c)),n.push(u)}),n}var pu="get",gu="application/x-www-form-urlencoded";function hf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function O2(t){return hf(t)&&t.tagName.toLowerCase()==="button"}function I2(t){return hf(t)&&t.tagName.toLowerCase()==="form"}function L2(t){return hf(t)&&t.tagName.toLowerCase()==="input"}function P2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j2(t,e){return t.button===0&&(!e||e==="_self")&&!P2(t)}var iu=null;function U2(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var z2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(t){return t!=null&&!z2.has(t)?(Ln(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gu}"`),null):t}function V2(t,e){let n,r,o,c,u;if(I2(t)){let h=t.getAttribute("action");r=h?wi(h,e):null,n=t.getAttribute("method")||pu,o=lm(t.getAttribute("enctype"))||gu,c=new FormData(t)}else if(O2(t)||L2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(r=m?wi(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||pu,o=lm(t.getAttribute("formenctype"))||lm(h.getAttribute("enctype"))||gu,c=new FormData(h,t),!U2()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else p&&c.append(p,y)}}else{if(hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pu,r=null,o=gu,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B2(t,e,n,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&wi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function H2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function q2(t,e,n){let r=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await H2(c,n);return u.links?u.links():[]}return[]}));return W2(r.flat(1).filter(F2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hb(t,e,n,r,o,c){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,h=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,p)=>u(m,p)||h(m,p)):c==="data"?e.filter((m,p)=>{let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(u(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let y=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function G2(t,e,{includeHydrateFallback:n}={}){return Y2(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Y2(t){return[...new Set(t)]}function K2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function W2(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let c=JSON.stringify(K2(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function Px(){let t=E.useContext(Ta);return Yp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $2(){let t=E.useContext(ff);return Yp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kp=E.createContext(void 0);Kp.displayName="FrameworkContext";function jx(){let t=E.useContext(Kp);return Yp(t,"You must render this element inside a <HydratedRouter> element"),t}function X2(t,e){let n=E.useContext(Kp),[r,o]=E.useState(!1),[c,u]=E.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=E.useRef(null);E.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=M=>{M.forEach(P=>{u(P.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[t]),E.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let x=()=>{o(!0)},T=()=>{o(!1),u(!1)};return n?t!=="intent"?[c,_,{}]:[c,_,{onFocus:Lo(h,x),onBlur:Lo(m,T),onMouseEnter:Lo(p,x),onMouseLeave:Lo(g,T),onTouchStart:Lo(y,x)}]:[!1,_,{}]}function Lo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q2({page:t,...e}){let{router:n}=Px(),r=E.useMemo(()=>xx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(J2,{page:t,matches:r,...e}):null}function Z2(t){let{manifest:e,routeModules:n}=jx(),[r,o]=E.useState([]);return E.useEffect(()=>{let c=!1;return q2(t,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[t,e,n]),r}function J2({page:t,matches:e,...n}){let r=ki(),{future:o,manifest:c,routeModules:u}=jx(),{basename:h}=Px(),{loaderData:m,matches:p}=$2(),g=E.useMemo(()=>Hb(t,e,p,c,r,"data"),[t,e,p,c,r]),y=E.useMemo(()=>Hb(t,e,p,c,r,"assets"),[t,e,p,c,r]),_=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,k=!1;if(e.forEach(P=>{let L=c.routes[P.route.id];!L||!L.hasLoader||(!g.some(F=>F.route.id===P.route.id)&&P.route.id in m&&u[P.route.id]?.shouldRevalidate||L.hasClientLoader?k=!0:N.add(P.route.id))}),N.size===0)return[];let M=B2(t,h,o.unstable_trailingSlashAwareDataRequests,"data");return k&&N.size>0&&M.searchParams.set("_routes",e.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[M.pathname+M.search]},[h,o.unstable_trailingSlashAwareDataRequests,m,r,c,g,e,t,u]),x=E.useMemo(()=>G2(y,c),[y,c]),T=Z2(y);return E.createElement(E.Fragment,null,_.map(N=>E.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),x.map(N=>E.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),T.map(({key:N,link:k})=>E.createElement("link",{key:N,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function ek(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tk&&(window.__reactRouterVersion="7.13.0")}catch{}function nk({basename:t,children:e,unstable_useTransitions:n,window:r}){let o=E.useRef();o.current==null&&(o.current=LN({window:r,v5Compat:!0}));let c=o.current,[u,h]=E.useState({action:c.action,location:c.location}),m=E.useCallback(p=>{n===!1?h(p):E.startTransition(()=>h(p))},[n]);return E.useLayoutEffect(()=>c.listen(m),[c,m]),E.createElement(M2,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var Ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zx=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:h,target:m,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...x},T){let{basename:N,unstable_useTransitions:k}=E.useContext(ln),M=typeof p=="string"&&Ux.test(p),P=Cx(p,N);p=P.to;let L=p2(p,{relative:o}),[F,Y,ie]=X2(r,x),$=ak(p,{replace:u,state:h,target:m,preventScrollReset:g,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:_,unstable_useTransitions:k});function W(be){e&&e(be),be.defaultPrevented||$(be)}let se=E.createElement("a",{...x,...ie,href:P.absoluteURL||L,onClick:P.isExternal||c?e:W,ref:ek(T,Y),target:m,"data-discover":!M&&n==="render"?"true":void 0});return F&&!M?E.createElement(E.Fragment,null,se,E.createElement(Q2,{page:L})):se});zx.displayName="Link";var ik=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:h,children:m,...p},g){let y=xl(u,{relative:p.relative}),_=ki(),x=E.useContext(ff),{navigator:T,basename:N}=E.useContext(ln),k=x!=null&&fk(y)&&h===!0,M=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,P=_.pathname,L=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&N&&(L=wi(L,N)||L);const F=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Y=P===M||!o&&P.startsWith(M)&&P.charAt(F)==="/",ie=L!=null&&(L===M||!o&&L.startsWith(M)&&L.charAt(M.length)==="/"),$={isActive:Y,isPending:ie,isTransitioning:k},W=Y?e:void 0,se;typeof r=="function"?se=r($):se=[r,Y?"active":null,ie?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let be=typeof c=="function"?c($):c;return E.createElement(zx,{...p,"aria-current":W,className:se,ref:g,style:be,to:u,viewTransition:h},typeof m=="function"?m($):m)});ik.displayName="NavLink";var sk=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:u=pu,action:h,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...x},T)=>{let{unstable_useTransitions:N}=E.useContext(ln),k=ck(),M=uk(h,{relative:p}),P=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&Ux.test(h),F=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,$=ie?.getAttribute("formmethod")||u,W=()=>k(ie||Y.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:o,state:c,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_});N&&n!==!1?E.startTransition(()=>W()):W()};return E.createElement("form",{ref:T,method:P,action:M,onSubmit:r?m:F,...x,"data-discover":!L&&t==="render"?"true":void 0})});sk.displayName="Form";function rk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(t){let e=E.useContext(Ta);return Qe(e,rk(t)),e}function ak(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let p=Mi(),g=ki(),y=xl(t,{relative:c});return E.useCallback(_=>{if(j2(_,e)){_.preventDefault();let x=n!==void 0?n:nl(g)===nl(y),T=()=>p(t,{replace:x,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h});m?E.startTransition(()=>T()):T()}},[g,p,y,n,r,e,t,o,c,u,h,m])}var ok=0,lk=()=>`__${String(++ok)}__`;function ck(){let{router:t}=Vx("useSubmit"),{basename:e}=E.useContext(ln),n=A2(),r=t.fetch,o=t.navigate;return E.useCallback(async(c,u={})=>{let{action:h,method:m,encType:p,formData:g,body:y}=V2(c,e);if(u.navigate===!1){let _=u.fetcherKey||lk();await r(_,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,n])}function uk(t,{relative:e}={}){let{basename:n}=E.useContext(ln),r=E.useContext(Pn);Qe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...xl(t||".",{relative:e})},u=ki();if(t==null){c.search=u.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(g=>g==="")){h.delete("index"),m.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();c.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:bi([n,c.pathname])),nl(c)}function fk(t,{relative:e}={}){let n=E.useContext(Rx);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Vx("useViewTransitionState"),o=xl(t,{relative:e});if(!n.isTransitioning)return!1;let c=wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Au(o.pathname,u)!=null||Au(o.pathname,c)!=null}let hk={data:""},dk=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||hk},mk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pk=/\/\*[^]*?\*\/|  +/g,Fb=/\n+/g,ls=(t,e)=>{let n="",r="",o="";for(let c in t){let u=t[c];c[0]=="@"?c[1]=="i"?n=c+" "+u+";":r+=c[1]=="f"?ls(u,c):c+"{"+ls(u,c[1]=="k"?"":e)+"}":typeof u=="object"?r+=ls(u,e?e.replace(/([^,])+/g,h=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,h):h?h+" "+m:m)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ls.p?ls.p(c,u):c+":"+u+";")}return n+(e&&o?e+"{"+o+"}":o)+r},di={},Bx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Bx(t[n]);return e}return t},gk=(t,e,n,r,o)=>{let c=Bx(t),u=di[c]||(di[c]=(m=>{let p=0,g=11;for(;p<m.length;)g=101*g+m.charCodeAt(p++)>>>0;return"go"+g})(c));if(!di[u]){let m=c!==t?t:(p=>{let g,y,_=[{}];for(;g=mk.exec(p.replace(pk,""));)g[4]?_.shift():g[3]?(y=g[3].replace(Fb," ").trim(),_.unshift(_[0][y]=_[0][y]||{})):_[0][g[1]]=g[2].replace(Fb," ").trim();return _[0]})(t);di[u]=ls(o?{["@keyframes "+u]:m}:m,n?"":"."+u)}let h=n&&di.g?di.g:null;return n&&(di.g=di[u]),((m,p,g,y)=>{y?p.data=p.data.replace(y,m):p.data.indexOf(m)===-1&&(p.data=g?m+p.data:p.data+m)})(di[u],e,r,h),u},yk=(t,e,n)=>t.reduce((r,o,c)=>{let u=e[c];if(u&&u.call){let h=u(n),m=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=m?"."+m:h&&typeof h=="object"?h.props?"":ls(h,""):h===!1?"":h}return r+o+(u??"")},"");function df(t){let e=this||{},n=t.call?t(e.p):t;return gk(n.unshift?n.raw?yk(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,dk(e.target),e.g,e.o,e.k)}let Hx,Hm,Fm;df.bind({g:1});let Ti=df.bind({k:1});function vk(t,e,n,r){ls.p=e,Hx=t,Hm=n,Fm=r}function Cs(t,e){let n=this||{};return function(){let r=arguments;function o(c,u){let h=Object.assign({},c),m=h.className||o.className;n.p=Object.assign({theme:Hm&&Hm()},h),n.o=/ *go\d+/.test(m),h.className=df.apply(n,r)+(m?" "+m:"");let p=t;return t[0]&&(p=h.as||t,delete h.as),Fm&&p[0]&&Fm(h),Hx(p,h)}return o}}var _k=t=>typeof t=="function",Ru=(t,e)=>_k(t)?t(e):t,bk=(()=>{let t=0;return()=>(++t).toString()})(),Fx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Sk=20,Wp="default",qx=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:r}=e;return qx(t,{type:t.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=e;return{...t,toasts:t.toasts.map(u=>u.id===o||o===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let c=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+c}))}}},yu=[],Gx={toasts:[],pausedAt:void 0,settings:{toastLimit:Sk}},qn={},Yx=(t,e=Wp)=>{qn[e]=qx(qn[e]||Gx,t),yu.forEach(([n,r])=>{n===e&&r(qn[e])})},Kx=t=>Object.keys(qn).forEach(e=>Yx(t,e)),xk=t=>Object.keys(qn).find(e=>qn[e].toasts.some(n=>n.id===t)),mf=(t=Wp)=>e=>{Yx(e,t)},Ek={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wk=(t={},e=Wp)=>{let[n,r]=E.useState(qn[e]||Gx),o=E.useRef(qn[e]);E.useEffect(()=>(o.current!==qn[e]&&r(qn[e]),yu.push([e,r]),()=>{let u=yu.findIndex(([h])=>h===e);u>-1&&yu.splice(u,1)}),[e]);let c=n.toasts.map(u=>{var h,m,p;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((h=t[u.type])==null?void 0:h.removeDelay)||t?.removeDelay,duration:u.duration||((m=t[u.type])==null?void 0:m.duration)||t?.duration||Ek[u.type],style:{...t.style,...(p=t[u.type])==null?void 0:p.style,...u.style}}});return{...n,toasts:c}},Tk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||bk()}),El=t=>(e,n)=>{let r=Tk(e,t,n);return mf(r.toasterId||xk(r.id))({type:2,toast:r}),r.id},Te=(t,e)=>El("blank")(t,e);Te.error=El("error");Te.success=El("success");Te.loading=El("loading");Te.custom=El("custom");Te.dismiss=(t,e)=>{let n={type:3,toastId:t};e?mf(e)(n):Kx(n)};Te.dismissAll=t=>Te.dismiss(void 0,t);Te.remove=(t,e)=>{let n={type:4,toastId:t};e?mf(e)(n):Kx(n)};Te.removeAll=t=>Te.remove(void 0,t);Te.promise=(t,e,n)=>{let r=Te.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let c=e.success?Ru(e.success,o):void 0;return c?Te.success(c,{id:r,...n,...n?.success}):Te.dismiss(r),o}).catch(o=>{let c=e.error?Ru(e.error,o):void 0;c?Te.error(c,{id:r,...n,...n?.error}):Te.dismiss(r)}),t};var Ck=1e3,Ak=(t,e="default")=>{let{toasts:n,pausedAt:r}=wk(t,e),o=E.useRef(new Map).current,c=E.useCallback((y,_=Ck)=>{if(o.has(y))return;let x=setTimeout(()=>{o.delete(y),u({type:4,toastId:y})},_);o.set(y,x)},[]);E.useEffect(()=>{if(r)return;let y=Date.now(),_=n.map(x=>{if(x.duration===1/0)return;let T=(x.duration||0)+x.pauseDuration-(y-x.createdAt);if(T<0){x.visible&&Te.dismiss(x.id);return}return setTimeout(()=>Te.dismiss(x.id,e),T)});return()=>{_.forEach(x=>x&&clearTimeout(x))}},[n,r,e]);let u=E.useCallback(mf(e),[e]),h=E.useCallback(()=>{u({type:5,time:Date.now()})},[u]),m=E.useCallback((y,_)=>{u({type:1,toast:{id:y,height:_}})},[u]),p=E.useCallback(()=>{r&&u({type:6,time:Date.now()})},[r,u]),g=E.useCallback((y,_)=>{let{reverseOrder:x=!1,gutter:T=8,defaultPosition:N}=_||{},k=n.filter(L=>(L.position||N)===(y.position||N)&&L.height),M=k.findIndex(L=>L.id===y.id),P=k.filter((L,F)=>F<M&&L.visible).length;return k.filter(L=>L.visible).slice(...x?[P+1]:[0,P]).reduce((L,F)=>L+(F.height||0)+T,0)},[n]);return E.useEffect(()=>{n.forEach(y=>{if(y.dismissed)c(y.id,y.removeDelay);else{let _=o.get(y.id);_&&(clearTimeout(_),o.delete(y.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:m,startPause:h,endPause:p,calculateOffset:g}}},Rk=Ti`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Nk=Ti`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kk=Ti`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Mk=Cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Nk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Dk=Ti`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ok=Cs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Dk} 1s linear infinite;
`,Ik=Ti`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Lk=Ti`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Pk=Cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ik} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Lk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,jk=Cs("div")`
  position: absolute;
`,Uk=Cs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zk=Ti`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vk=Cs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Bk=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(Vk,null,e):e:n==="blank"?null:E.createElement(Uk,null,E.createElement(Ok,{...r}),n!=="loading"&&E.createElement(jk,null,n==="error"?E.createElement(Mk,{...r}):E.createElement(Pk,{...r})))},Hk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Fk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qk="0%{opacity:0;} 100%{opacity:1;}",Gk="0%{opacity:1;} 100%{opacity:0;}",Yk=Cs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Kk=Cs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Wk=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=Fx()?[qk,Gk]:[Hk(n),Fk(n)];return{animation:e?`${Ti(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ti(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$k=E.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?Wk(t.position||e||"top-center",t.visible):{opacity:0},c=E.createElement(Bk,{toast:t}),u=E.createElement(Kk,{...t.ariaProps},Ru(t.message,t));return E.createElement(Yk,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:c,message:u}):E.createElement(E.Fragment,null,c,u))});vk(E.createElement);var Xk=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let c=E.useCallback(u=>{if(u){let h=()=>{let m=u.getBoundingClientRect().height;r(t,m)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:c,className:e,style:n},o)},Qk=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Fx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},Zk=df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,su=16,Jk=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,toasterId:c,containerStyle:u,containerClassName:h})=>{let{toasts:m,handlers:p}=Ak(n,c);return E.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:su,left:su,right:su,bottom:su,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let y=g.position||e,_=p.calculateOffset(g,{reverseOrder:t,gutter:r,defaultPosition:e}),x=Qk(y,_);return E.createElement(Xk,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?Zk:"",style:x},g.type==="custom"?Ru(g.message,g):o?o(g):E.createElement($k,{toast:g,position:y}))}))};const Wx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const eM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const qb=t=>{const e=tM(t);return e.charAt(0).toUpperCase()+e.slice(1)};var nM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sM=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...h},m)=>E.createElement("svg",{ref:m,...nM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Wx("lucide",o),...!c&&!iM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,g])=>E.createElement(p,g)),...Array.isArray(c)?c:[c]]));const ue=(t,e)=>{const n=E.forwardRef(({className:r,...o},c)=>E.createElement(sM,{ref:c,iconNode:e,className:Wx(`lucide-${eM(qb(t))}`,`lucide-${t}`,r),...o}));return n.displayName=qb(t),n};const rM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$p=ue("arrow-left",rM);const aM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nu=ue("arrow-right",aM);const oM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Gb=ue("award",oM);const lM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cM=ue("bell",lM);const uM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$x=ue("book-open",uM);const fM=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Yb=ue("bot",fM);const hM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dM=ue("calendar",hM);const mM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qm=ue("check",mM);const pM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ku=ue("clock",pM);const gM=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],yM=ue("cloud-rain",gM);const vM=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Xx=ue("coffee",vM);const _M=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bM=ue("copy",_M);const SM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xM=ue("disc",SM);const EM=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Qx=ue("flame",EM);const wM=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],TM=ue("ghost",wM);const CM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],AM=ue("heart",CM);const RM=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Zx=ue("layout-grid",RM);const NM=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],kM=ue("library",NM);const MM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DM=ue("lock",MM);const OM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jx=ue("log-out",OM);const IM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],LM=ue("mail",IM);const PM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jM=ue("moon",PM);const UM=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],zM=ue("music",UM);const VM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],BM=ue("pause",VM);const HM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],FM=ue("play",HM);const qM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eE=ue("plus",qM);const GM=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],YM=ue("radio",GM);const KM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WM=ue("rotate-ccw",KM);const $M=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],XM=ue("search",$M);const QM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tE=ue("send",QM);const ZM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nE=ue("settings",ZM);const JM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eD=ue("shield",JM);const tD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wl=ue("sparkles",tD);const nD=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Gm=ue("sprout",nD);const iD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sD=ue("star",iD);const rD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aD=ue("sun",rD);const oD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lD=ue("trash-2",oD);const cD=[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]],iE=ue("tree-deciduous",cD);const uD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fD=ue("user",uD);const hD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kb=ue("users",hD);const dD=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],mD=ue("video",dD);const pD=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],gD=ue("wand-sparkles",pD);const yD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vD=ue("x",yD);const _D=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],il=ue("zap",_D);function sE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=sE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=sE(t))&&(r&&(r+=" "),r+=e);return r}const Xp=E.createContext({});function Qp(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const rE=typeof window<"u",aE=rE?E.useLayoutEffect:E.useEffect,pf=E.createContext(null);function Zp(t,e){t.indexOf(e)===-1&&t.push(e)}function Jp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Kn=(t,e,n)=>n>e?e:n<t?t:n;let eg=()=>{};const Ci={},oE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lE(t){return typeof t=="object"&&t!==null}const cE=t=>/^0[^.\s]+$/u.test(t);function tg(t){let e;return()=>(e===void 0&&(e=t()),e)}const xn=t=>t,bD=(t,e)=>n=>e(t(n)),Tl=(...t)=>t.reduce(bD),sl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ng{constructor(){this.subscriptions=[]}add(e){return Zp(this.subscriptions,e),()=>Jp(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Si=t=>t*1e3,bn=t=>t/1e3;function uE(t,e){return e?t*(1e3/e):0}const fE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SD=1e-7,xD=12;function ED(t,e,n,r,o){let c,u,h=0;do u=e+(n-e)/2,c=fE(u,r,o)-t,c>0?n=u:e=u;while(Math.abs(c)>SD&&++h<xD);return u}function Cl(t,e,n,r){if(t===e&&n===r)return xn;const o=c=>ED(c,0,1,t,n);return c=>c===0||c===1?c:fE(o(c),e,r)}const hE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dE=t=>e=>1-t(1-e),mE=Cl(.33,1.53,.69,.99),ig=dE(mE),pE=hE(ig),gE=t=>(t*=2)<1?.5*ig(t):.5*(2-Math.pow(2,-10*(t-1))),sg=t=>1-Math.sin(Math.acos(t)),yE=dE(sg),vE=hE(sg),wD=Cl(.42,0,1,1),TD=Cl(0,0,.58,1),_E=Cl(.42,0,.58,1),CD=t=>Array.isArray(t)&&typeof t[0]!="number",bE=t=>Array.isArray(t)&&typeof t[0]=="number",AD={linear:xn,easeIn:wD,easeInOut:_E,easeOut:TD,circIn:sg,circInOut:vE,circOut:yE,backIn:ig,backInOut:pE,backOut:mE,anticipate:gE},RD=t=>typeof t=="string",Wb=t=>{if(bE(t)){eg(t.length===4);const[e,n,r,o]=t;return Cl(e,n,r,o)}else if(RD(t))return AD[t];return t},ru=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ND(t,e){let n=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,y=!1,_=!1)=>{const T=_&&o?n:r;return y&&u.add(g),T.has(g)||T.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,o){c=!0;return}o=!0,[n,r]=[r,n],n.forEach(m),n.clear(),o=!1,c&&(c=!1,p.process(g))}};return p}const kD=40;function SE(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=ru.reduce((L,F)=>(L[F]=ND(c),L),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:x,postRender:T}=u,N=()=>{const L=Ci.useManualTiming?o.timestamp:performance.now();n=!1,Ci.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(L-o.timestamp,kD),1)),o.timestamp=L,o.isProcessing=!0,h.process(o),m.process(o),p.process(o),g.process(o),y.process(o),_.process(o),x.process(o),T.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(N))},k=()=>{n=!0,r=!0,o.isProcessing||t(N)};return{schedule:ru.reduce((L,F)=>{const Y=u[F];return L[F]=(ie,$=!1,W=!1)=>(n||k(),Y.schedule(ie,$,W)),L},{}),cancel:L=>{for(let F=0;F<ru.length;F++)u[ru[F]].cancel(L)},state:o,steps:u}}const{schedule:Ye,cancel:_s,state:Nt,steps:cm}=SE(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0);let vu;function MD(){vu=void 0}const It={now:()=>(vu===void 0&&It.set(Nt.isProcessing||Ci.useManualTiming?Nt.timestamp:performance.now()),vu),set:t=>{vu=t,queueMicrotask(MD)}},xE=t=>e=>typeof e=="string"&&e.startsWith(t),EE=xE("--"),DD=xE("var(--"),rg=t=>DD(t)?OD.test(t.split("/*")[0].trim()):!1,OD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function $b(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Aa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...Aa,transform:t=>Kn(0,1,t)},au={...Aa,default:1},Go=t=>Math.round(t*1e5)/1e5,ag=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ID(t){return t==null}const LD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,og=(t,e)=>n=>!!(typeof n=="string"&&LD.test(n)&&n.startsWith(t)||e&&!ID(n)&&Object.prototype.hasOwnProperty.call(n,e)),wE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,c,u,h]=r.match(ag);return{[t]:parseFloat(o),[e]:parseFloat(c),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},PD=t=>Kn(0,255,t),um={...Aa,transform:t=>Math.round(PD(t))},er={test:og("rgb","red"),parse:wE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+um.transform(t)+", "+um.transform(e)+", "+um.transform(n)+", "+Go(rl.transform(r))+")"};function jD(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ym={test:og("#"),parse:jD,transform:er.transform},Al=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),os=Al("deg"),Gn=Al("%"),J=Al("px"),UD=Al("vh"),zD=Al("vw"),Xb={...Gn,parse:t=>Gn.parse(t)/100,transform:t=>Gn.transform(t*100)},sa={test:og("hsl","hue"),parse:wE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gn.transform(Go(e))+", "+Gn.transform(Go(n))+", "+Go(rl.transform(r))+")"},ft={test:t=>er.test(t)||Ym.test(t)||sa.test(t),parse:t=>er.test(t)?er.parse(t):sa.test(t)?sa.parse(t):Ym.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?er.transform(t):sa.transform(t),getAnimatableNone:t=>{const e=ft.parse(t);return e.alpha=0,ft.transform(e)}},VD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BD(t){return isNaN(t)&&typeof t=="string"&&(t.match(ag)?.length||0)+(t.match(VD)?.length||0)>0}const TE="number",CE="color",HD="var",FD="var(",Qb="${}",qD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function al(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(qD,m=>(ft.test(m)?(r.color.push(c),o.push(CE),n.push(ft.parse(m))):m.startsWith(FD)?(r.var.push(c),o.push(HD),n.push(m)):(r.number.push(c),o.push(TE),n.push(parseFloat(m))),++c,Qb)).split(Qb);return{values:n,split:h,indexes:r,types:o}}function AE(t){return al(t).values}function RE(t){const{split:e,types:n}=al(t),r=e.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=e[u],o[u]!==void 0){const h=n[u];h===TE?c+=Go(o[u]):h===CE?c+=ft.transform(o[u]):c+=o[u]}return c}}const GD=t=>typeof t=="number"?0:ft.test(t)?ft.getAnimatableNone(t):t;function YD(t){const e=AE(t);return RE(t)(e.map(GD))}const bs={test:BD,parse:AE,createTransformer:RE,getAnimatableNone:YD};function fm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,c=0,u=0;if(!e)o=c=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,m=2*n-h;o=fm(m,h,t+1/3),c=fm(m,h,t),u=fm(m,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function Mu(t,e){return n=>n>0?e:t}const Je=(t,e,n)=>t+(e-t)*n,hm=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},WD=[Ym,er,sa],$D=t=>WD.find(e=>e.test(t));function Zb(t){const e=$D(t);if(!e)return!1;let n=e.parse(t);return e===sa&&(n=KD(n)),n}const Jb=(t,e)=>{const n=Zb(t),r=Zb(e);if(!n||!r)return Mu(t,e);const o={...n};return c=>(o.red=hm(n.red,r.red,c),o.green=hm(n.green,r.green,c),o.blue=hm(n.blue,r.blue,c),o.alpha=Je(n.alpha,r.alpha,c),er.transform(o))},Km=new Set(["none","hidden"]);function XD(t,e){return Km.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QD(t,e){return n=>Je(t,e,n)}function lg(t){return typeof t=="number"?QD:typeof t=="string"?rg(t)?Mu:ft.test(t)?Jb:eO:Array.isArray(t)?NE:typeof t=="object"?ft.test(t)?Jb:ZD:Mu}function NE(t,e){const n=[...t],r=n.length,o=t.map((c,u)=>lg(c)(c,e[u]));return c=>{for(let u=0;u<r;u++)n[u]=o[u](c);return n}}function ZD(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=lg(t[o])(t[o],e[o]));return o=>{for(const c in r)n[c]=r[c](o);return n}}function JD(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][r[c]],h=t.values[u]??0;n[o]=h,r[c]++}return n}const eO=(t,e)=>{const n=bs.createTransformer(e),r=al(t),o=al(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Km.has(t)&&!o.values.length||Km.has(e)&&!r.values.length?XD(t,e):Tl(NE(JD(r,o),o.values),n):Mu(t,e)};function kE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):lg(t)(t,e)}const tO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ye.update(e,n),stop:()=>_s(e),now:()=>Nt.isProcessing?Nt.timestamp:It.now()}},ME=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let c=0;c<o;c++)r+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Du=2e4;function cg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Du;)e+=n,r=t.next(e);return e>=Du?1/0:e}function nO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(cg(r),Du);return{type:"keyframes",ease:c=>r.next(o*c).value/e,duration:bn(o)}}const iO=5;function DE(t,e,n){const r=Math.max(e-iO,0);return uE(n-t(r),e-r)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dm=.001;function sO({duration:t=it.duration,bounce:e=it.bounce,velocity:n=it.velocity,mass:r=it.mass}){let o,c,u=1-e;u=Kn(it.minDamping,it.maxDamping,u),t=Kn(it.minDuration,it.maxDuration,bn(t)),u<1?(o=p=>{const g=p*u,y=g*t,_=g-n,x=Wm(p,u),T=Math.exp(-y);return dm-_/x*T},c=p=>{const y=p*u*t,_=y*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,T=Math.exp(-y),N=Wm(Math.pow(p,2),u);return(-o(p)+dm>0?-1:1)*((_-x)*T)/N}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-dm+g*y},c=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const h=5/t,m=aO(o,c,h);if(t=Si(t),isNaN(m))return{stiffness:it.stiffness,damping:it.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const rO=12;function aO(t,e,n){let r=n;for(let o=1;o<rO;o++)r=r-t(r)/e(r);return r}function Wm(t,e){return t*Math.sqrt(1-e*e)}const oO=["duration","bounce"],lO=["stiffness","damping","mass"];function e1(t,e){return e.some(n=>t[n]!==void 0)}function cO(t){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...t};if(!e1(t,lO)&&e1(t,oO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,c=2*Kn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:c}}else{const n=sO(t);e={...e,...n,mass:it.mass},e.isResolvedFromDuration=!0}return e}function Ou(t=it.visualDuration,e=it.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:x}=cO({...n,velocity:-bn(n.velocity||0)}),T=_||0,N=p/(2*Math.sqrt(m*g)),k=u-c,M=bn(Math.sqrt(m/g)),P=Math.abs(k)<5;r||(r=P?it.restSpeed.granular:it.restSpeed.default),o||(o=P?it.restDelta.granular:it.restDelta.default);let L;if(N<1){const Y=Wm(M,N);L=ie=>{const $=Math.exp(-N*M*ie);return u-$*((T+N*M*k)/Y*Math.sin(Y*ie)+k*Math.cos(Y*ie))}}else if(N===1)L=Y=>u-Math.exp(-M*Y)*(k+(T+M*k)*Y);else{const Y=M*Math.sqrt(N*N-1);L=ie=>{const $=Math.exp(-N*M*ie),W=Math.min(Y*ie,300);return u-$*((T+N*M*k)*Math.sinh(W)+Y*k*Math.cosh(W))/Y}}const F={calculatedDuration:x&&y||null,next:Y=>{const ie=L(Y);if(x)h.done=Y>=y;else{let $=Y===0?T:0;N<1&&($=Y===0?Si(T):DE(L,Y,ie));const W=Math.abs($)<=r,se=Math.abs(u-ie)<=o;h.done=W&&se}return h.value=h.done?u:ie,h},toString:()=>{const Y=Math.min(cg(F),Du),ie=ME($=>F.next(Y*$).value,Y,30);return Y+"ms "+ie},toTransition:()=>{}};return F}Ou.applyToOptions=t=>{const e=nO(t,100,Ou);return t.ease=e.ease,t.duration=Si(e.duration),t.type="keyframes",t};function $m({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},x=W=>h!==void 0&&W<h||m!==void 0&&W>m,T=W=>h===void 0?m:m===void 0||Math.abs(h-W)<Math.abs(m-W)?h:m;let N=n*e;const k=y+N,M=u===void 0?k:u(k);M!==k&&(N=M-y);const P=W=>-N*Math.exp(-W/r),L=W=>M+P(W),F=W=>{const se=P(W),be=L(W);_.done=Math.abs(se)<=p,_.value=_.done?M:be};let Y,ie;const $=W=>{x(_.value)&&(Y=W,ie=Ou({keyframes:[_.value,T(_.value)],velocity:DE(L,W,_.value),damping:o,stiffness:c,restDelta:p,restSpeed:g}))};return $(0),{calculatedDuration:null,next:W=>{let se=!1;return!ie&&Y===void 0&&(se=!0,F(W),$(W)),Y!==void 0&&W>=Y?ie.next(W-Y):(!se&&F(W),_)}}}function uO(t,e,n){const r=[],o=n||Ci.mix||kE,c=t.length-1;for(let u=0;u<c;u++){let h=o(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||xn:e;h=Tl(m,h)}r.push(h)}return r}function fO(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const c=t.length;if(eg(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=uO(e,r,o),m=h.length,p=g=>{if(u&&g<t[0])return e[0];let y=0;if(m>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=sl(t[y],t[y+1],g);return h[y](_)};return n?g=>p(Kn(t[0],t[c-1],g)):p}function hO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=sl(0,e,r);t.push(Je(n,1,o))}}function dO(t){const e=[0];return hO(e,t.length-1),e}function mO(t,e){return t.map(n=>n*e)}function pO(t,e){return t.map(()=>e||_E).splice(0,t.length-1)}function Yo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=CD(r)?r.map(Wb):Wb(r),c={done:!1,value:e[0]},u=mO(n&&n.length===e.length?n:dO(e),t),h=fO(u,e,{ease:Array.isArray(o)?o:pO(e,o)});return{calculatedDuration:t,next:m=>(c.value=h(m),c.done=m>=t,c)}}const gO=t=>t!==null;function ug(t,{repeat:e,repeatType:n="loop"},r,o=1){const c=t.filter(gO),h=o<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!h||r===void 0?c[h]:r}const yO={decay:$m,inertia:$m,tween:Yo,keyframes:Yo,spring:Ou};function OE(t){typeof t.type=="string"&&(t.type=yO[t.type])}class fg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vO=t=>t/100;class hg extends fg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==It.now()&&this.tick(It.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OE(e);const{type:n=Yo,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const m=n||Yo;m!==Yo&&typeof h[0]!="number"&&(this.mixKeyframes=Tl(vO,kE(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=cg(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:x,type:T,onUpdate:N,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?M<0:M>o;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,F=r;if(y){const W=Math.min(this.currentTime,o)/h;let se=Math.floor(W),be=W%1;!be&&W>=1&&(be=1),be===1&&se--,se=Math.min(se,y+1),se%2&&(_==="reverse"?(be=1-be,x&&(be-=x/h)):_==="mirror"&&(F=u)),L=Kn(0,1,be)*h}const Y=P?{done:!1,value:g[0]}:F.next(L);c&&(Y.value=c(Y.value));let{done:ie}=Y;!P&&m!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return $&&T!==$m&&(Y.value=ug(g,this.options,k,this.speed)),N&&N(Y.value),$&&this.finish(),Y}then(e,n){return this.finished.then(e,n)}get duration(){return bn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bn(e)}get time(){return bn(this.currentTime)}set time(e){e=Si(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(It.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tO,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(It.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _O(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const tr=t=>t*180/Math.PI,Xm=t=>{const e=tr(Math.atan2(t[1],t[0]));return Qm(e)},bO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xm,rotateZ:Xm,skewX:t=>tr(Math.atan(t[1])),skewY:t=>tr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qm=t=>(t=t%360,t<0&&(t+=360),t),t1=Xm,n1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),i1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),SO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n1,scaleY:i1,scale:t=>(n1(t)+i1(t))/2,rotateX:t=>Qm(tr(Math.atan2(t[6],t[5]))),rotateY:t=>Qm(tr(Math.atan2(-t[2],t[0]))),rotateZ:t1,rotate:t1,skewX:t=>tr(Math.atan(t[4])),skewY:t=>tr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zm(t){return t.includes("scale")?1:0}function Jm(t,e){if(!t||t==="none")return Zm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=SO,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bO,o=h}if(!o)return Zm(e);const c=r[e],u=o[1].split(",").map(EO);return typeof c=="function"?c(u):u[c]}const xO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Jm(n,e)};function EO(t){return parseFloat(t.trim())}const Ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Na=new Set(Ra),s1=t=>t===Aa||t===J,wO=new Set(["x","y","z"]),TO=Ra.filter(t=>!wO.has(t));function CO(t){const e=[];return TO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const hs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Jm(e,"x"),y:(t,{transform:e})=>Jm(e,"y")};hs.translateX=hs.x;hs.translateY=hs.y;const rr=new Set;let ep=!1,tp=!1,np=!1;function IE(){if(tp){const t=Array.from(rr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=CO(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tp=!1,ep=!1,rr.forEach(t=>t.complete(np)),rr.clear()}function LE(){rr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tp=!0)})}function AO(){np=!0,LE(),IE(),np=!1}class dg{constructor(e,n,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(rr.add(this),ep||(ep=!0,Ye.read(LE),Ye.resolveKeyframes(IE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}_O(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rr.delete(this)}cancel(){this.state==="scheduled"&&(rr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RO=t=>t.startsWith("--");function NO(t,e,n){RO(e)?t.style.setProperty(e,n):t.style[e]=n}const kO=tg(()=>window.ScrollTimeline!==void 0),MO={};function DO(t,e){const n=tg(t);return()=>MO[e]??n()}const PE=DO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,r1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bo([0,.65,.55,1]),circOut:Bo([.55,0,1,.45]),backIn:Bo([.31,.01,.66,-.59]),backOut:Bo([.33,1.53,.69,.99])};function jE(t,e){if(t)return typeof t=="function"?PE()?ME(t,e):"ease-out":bE(t)?Bo(t):Array.isArray(t)?t.map(n=>jE(n,e)||r1.easeOut):r1[t]}function OO(t,e,n,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const g={[e]:n};m&&(g.offset=m);const y=jE(h,o);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function UE(t){return typeof t=="function"&&"applyToOptions"in t}function IO({type:t,...e}){return UE(t)&&PE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LO extends fg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,eg(typeof e.type!="string");const p=IO(e);this.animation=OO(n,r,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=ug(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):NO(n,r,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bn(e)}get time(){return bn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Si(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&kO()?(this.animation.timeline=e,xn):n(this)}}const zE={anticipate:gE,backInOut:pE,circInOut:vE};function PO(t){return t in zE}function jO(t){typeof t.ease=="string"&&PO(t.ease)&&(t.ease=zE[t.ease])}const mm=10;class UO extends LO{constructor(e){jO(e),OE(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new hg({...u,autoplay:!1}),m=Math.max(mm,It.now()-this.startTime),p=Kn(0,mm,m-mm);n.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const a1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bs.test(t)||t==="0")&&!t.startsWith("url("));function zO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function VO(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=a1(o,e),h=a1(c,e);return!u||!h?!1:zO(t)||(n==="spring"||UE(n))&&r}function ip(t){t.duration=0,t.type="keyframes"}const BO=new Set(["opacity","clipPath","filter","transform"]),HO=tg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FO(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return HO()&&n&&BO.has(n)&&(n!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const qO=40;class GO extends fg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=It.now();const _={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:c,repeatType:u,name:m,motionValue:p,element:g,...y},x=g?.KeyframeResolver||dg;this.keyframeResolver=new x(h,(T,N,k)=>this.onKeyframesResolved(T,N,_,!k),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=It.now(),VO(e,c,u,h)||((Ci.instantAnimations||!m)&&g?.(ug(e,r,n)),e[0]=e[e.length-1],ip(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>qO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&FO(_),T=_.motionValue?.owner?.current,N=x?new UO({..._,element:T}):new hg(_);N.finished.then(()=>{this.notifyFinished()}).catch(xn),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function VE(t,e,n,r=0,o=1){const c=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(c,u):o===1?c*r:h-c*r}const YO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KO(t){const e=YO.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function BE(t,e,n=1){const[r,o]=KO(t);if(!r)return;const c=window.getComputedStyle(e).getPropertyValue(r);if(c){const u=c.trim();return oE(u)?parseFloat(u):u}return rg(o)?BE(o,e,n+1):o}const WO={type:"spring",stiffness:500,damping:25,restSpeed:10},$O=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XO={type:"keyframes",duration:.8},QO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZO=(t,{keyframes:e})=>e.length>2?XO:Na.has(t)?t.startsWith("scale")?$O(e[1]):WO:QO,JO=t=>t!==null;function eI(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(JO),c=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[c]}function mg(t,e){return t?.[e]??t?.default??t}function tI({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const pg=(t,e,n,r={},o,c)=>u=>{const h=mg(r,t)||{},m=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Si(m);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:o};tI(h)||Object.assign(g,ZO(t,g)),g.duration&&(g.duration=Si(g.duration)),g.repeatDelay&&(g.repeatDelay=Si(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(ip(g),g.delay===0&&(y=!0)),(Ci.instantAnimations||Ci.skipAnimations)&&(y=!0,ip(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!c&&e.get()!==void 0){const _=eI(g.keyframes,h);if(_!==void 0){Ye.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new hg(g):new GO(g)};function o1(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function gg(t,e,n,r){if(typeof e=="function"){const[o,c]=o1(r);e=e(n!==void 0?n:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=o1(r);e=e(n!==void 0?n:t.custom,o,c)}return e}function ca(t,e,n){const r=t.getProps();return gg(r,e,n!==void 0?n:r.custom,t)}const HE=new Set(["width","height","top","left","right","bottom",...Ra]),l1=30,nI=t=>!isNaN(parseFloat(t));class iI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=It.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=It.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ng);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>l1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,l1);return uE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ma(t,e){return new iI(t,e)}const sp=t=>Array.isArray(t);function sI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ma(n))}function rI(t){return sp(t)?t[t.length-1]||0:t}function aI(t,e){const n=ca(t,e);let{transitionEnd:r={},transition:o={},...c}=n||{};c={...c,...r};for(const u in c){const h=rI(c[u]);sI(t,u,h)}}const Mt=t=>!!(t&&t.getVelocity);function oI(t){return!!(Mt(t)&&t.add)}function rp(t,e){const n=t.getValue("willChange");if(oI(n))return n.add(e);if(!n&&Ci.WillChange){const r=new Ci.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function yg(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const lI="framerAppearId",FE="data-"+yg(lI);function qE(t){return t.props[FE]}function cI({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GE(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...h}=e;const m=c?.reduceMotion;r&&(c=r);const p=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),x=h[y];if(x===void 0||g&&cI(g,y))continue;const T={delay:n,...mg(c||{},y)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(x)&&x===N&&!T.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const L=qE(t);if(L){const F=window.MotionHandoffAnimation(L,y,Ye);F!==null&&(T.startTime=F,k=!0)}}rp(t,y);const M=m??t.shouldReduceMotion;_.start(pg(y,_,x,M&&HE.has(y)?{type:!1}:T,t,k));const P=_.animation;P&&p.push(P)}return u&&Promise.all(p).then(()=>{Ye.update(()=>{u&&aI(t,u)})}),p}function ap(t,e,n={}){const r=ca(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const c=r?()=>Promise.all(GE(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return uI(t,e,m,p,g,y,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,p]=h==="beforeChildren"?[c,u]:[u,c];return m().then(()=>p())}else return Promise.all([c(),u(n.delay)])}function uI(t,e,n=0,r=0,o=0,c=1,u){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(ap(m,e,{...u,delay:n+(typeof r=="function"?0:r)+VE(t.variantChildren,m,r,o,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function fI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(c=>ap(t,c,n));r=Promise.all(o)}else if(typeof e=="string")r=ap(t,e,n);else{const o=typeof e=="function"?ca(t,e,n.custom):e;r=Promise.all(GE(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const hI={test:t=>t==="auto",parse:t=>t},YE=t=>e=>e.test(t),KE=[Aa,J,Gn,os,zD,UD,hI],c1=t=>KE.find(YE(t));function dI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cE(t):!0}const mI=new Set(["brightness","contrast","saturate","opacity"]);function pI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ag)||[];if(!r)return t;const o=n.replace(r,"");let c=mI.has(e)?1:0;return r!==n&&(c*=100),e+"("+c+o+")"}const gI=/\b([a-z-]*)\(.*?\)/gu,op={...bs,getAnimatableNone:t=>{const e=t.match(gI);return e?e.map(pI).join(" "):t}},u1={...Aa,transform:Math.round},yI={rotate:os,rotateX:os,rotateY:os,rotateZ:os,scale:au,scaleX:au,scaleY:au,scaleZ:au,skew:os,skewX:os,skewY:os,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:rl,originX:Xb,originY:Xb,originZ:J},vg={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,inset:J,insetBlock:J,insetBlockStart:J,insetBlockEnd:J,insetInline:J,insetInlineStart:J,insetInlineEnd:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,paddingBlock:J,paddingBlockStart:J,paddingBlockEnd:J,paddingInline:J,paddingInlineStart:J,paddingInlineEnd:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,marginBlock:J,marginBlockStart:J,marginBlockEnd:J,marginInline:J,marginInlineStart:J,marginInlineEnd:J,fontSize:J,backgroundPositionX:J,backgroundPositionY:J,...yI,zIndex:u1,fillOpacity:rl,strokeOpacity:rl,numOctaves:u1},vI={...vg,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:op,WebkitFilter:op},WE=t=>vI[t];function $E(t,e){let n=WE(t);return n!==op&&(n=bs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _I=new Set(["auto","none","0"]);function bI(t,e,n){let r=0,o;for(;r<t.length&&!o;){const c=t[r];typeof c=="string"&&!_I.has(c)&&al(c).values.length&&(o=t[r]),r++}if(o&&n)for(const c of e)t[c]=$E(n,o)}class SI extends dg{constructor(e,n,r,o,c){super(e,n,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),rg(y))){const _=BE(y,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!HE.has(r)||e.length!==2)return;const[o,c]=e,u=c1(o),h=c1(c),m=$b(o),p=$b(c);if(m!==p&&hs[r]){this.needsMeasurement=!0;return}if(u!==h)if(s1(u)&&s1(h))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else hs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||dI(e[o]))&&r.push(o);r.length&&bI(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=hs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function xI(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=n?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(r=>r!=null)}const XE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function lp(t){return lE(t)&&"offsetHeight"in t}const{schedule:_g}=SE(queueMicrotask,!1),Nn={x:!1,y:!1};function QE(){return Nn.x||Nn.y}function EI(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function ZE(t,e){const n=xI(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function f1(t){return!(t.pointerType==="touch"||QE())}function wI(t,e,n={}){const[r,o,c]=ZE(t,n),u=h=>{if(!f1(h))return;const{target:m}=h,p=e(m,h);if(typeof p!="function"||!m)return;const g=y=>{f1(y)&&(p(y),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",u,o)}),c}const JE=(t,e)=>e?t===e?!0:JE(t,e.parentElement):!1,bg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ew(t){return TI.has(t.tagName)||t.isContentEditable===!0}const _u=new WeakSet;function h1(t){return e=>{e.key==="Enter"&&t(e)}}function pm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CI=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=h1(()=>{if(_u.has(n))return;pm(n,"down");const o=h1(()=>{pm(n,"up")}),c=()=>pm(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function d1(t){return bg(t)&&!QE()}function AI(t,e,n={}){const[r,o,c]=ZE(t,n),u=h=>{const m=h.currentTarget;if(!d1(h))return;_u.add(m);const p=e(m,h),g=(x,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),_u.has(m)&&_u.delete(m),d1(x)&&typeof p=="function"&&p(x,{success:T})},y=x=>{g(x,m===window||m===document||n.useGlobalTarget||JE(m,x.target))},_=x=>{g(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),lp(h)&&(h.addEventListener("focus",p=>CI(p,o)),!ew(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function tw(t){return lE(t)&&"ownerSVGElement"in t}function RI(t){return tw(t)&&t.tagName==="svg"}const NI=[...KE,ft,bs],kI=t=>NI.find(YE(t)),m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ra=()=>({x:m1(),y:m1()}),p1=()=>({min:0,max:0}),dt=()=>({x:p1(),y:p1()}),cp={current:null},nw={current:!1},MI=typeof window<"u";function DI(){if(nw.current=!0,!!MI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cp.current=t.matches;t.addEventListener("change",e),e()}else cp.current=!1}const OI=new WeakMap;function gf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ol(t){return typeof t=="string"||Array.isArray(t)}const Sg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xg=["initial",...Sg];function yf(t){return gf(t.animate)||xg.some(e=>ol(t[e]))}function iw(t){return!!(yf(t)||t.variants)}function II(t,e,n){for(const r in e){const o=e[r],c=n[r];if(Mt(o))t.addValue(r,o);else if(Mt(c))t.addValue(r,ma(o,{owner:t}));else if(c!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,ma(u!==void 0?u:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Iu={};function sw(t){Iu=t}function LI(){return Iu}class PI{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=It.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ye.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=yf(n),this.isVariantNode=iw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const x=y[_];m[_]!==void 0&&Mt(x)&&x.set(m[_])}}mount(e){this.current=e,OI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(nw.current||DI(),this.shouldReduceMotion=cp.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_s(this.notifyUpdate),_s(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Na.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Iu){const n=Iu[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<g1.length;r++){const o=g1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=II(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ma(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(oE(r)||cE(r))?r=parseFloat(r):!kI(r)&&bs.test(n)&&(r=$E(e,n)),this.setBaseTarget(e,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=gg(this.props,n,this.presenceContext?.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Mt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ng),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_g.render(this.render)}}class rw extends PI{constructor(){super(...arguments),this.KeyframeResolver=SI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class As{constructor(e){this.isMounted=!1,this.node=e}update(){}}function aw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function UI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gm(t){return t===void 0||t===1}function up({scale:t,scaleX:e,scaleY:n}){return!gm(t)||!gm(e)||!gm(n)}function Qs(t){return up(t)||ow(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ow(t){return y1(t.x)||y1(t.y)}function y1(t){return t&&t!=="0%"}function Lu(t,e,n){const r=t-n,o=e*r;return n+o}function v1(t,e,n,r,o){return o!==void 0&&(t=Lu(t,o,r)),Lu(t,n,r)+e}function fp(t,e=0,n=1,r,o){t.min=v1(t.min,e,n,r,o),t.max=v1(t.max,e,n,r,o)}function lw(t,{x:e,y:n}){fp(t.x,e.translate,e.scale,e.originPoint),fp(t.y,n.translate,n.scale,n.originPoint)}const _1=.999999999999,b1=1.0000000000001;function zI(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let c,u;for(let h=0;h<o;h++){c=n[h],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&oa(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,lw(t,u)),r&&Qs(c.latestValues)&&oa(t,c.latestValues))}e.x<b1&&e.x>_1&&(e.x=1),e.y<b1&&e.y>_1&&(e.y=1)}function aa(t,e){t.min=t.min+e,t.max=t.max+e}function S1(t,e,n,r,o=.5){const c=Je(t.min,t.max,o);fp(t,e,n,c,r)}function oa(t,e){S1(t.x,e.x,e.scaleX,e.scale,e.originX),S1(t.y,e.y,e.scaleY,e.scale,e.originY)}function cw(t,e){return aw(UI(t.getBoundingClientRect(),e))}function VI(t,e,n){const r=cw(t,n),{scroll:o}=e;return o&&(aa(r.x,o.offset.x),aa(r.y,o.offset.y)),r}const BI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HI=Ra.length;function FI(t,e,n){let r="",o=!0;for(let c=0;c<HI;c++){const u=Ra[c],h=t[u];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);m=u.startsWith("scale")?p===1:p===0}if(!m||n){const p=XE(h,vg[u]);if(!m){o=!1;const g=BI[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Eg(t,e,n){const{style:r,vars:o,transformOrigin:c}=t;let u=!1,h=!1;for(const m in e){const p=e[m];if(Na.has(m)){u=!0;continue}else if(EE(m)){o[m]=p;continue}else{const g=XE(p,vg[m]);m.startsWith("origin")?(h=!0,c[m]=g):r[m]=g}}if(e.transform||(u||n?r.transform=FI(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;r.transformOrigin=`${m} ${p} ${g}`}}function uw(t,{style:e,vars:n},r,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,r);for(u in n)c.setProperty(u,n[u])}function x1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Po={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=x1(t,e.target.x),r=x1(t,e.target.y);return`${n}% ${r}%`}},qI={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=bs.parse(t);if(o.length>5)return r;const c=bs.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=m;const p=Je(h,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}},hp={borderRadius:{...Po,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Po,borderTopRightRadius:Po,borderBottomLeftRadius:Po,borderBottomRightRadius:Po,boxShadow:qI};function fw(t,{layout:e,layoutId:n}){return Na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hp[t]||t==="opacity")}function wg(t,e,n){const r=t.style,o=e?.style,c={};if(!r)return c;for(const u in r)(Mt(r[u])||o&&Mt(o[u])||fw(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function GI(t){return window.getComputedStyle(t)}class YI extends rw{constructor(){super(...arguments),this.type="html",this.renderInstance=uw}readValueFromInstance(e,n){if(Na.has(n))return this.projection?.isProjecting?Zm(n):xO(e,n);{const r=GI(e),o=(EE(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cw(e,n)}build(e,n,r){Eg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wg(e,n,r)}}const KI={offset:"stroke-dashoffset",array:"stroke-dasharray"},WI={offset:"strokeDashoffset",array:"strokeDasharray"};function $I(t,e,n=1,r=0,o=!0){t.pathLength=1;const c=o?KI:WI;t[c.offset]=`${-r}`,t[c.array]=`${e} ${n}`}const XI=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function hw(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},m,p,g){if(Eg(t,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete y.transformBox);for(const x of XI)y[x]!==void 0&&(_[x]=y[x],delete y[x]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&$I(y,o,c,u,!1)}const dw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),mw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QI(t,e,n,r){uw(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(dw.has(o)?o:yg(o),e.attrs[o])}function pw(t,e,n){const r=wg(t,e,n);for(const o in t)if(Mt(t[o])||Mt(e[o])){const c=Ra.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=t[o]}return r}class ZI extends rw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Na.has(n)){const r=WE(n);return r&&r.default||0}return n=dw.has(n)?n:yg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return pw(e,n,r)}build(e,n,r){hw(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,o){QI(e,n,r,o)}mount(e){this.isSVGTag=mw(e.tagName),super.mount(e)}}const JI=xg.length;function gw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<JI;n++){const r=xg[n],o=t.props[r];(ol(o)||o===!1)&&(e[r]=o)}return e}function yw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const e3=[...Sg].reverse(),t3=Sg.length;function n3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>fI(t,n,r)))}function i3(t){let e=n3(t),n=E1(),r=!0;const o=m=>(p,g)=>{const y=ca(t,g,m==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:_,transitionEnd:x,...T}=y;p={...p,...T,...x}}return p};function c(m){e=m(t)}function u(m){const{props:p}=t,g=gw(t.parent)||{},y=[],_=new Set;let x={},T=1/0;for(let k=0;k<t3;k++){const M=e3[k],P=n[M],L=p[M]!==void 0?p[M]:g[M],F=ol(L),Y=M===m?P.isActive:null;Y===!1&&(T=k);let ie=L===g[M]&&L!==p[M]&&F;if(ie&&r&&t.manuallyAnimateOnMount&&(ie=!1),P.protectedKeys={...x},!P.isActive&&Y===null||!L&&!P.prevProp||gf(L)||typeof L=="boolean")continue;const $=s3(P.prevProp,L);let W=$||M===m&&P.isActive&&!ie&&F||k>T&&F,se=!1;const be=Array.isArray(L)?L:[L];let Ke=be.reduce(o(M),{});Y===!1&&(Ke={});const{prevResolvedValues:We={}}=P,Wt={...We,...Ke},zt=q=>{W=!0,_.has(q)&&(se=!0,_.delete(q)),P.needsAnimating[q]=!0;const Q=t.getValue(q);Q&&(Q.liveStyle=!1)};for(const q in Wt){const Q=Ke[q],ge=We[q];if(x.hasOwnProperty(q))continue;let Se=!1;sp(Q)&&sp(ge)?Se=!yw(Q,ge):Se=Q!==ge,Se?Q!=null?zt(q):_.add(q):Q!==void 0&&_.has(q)?zt(q):P.protectedKeys[q]=!0}P.prevProp=L,P.prevResolvedValues=Ke,P.isActive&&(x={...x,...Ke}),r&&t.blockInitialAnimation&&(W=!1);const Et=ie&&$;W&&(!Et||se)&&y.push(...be.map(q=>{const Q={type:M};if(typeof q=="string"&&r&&!Et&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,Se=ca(ge,q);if(ge.enteringChildren&&Se){const{delayChildren:A}=Se.transition||{};Q.delay=VE(ge.enteringChildren,t,A)}}return{animation:q,options:Q}}))}if(_.size){const k={};if(typeof p.initial!="boolean"){const M=ca(t,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(k.transition=M.transition)}_.forEach(M=>{const P=t.getBaseTarget(M),L=t.getValue(M);L&&(L.liveStyle=!0),k[M]=P??null}),y.push({animation:k})}let N=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function h(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(m,p)),n[m].isActive=p;const g=u(m);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>n,reset:()=>{n=E1()}}}function s3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yw(e,t):!1}function Xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E1(){return{animate:Xs(!0),whileInView:Xs(),whileHover:Xs(),whileTap:Xs(),whileDrag:Xs(),whileFocus:Xs(),exit:Xs()}}function w1(t,e){t.min=e.min,t.max=e.max}function Rn(t,e){w1(t.x,e.x),w1(t.y,e.y)}function T1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const vw=1e-4,r3=1-vw,a3=1+vw,_w=.01,o3=0-_w,l3=0+_w;function Lt(t){return t.max-t.min}function c3(t,e,n){return Math.abs(t-e)<=n}function C1(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=Lt(n)/Lt(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=r3&&t.scale<=a3||isNaN(t.scale))&&(t.scale=1),(t.translate>=o3&&t.translate<=l3||isNaN(t.translate))&&(t.translate=0)}function Ko(t,e,n,r){C1(t.x,e.x,n.x,r?r.originX:void 0),C1(t.y,e.y,n.y,r?r.originY:void 0)}function A1(t,e,n){t.min=n.min+e.min,t.max=t.min+Lt(e)}function u3(t,e,n){A1(t.x,e.x,n.x),A1(t.y,e.y,n.y)}function R1(t,e,n){t.min=e.min-n.min,t.max=t.min+Lt(e)}function Pu(t,e,n){R1(t.x,e.x,n.x),R1(t.y,e.y,n.y)}function N1(t,e,n,r,o){return t-=e,t=Lu(t,1/n,r),o!==void 0&&(t=Lu(t,1/o,r)),t}function f3(t,e=0,n=1,r=.5,o,c=t,u=t){if(Gn.test(e)&&(e=parseFloat(e),e=Je(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Je(c.min,c.max,r);t===c&&(h-=e),t.min=N1(t.min,e,n,h,o),t.max=N1(t.max,e,n,h,o)}function k1(t,e,[n,r,o],c,u){f3(t,e[n],e[r],e[o],e.scale,c,u)}const h3=["x","scaleX","originX"],d3=["y","scaleY","originY"];function M1(t,e,n,r){k1(t.x,e,h3,n?n.x:void 0,r?r.x:void 0),k1(t.y,e,d3,n?n.y:void 0,r?r.y:void 0)}function D1(t){return t.translate===0&&t.scale===1}function bw(t){return D1(t.x)&&D1(t.y)}function O1(t,e){return t.min===e.min&&t.max===e.max}function m3(t,e){return O1(t.x,e.x)&&O1(t.y,e.y)}function I1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Sw(t,e){return I1(t.x,e.x)&&I1(t.y,e.y)}function L1(t){return Lt(t.x)/Lt(t.y)}function P1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function _n(t){return[t("x"),t("y")]}function p3(t,e,n){let r="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:x,skewY:T}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(r+=`scale(${h}, ${m})`),r||"none"}const xw=["TopLeft","TopRight","BottomLeft","BottomRight"],g3=xw.length,j1=t=>typeof t=="string"?parseFloat(t):t,U1=t=>typeof t=="number"||J.test(t);function y3(t,e,n,r,o,c){o?(t.opacity=Je(0,n.opacity??1,v3(r)),t.opacityExit=Je(e.opacity??1,0,_3(r))):c&&(t.opacity=Je(e.opacity??1,n.opacity??1,r));for(let u=0;u<g3;u++){const h=`border${xw[u]}Radius`;let m=z1(e,h),p=z1(n,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||U1(m)===U1(p)?(t[h]=Math.max(Je(j1(m),j1(p),r),0),(Gn.test(p)||Gn.test(m))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function z1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v3=Ew(0,.5,yE),_3=Ew(.5,.95,xn);function Ew(t,e,n){return r=>r<t?0:r>e?1:n(sl(t,e,r))}function b3(t,e,n){const r=Mt(t)?t:ma(t);return r.start(pg("",r,e,n)),r.animation}function ll(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const S3=(t,e)=>t.depth-e.depth;class x3{constructor(){this.children=[],this.isDirty=!1}add(e){Zp(this.children,e),this.isDirty=!0}remove(e){Jp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(S3),this.isDirty=!1,this.children.forEach(e)}}function E3(t,e){const n=It.now(),r=({timestamp:o})=>{const c=o-n;c>=e&&(_s(r),t(c-e))};return Ye.setup(r,!0),()=>_s(r)}function bu(t){return Mt(t)?t.get():t}class w3{constructor(){this.members=[]}add(e){Zp(this.members,e),e.scheduleRender()}remove(e){if(Jp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const o=r.options.layoutDependency,c=e.options.layoutDependency;o!==void 0&&c!==void 0&&o===c||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:h}=e.options;h===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Su={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ym=["","X","Y","Z"],T3=1e3;let C3=0;function vm(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ww(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ye,!(o||c))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ww(r)}function Tw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},h=e?.()){this.id=C3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N3),this.nodes.forEach(O3),this.nodes.forEach(I3),this.nodes.forEach(k3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new x3)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ng),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=tw(u)&&!RI(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let g,y=0;const _=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{y=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==y&&(y=x,this.root.updateBlockedByResize=!0,g&&g(),g=E3(_,250),Su.hasAnimatedSinceResize&&(Su.hasAnimatedSinceResize=!1,this.nodes.forEach(H1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||z3,{onLayoutAnimationStart:N,onLayoutAnimationComplete:k}=p.getProps(),M=!this.targetLayout||!Sw(this.targetLayout,x),P=!y&&_;if(this.options.layoutRoot||this.resumeFrom||P||y&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...mg(T,"layout"),onPlay:N,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(g,P)}else y||H1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ww(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(B1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(D3),this.nodes.forEach(A3),this.nodes.forEach(R3)):this.nodes.forEach(B1),this.clearAllSnapshots();const h=It.now();Nt.delta=Kn(0,1e3/60,h-Nt.timestamp),Nt.timestamp=h,Nt.isProcessing=!0,cm.update.process(Nt),cm.preRender.process(Nt),cm.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_g.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M3),this.sharedNodes.forEach(P3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lt(this.snapshot.measuredBox.x)&&!Lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!bw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Qs(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),V3(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return dt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B3))){const{scroll:p}=this.root;p&&(aa(h.x,p.offset.x),aa(h.y,p.offset.y))}return h}removeElementScroll(u){const h=dt();if(Rn(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Rn(h,u),aa(h.x,g.offset.x),aa(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const m=dt();Rn(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&oa(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Qs(g.latestValues)&&oa(m,g.latestValues)}return Qs(this.latestValues)&&oa(m,this.latestValues),m}removeTransform(u){const h=dt();Rn(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Qs(p.latestValues))continue;up(p.latestValues)&&p.updateSnapshot();const g=dt(),y=p.measurePageBox();Rn(g,y),M1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Qs(this.latestValues)&&M1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=Nt.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),lw(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||up(this.parent.latestValues)||ow(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Pu(this.relativeTargetOrigin,h,m),Rn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Rn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;zI(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=dt());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T1(this.prevProjectionDelta.x,this.projectionDelta.x),T1(this.prevProjectionDelta.y,this.projectionDelta.y)),Ko(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!P1(this.projectionDelta.x,this.prevProjectionDelta.x)||!P1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ra(),this.projectionDelta=ra(),this.projectionDeltaWithTransform=ra()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},y=ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=dt(),x=m?m.source:void 0,T=this.layout?this.layout.source:void 0,N=x!==T,k=this.getStack(),M=!k||k.members.length<=1,P=!!(N&&!M&&this.options.crossfade===!0&&!this.path.some(U3));this.animationProgress=0;let L;this.mixTargetDelta=F=>{const Y=F/1e3;F1(y.x,u.x,Y),F1(y.y,u.y,Y),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j3(this.relativeTarget,this.relativeTargetOrigin,_,Y),L&&m3(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=dt()),Rn(L,this.relativeTarget)),N&&(this.animationValues=g,y3(g,p,this.latestValues,Y,P,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Su.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ma(0)),this.currentAnimation=b3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&Cw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||dt();const y=Lt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+y;const _=Lt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+_}Rn(h,m),oa(h,g),Ko(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new w3),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&vm("z",u,p,this.animationValues);for(let g=0;g<ym.length;g++)vm(`rotate${ym[g]}`,u,p,this.animationValues),vm(`skew${ym[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=bu(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=bu(h?.pointerEvents)||""),this.hasProjected&&!Qs(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=p3(this.projectionDeltaWithTransform,this.treeScale,g);m&&(y=m(g,y)),u.transform=y;const{x:_,y:x}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in hp){if(g[T]===void 0)continue;const{correct:N,applyTo:k,isCSSVariable:M}=hp[T],P=y==="none"?g[T]:N(g[T],p);if(k){const L=k.length;for(let F=0;F<L;F++)u[k[F]]=P}else M?this.options.visualElement.renderState.vars[T]=P:u[T]=P}this.options.layoutId&&(u.pointerEvents=p===this?bu(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(V1),this.root.sharedNodes.clear()}}}function A3(t){t.updateLayout()}function R3(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?_n(g=>{const y=c?e.measuredBox[g]:e.layoutBox[g],_=Lt(y);y.min=n[g].min,y.max=y.min+_}):Cw(o,e.layoutBox,n)&&_n(g=>{const y=c?e.measuredBox[g]:e.layoutBox[g],_=Lt(n[g]);y.max=y.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const u=ra();Ko(u,n,e.layoutBox);const h=ra();c?Ko(h,t.applyTransform(r,!0),e.measuredBox):Ko(h,n,e.layoutBox);const m=!bw(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:_}=g;if(y&&_){const x=dt();Pu(x,e.layoutBox,y.layoutBox);const T=dt();Pu(T,n,_.layoutBox),Sw(x,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function N3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function k3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function M3(t){t.clearSnapshot()}function V1(t){t.clearMeasurements()}function B1(t){t.isLayoutDirty=!1}function D3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function O3(t){t.resolveTargetDelta()}function I3(t){t.calcProjection()}function L3(t){t.resetSkewAndRotation()}function P3(t){t.removeLeadSnapshot()}function F1(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function q1(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function j3(t,e,n,r){q1(t.x,e.x,n.x,r),q1(t.y,e.y,n.y,r)}function U3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const z3={duration:.45,ease:[.4,0,.1,1]},G1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Y1=G1("applewebkit/")&&!G1("chrome/")?Math.round:xn;function K1(t){t.min=Y1(t.min),t.max=Y1(t.max)}function V3(t){K1(t.x),K1(t.y)}function Cw(t,e,n){return t==="position"||t==="preserve-aspect"&&!c3(L1(e),L1(n),.2)}function B3(t){return t!==t.root&&t.scroll?.wasRoot}const H3=Tw({attachResizeListener:(t,e)=>ll(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),_m={current:void 0},Aw=Tw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_m.current){const t=new H3({});t.mount(window),t.setOptions({layoutScroll:!0}),_m.current=t}return _m.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tg=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function W1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function F3(...t){return e=>{let n=!1;const r=t.map(o=>{const c=W1(o,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():W1(t[o],null)}}}}function q3(...t){return E.useCallback(F3(...t),t)}class G3 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=lp(r)&&r.offsetWidth||0,c=lp(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Y3({children:t,isPresent:e,anchorX:n,anchorY:r,root:o}){const c=E.useId(),u=E.useRef(null),h=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=E.useContext(Tg),p=t.props?.ref??t?.ref,g=q3(u,p);return E.useInsertionEffect(()=>{const{width:y,height:_,top:x,left:T,right:N,bottom:k}=h.current;if(e||!u.current||!y||!_)return;const M=n==="left"?`left: ${T}`:`right: ${N}`,P=r==="bottom"?`bottom: ${k}`:`top: ${x}`;u.current.dataset.motionPopId=c;const L=document.createElement("style");m&&(L.nonce=m);const F=o??document.head;return F.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${_}px !important;
            ${M}px !important;
            ${P}px !important;
          }
        `),()=>{F.contains(L)&&F.removeChild(L)}},[e]),b.jsx(G3,{isPresent:e,childRef:u,sizeRef:h,children:E.cloneElement(t,{ref:g})})}const K3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:h,anchorY:m,root:p})=>{const g=Qp(W3),y=E.useId();let _=!0,x=E.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:o,onExitComplete:T=>{g.set(T,!0);for(const N of g.values())if(!N)return;r&&r()},register:T=>(g.set(T,!1),()=>g.delete(T))}),[n,g,r]);return c&&_&&(x={...x}),E.useMemo(()=>{g.forEach((T,N)=>g.set(N,!1))},[n]),E.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),u==="popLayout"&&(t=b.jsx(Y3,{isPresent:n,anchorX:h,anchorY:m,root:p,children:t})),b.jsx(pf.Provider,{value:x,children:t})};function W3(){return new Map}function Rw(t=!0){const e=E.useContext(pf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,c=E.useId();E.useEffect(()=>{if(t)return o(c)},[t]);const u=E.useCallback(()=>t&&r&&r(c),[c,r,t]);return!n&&r?[!1,u]:[!0]}const ou=t=>t.key||"";function $1(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Cg=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[g,y]=Rw(u),_=E.useMemo(()=>$1(t),[t]),x=u&&!g?[]:_.map(ou),T=E.useRef(!0),N=E.useRef(_),k=Qp(()=>new Map),M=E.useRef(new Set),[P,L]=E.useState(_),[F,Y]=E.useState(_);aE(()=>{T.current=!1,N.current=_;for(let W=0;W<F.length;W++){const se=ou(F[W]);x.includes(se)?(k.delete(se),M.current.delete(se)):k.get(se)!==!0&&k.set(se,!1)}},[F,x.length,x.join("-")]);const ie=[];if(_!==P){let W=[..._];for(let se=0;se<F.length;se++){const be=F[se],Ke=ou(be);x.includes(Ke)||(W.splice(se,0,be),ie.push(be))}return c==="wait"&&ie.length&&(W=ie),Y($1(W)),L(_),null}const{forceRender:$}=E.useContext(Xp);return b.jsx(b.Fragment,{children:F.map(W=>{const se=ou(W),be=u&&!g?!1:_===F||x.includes(se),Ke=()=>{if(M.current.has(se))return;if(M.current.add(se),k.has(se))k.set(se,!0);else return;let We=!0;k.forEach(Wt=>{Wt||(We=!1)}),We&&($?.(),Y(N.current),u&&y?.(),r&&r())};return b.jsx(K3,{isPresent:be,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:p,onExitComplete:be?void 0:Ke,anchorX:h,anchorY:m,children:W},se)})})},Nw=E.createContext({strict:!1}),X1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Q1=!1;function $3(){if(Q1)return;const t={};for(const e in X1)t[e]={isEnabled:n=>X1[e].some(r=>!!n[r])};sw(t),Q1=!0}function kw(){return $3(),LI()}function X3(t){const e=kw();for(const n in t)e[n]={...e[n],...t[n]};sw(e)}const Q3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ju(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q3.has(t)}let Mw=t=>!ju(t);function Z3(t){typeof t=="function"&&(Mw=e=>e.startsWith("on")?!ju(e):t(e))}try{Z3(require("@emotion/is-prop-valid").default)}catch{}function J3(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Mw(o)||n===!0&&ju(o)||!e&&!ju(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const vf=E.createContext({});function e4(t,e){if(yf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ol(n)?n:void 0,animate:ol(r)?r:void 0}}return t.inherit!==!1?e:{}}function t4(t){const{initial:e,animate:n}=e4(t,E.useContext(vf));return E.useMemo(()=>({initial:e,animate:n}),[Z1(e),Z1(n)])}function Z1(t){return Array.isArray(t)?t.join(" "):t}const Ag=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dw(t,e,n){for(const r in e)!Mt(e[r])&&!fw(r,n)&&(t[r]=e[r])}function n4({transformTemplate:t},e){return E.useMemo(()=>{const n=Ag();return Eg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function i4(t,e){const n=t.style||{},r={};return Dw(r,n,t),Object.assign(r,n4(t,e)),r}function s4(t,e){const n={},r=i4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ow=()=>({...Ag(),attrs:{}});function r4(t,e,n,r){const o=E.useMemo(()=>{const c=Ow();return hw(c,e,mw(r),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};Dw(c,t.style,t),o.style={...c,...o.style}}return o}const a4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rg(t){return typeof t!="string"||t.includes("-")?!1:!!(a4.indexOf(t)>-1||/[A-Z]/u.test(t))}function o4(t,e,n,{latestValues:r},o,c=!1,u){const m=(u??Rg(t)?r4:s4)(e,r,o,t),p=J3(e,typeof t=="string",c),g=t!==E.Fragment?{...p,...m,ref:n}:{},{children:y}=e,_=E.useMemo(()=>Mt(y)?y.get():y,[y]);return E.createElement(t,{...g,children:_})}function l4({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:c4(n,r,o,t),renderState:e()}}function c4(t,e,n,r){const o={},c=r(t,{});for(const _ in c)o[_]=bu(c[_]);let{initial:u,animate:h}=t;const m=yf(t),p=iw(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?h:u;if(y&&typeof y!="boolean"&&!gf(y)){const _=Array.isArray(y)?y:[y];for(let x=0;x<_.length;x++){const T=gg(t,_[x]);if(T){const{transitionEnd:N,transition:k,...M}=T;for(const P in M){let L=M[P];if(Array.isArray(L)){const F=g?L.length-1:0;L=L[F]}L!==null&&(o[P]=L)}for(const P in N)o[P]=N[P]}}}return o}const Iw=t=>(e,n)=>{const r=E.useContext(vf),o=E.useContext(pf),c=()=>l4(t,e,r,o);return n?c():Qp(c)},u4=Iw({scrapeMotionValuesFromProps:wg,createRenderState:Ag}),f4=Iw({scrapeMotionValuesFromProps:pw,createRenderState:Ow}),h4=Symbol.for("motionComponentSymbol");function d4(t,e,n){const r=E.useRef(n);E.useInsertionEffect(()=>{r.current=n});const o=E.useRef(null);return E.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const u=r.current;if(typeof u=="function")if(c){const h=u(c);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[e])}const Lw=E.createContext({});function Ho(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function m4(t,e,n,r,o,c){const{visualElement:u}=E.useContext(vf),h=E.useContext(Nw),m=E.useContext(pf),p=E.useContext(Tg).reducedMotion,g=E.useRef(null),y=E.useRef(!1);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:c}),y.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const _=g.current,x=E.useContext(Lw);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&p4(g.current,n,o,x);const T=E.useRef(!1);E.useInsertionEffect(()=>{_&&T.current&&_.update(n,m)});const N=n[FE],k=E.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return aE(()=>{y.current=!0,_&&(T.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),k.current&&_.animationState&&_.animationState.animateChanges())}),E.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),k.current=!1),_.enteringChildren=void 0)}),_}function p4(t,e,n,r){const{layoutId:o,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Pw(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||h&&Ho(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function Pw(t){if(t)return t.options.allowProjection!==!1?t.projection:Pw(t.parent)}function bm(t,{forwardMotionProps:e=!1,type:n}={},r,o){r&&X3(r);const c=n?n==="svg":Rg(t),u=c?f4:u4;function h(p,g){let y;const _={...E.useContext(Tg),...p,layoutId:g4(p)},{isStatic:x}=_,T=t4(p),N=u(p,x);if(!x&&rE){y4();const k=v4(_);y=k.MeasureLayout,T.visualElement=m4(t,N,_,o,k.ProjectionNode,c)}return b.jsxs(vf.Provider,{value:T,children:[y&&T.visualElement?b.jsx(y,{visualElement:T.visualElement,..._}):null,o4(t,p,d4(N,T.visualElement,g),N,x,e,c)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=E.forwardRef(h);return m[h4]=t,m}function g4({layoutId:t}){const e=E.useContext(Xp).id;return e&&t!==void 0?e+"-"+t:t}function y4(t,e){E.useContext(Nw).strict}function v4(t){const e=kw(),{drag:n,layout:r}=e;if(!n&&!r)return{};const o={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function _4(t,e){if(typeof Proxy>"u")return bm;const n=new Map,r=(c,u)=>bm(c,u,t,e),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(n.has(u)||n.set(u,bm(u,void 0,t,e)),n.get(u))})}const b4=(t,e)=>e.isSVG??Rg(t)?new ZI(e):new YI(e,{allowProjection:t!==E.Fragment});class S4 extends As{constructor(e){super(e),e.animationState||(e.animationState=i3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let x4=0;class E4 extends As{constructor(){super(...arguments),this.id=x4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const w4={animation:{Feature:S4},exit:{Feature:E4}};function Rl(t){return{point:{x:t.pageX,y:t.pageY}}}const T4=t=>e=>bg(e)&&t(e,Rl(e));function Wo(t,e,n,r){return ll(t,e,T4(n),r)}const jw=({current:t})=>t?t.ownerDocument.defaultView:null,J1=(t,e)=>Math.abs(t-e);function C4(t,e){const n=J1(t.x,e.x),r=J1(t.y,e.y);return Math.sqrt(n**2+r**2)}const eS=new Set(["auto","scroll"]);class Uw{constructor(e,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=xm(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,N=C4(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!N)return;const{point:k}=x,{timestamp:M}=Nt;this.history.push({...k,timestamp:M});const{onStart:P,onMove:L}=this.handlers;T||(P&&P(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,x)},this.handlePointerMove=(x,T)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Sm(T,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(x,T)=>{this.end();const{onEnd:N,onSessionEnd:k,resumeAnimation:M}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=xm(x.type==="pointercancel"?this.lastMoveEventInfo:Sm(T,this.transformPagePoint),this.history);this.startEvent&&N&&N(x,P),k&&k(x,P)},!bg(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const m=Rl(e),p=Sm(m,this.transformPagePoint),{point:g}=p,{timestamp:y}=Nt;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,xm(p,this.history)),this.removeListeners=Tl(Wo(this.contextWindow,"pointermove",this.handlePointerMove),Wo(this.contextWindow,"pointerup",this.handlePointerUp),Wo(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(eS.has(r.overflowX)||eS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:o.x-n.x,y:o.y-n.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,o),Ye.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),_s(this.updatePoint)}}function Sm(t,e){return e?{point:e(t.point)}:t}function tS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xm({point:t},e){return{point:t,delta:tS(t,zw(e)),offset:tS(t,A4(e)),velocity:R4(e,.1)}}function A4(t){return t[0]}function zw(t){return t[t.length-1]}function R4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=zw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Si(e)));)n--;if(!r)return{x:0,y:0};const c=bn(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function N4(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function nS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function k4(t,{top:e,left:n,bottom:r,right:o}){return{x:nS(t.x,n,o),y:nS(t.y,e,r)}}function iS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function M4(t,e){return{x:iS(t.x,e.x),y:iS(t.y,e.y)}}function D4(t,e){let n=.5;const r=Lt(t),o=Lt(e);return o>r?n=sl(e.min,e.max-r,t.min):r>o&&(n=sl(t.min,t.max-o,e.min)),Kn(0,1,n)}function O4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dp=.35;function I4(t=dp){return t===!1?t=0:t===!0&&(t=dp),{x:sS(t,"left","right"),y:sS(t,"top","bottom")}}function sS(t,e,n){return{min:rS(t,e),max:rS(t,n)}}function rS(t,e){return typeof t=="number"?t:t[e]||0}const L4=new WeakMap;class P4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=y=>{n?(this.stopAnimation(),this.snapToCursor(Rl(y).point)):this.pauseAnimation()},u=(y,_)=>{this.stopAnimation();const{drag:x,dragPropagation:T,onDragStart:N}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EI(x),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(M=>{let P=this.getAxisMotionValue(M).get()||0;if(Gn.test(P)){const{projection:L}=this.visualElement;if(L&&L.layout){const F=L.layout.layoutBox[M];F&&(P=Lt(F)*(parseFloat(P)/100))}}this.originPoint[M]=P}),N&&Ye.postRender(()=>N(y,_)),rp(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:N,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:M}=_;if(T&&this.currentDirection===null){this.currentDirection=j4(M),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",_.point,M),this.updateAxis("y",_.point,M),this.visualElement.render(),k&&k(y,_)},m=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_,this.stop(y,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>_n(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Uw(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:jw(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,o=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Ye.postRender(()=>h(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!lu(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=N4(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Ho(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=k4(r.layoutBox,e):this.constraints=!1,this.elastic=I4(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_n(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=O4(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ho(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=VI(r,o.root,this.visualElement.getTransformPagePoint());let u=M4(o.layout.layoutBox,c);if(n){const h=n(jI(u));this.hasMutatedConstraints=!!h,h&&(u=aw(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=_n(g=>{if(!lu(g,n,this.currentDirection))return;let y=m&&m[g]||{};u&&(y={min:0,max:0});const _=o?200:1e6,x=o?40:1e7,T={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(g,T)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return rp(this.visualElement,e),r.start(pg(e,r,0,n,this.visualElement,!1))}stopAnimation(){_n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_n(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_n(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n],m=c.get()||0;c.set(e[n]-Je(u,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ho(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};_n(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();o[u]=D4({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_n(u=>{if(!lu(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(Je(m,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;L4.set(this.visualElement,this);const e=this.visualElement.current,n=Wo(e,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps(),y=m.target,_=y!==e&&ew(y);p&&g&&!_&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Ho(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ye.read(r);const u=ll(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(_n(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=m[g].translate,y.set(y.get()+m[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=dp,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function lu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function j4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class U4 extends As{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new P4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const aS=t=>(e,n)=>{t&&Ye.postRender(()=>t(e,n))};class z4 extends As{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new Uw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:aS(e),onStart:aS(n),onMove:r,onEnd:(c,u)=>{delete this.session,o&&Ye.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Em=!1;class V4 extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=e;c&&(n.group&&n.group.add(c),r&&r.register&&o&&r.register(c),Em&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Su.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Em=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Ye.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_g.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;Em=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vw(t){const[e,n]=Rw(),r=E.useContext(Xp);return b.jsx(V4,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Lw),isPresent:e,safeToRemove:n})}const B4={pan:{Feature:z4},drag:{Feature:U4,ProjectionNode:Aw,MeasureLayout:Vw}};function oS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,c=r[o];c&&Ye.postRender(()=>c(e,Rl(e)))}class H4 extends As{mount(){const{current:e}=this.node;e&&(this.unmount=wI(e,(n,r)=>(oS(this.node,r,"Start"),o=>oS(this.node,o,"End"))))}unmount(){}}class F4 extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tl(ll(this.node.current,"focus",()=>this.onFocus()),ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),c=r[o];c&&Ye.postRender(()=>c(e,Rl(e)))}class q4 extends As{mount(){const{current:e}=this.node;e&&(this.unmount=AI(e,(n,r)=>(lS(this.node,r,"Start"),(o,{success:c})=>lS(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mp=new WeakMap,wm=new WeakMap,G4=t=>{const e=mp.get(t.target);e&&e(t)},Y4=t=>{t.forEach(G4)};function K4({root:t,...e}){const n=t||document;wm.has(n)||wm.set(n,{});const r=wm.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(Y4,{root:t,...e})),r[o]}function W4(t,e,n){const r=K4(e);return mp.set(t,n),r.observe(t),()=>{mp.delete(t),r.unobserve(t)}}const $4={some:0,all:1};class X4 extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:$4[o]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(m)};return W4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Q4(e,n))&&this.startObserver()}unmount(){}}function Q4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Z4={inView:{Feature:X4},tap:{Feature:q4},focus:{Feature:F4},hover:{Feature:H4}},J4={layout:{ProjectionNode:Aw,MeasureLayout:Vw}},eL={...w4,...Z4,...B4,...J4},Ze=_4(eL,b4),tL="AIzaSyB8nwpiEhr3MIqmFh80iw5RsvurnjM1b3E",nL=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${tL}`,iL=`You are "The Oracle of Focus", an AI assistant for the "Together Focus" website. 
The website is a magical, wizard-themed productivity platform. 

Your tone: Wise, ancient, mystical, helpful. Refer to users as "Wizard" or "Apprentice". 
Stay in character. Keep responses concise but magical.

Key features you should know:
- Shared Timer (up to 12 hours)
- Shared Registry of Intent (Planner)
- Owl Post (Chat between partners)
- Enchanted Environments (Pastel Park, Cozy Corner)
- Ministry Decree: If any one person leaves a room, the timer resets to 0.`,sL=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState([{role:"model",content:"Greetings, seeker of focus. I am the Oracle. How may I assist your magical practice today?"}]),[o,c]=E.useState(""),[u,h]=E.useState(!1),m=E.useRef(null);E.useEffect(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[n,u]);const p=async g=>{if(g&&g.preventDefault(),!o.trim()||u)return;const y=o.trim();c("");const _=[...n,{role:"user",content:y}];r(_),h(!0);try{const x=_.filter((P,L)=>L>0).map(P=>({role:P.role,parts:[{text:P.content}]})),N=await fetch(nL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({systemInstruction:{parts:[{text:iL}]},contents:x,generationConfig:{maxOutputTokens:500,temperature:.8}})}),k=await N.json();if(!N.ok)throw console.error("Gemini API Error details:",k),new Error(k.error?.message||"Communication Rift");const M=k.candidates?.[0]?.content?.parts?.[0]?.text||"The scrolls are indecipherable... try again.";r(P=>[...P,{role:"model",content:M}])}catch(x){console.error("Oracle Error:",x),r(T=>[...T,{role:"model",content:"My connection to the ether is weak. Please re-cast your query."}])}finally{h(!1)}};return b.jsxs("div",{className:"fixed bottom-6 left-6 z-[300]",children:[b.jsx(Cg,{children:t&&b.jsxs(Ze.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},className:"mb-6 w-80 md:w-96 h-[500px] neo-card bg-white flex flex-col overflow-hidden shadow-neo",children:[b.jsxs("div",{className:"p-4 bg-neo-green border-b-2 border-black flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Yb,{className:"w-5 h-5 text-black"}),b.jsx("h3",{className:"text-xs font-black text-black uppercase tracking-widest",children:"The Oracle"})]}),b.jsx("button",{onClick:()=>e(!1),children:b.jsx(vD,{className:"w-5 h-5 text-black hover:scale-110 transition-transform"})})]}),b.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[n.map((g,y)=>b.jsx("div",{className:Ot("flex",g.role==="user"?"justify-end":"justify-start"),children:b.jsx("div",{className:Ot("max-w-[85%] p-3 rounded-xl text-sm font-bold border-2 border-black shadow-sm",g.role==="user"?"bg-neo-blue text-black rounded-tr-none":"bg-white text-black rounded-tl-none"),children:g.content})},y)),u&&b.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-widest animate-pulse ml-2 font-bold",children:"Consulting the scroll..."})]}),b.jsxs("form",{onSubmit:p,className:"p-4 bg-white border-t-2 border-black flex gap-2",children:[b.jsx("input",{value:o,onChange:g=>c(g.target.value),placeholder:"Whisper...",className:"flex-1 neo-input py-2 text-xs"}),b.jsx("button",{type:"submit",disabled:u,className:"p-2 bg-neo-green rounded-xl border-2 border-black hover:bg-green-400 transition-colors shadow-neo-sm",children:b.jsx(tE,{className:"w-5 h-5 text-black"})})]})]})}),b.jsx(Ze.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(!t),className:"w-16 h-16 bg-neo-green rounded-full flex items-center justify-center border-3 border-black shadow-neo z-10 relative",children:b.jsx(Yb,{className:"w-8 h-8 text-black"})})]})},rL=({children:t})=>b.jsxs("div",{className:"min-h-screen bg-white text-black font-quicksand overflow-x-hidden relative",children:[b.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-20 z-0",style:{backgroundImage:"radial-gradient(circle at 10% 20%, #ffa8e0 0%, transparent 20%), radial-gradient(circle at 90% 80%, #a8d5ff 0%, transparent 20%)"}}),b.jsx("div",{className:"relative z-10",children:t}),b.jsx(sL,{}),b.jsx(Jk,{position:"top-center",toastOptions:{className:"neo-card bg-white border-2 border-black text-black font-bold",style:{borderRadius:"12px",background:"#fff",color:"#000",border:"2px solid #000",boxShadow:"4px 4px 0px 0px #000"},success:{iconTheme:{primary:"#a8ffb5",secondary:"#000"}},error:{iconTheme:{primary:"#ff6b6b",secondary:"#000"}}}})]}),cS=t=>{let e;const n=new Set,r=(p,g)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const _=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(x=>x(e,_))}},o=()=>e,h={setState:r,getState:o,getInitialState:()=>m,subscribe:p=>(n.add(p),()=>n.delete(p))},m=e=t(r,o,h);return h},aL=(t=>t?cS(t):cS),oL=t=>t;function lL(t,e=oL){const n=gi.useSyncExternalStore(t.subscribe,gi.useCallback(()=>e(t.getState()),[t,e]),gi.useCallback(()=>e(t.getInitialState()),[t,e]));return gi.useDebugValue(n),n}const uS=t=>{const e=aL(t),n=r=>lL(e,r);return Object.assign(n,e),n},Ng=(t=>t?uS(t):uS),cL=()=>{};var fS={};const Bw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const G=function(t,e){if(!t)throw ka(e)},ka=function(t){return new Error("Firebase Database ("+Bw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const Hw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[n++],u=t[n++],h=t[n++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},kg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,h=u?t[o+1]:0,m=o+2<t.length,p=m?t[o+2]:0,g=c>>2,y=(c&3)<<4|h>>4;let _=(h&15)<<2|p>>6,x=p&63;m||(x=64,u||(_=64)),r.push(n[g],n[y],n[_],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const c=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,c==null||h==null||p==null||y==null)throw new fL;const _=c<<2|h>>4;if(r.push(_),p!==64){const x=h<<4&240|p>>2;if(r.push(x),y!==64){const T=p<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(t){const e=Hw(t);return kg.encodeByteArray(e,!0)},Uu=function(t){return Fw(t).replace(/\./g,"")},zu=function(t){try{return kg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hL(t){return qw(void 0,t)}function qw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!dL(n)||(t[n]=qw(t[n],e[n]));return t}function dL(t){return t!=="__proto__"}function mL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pL=()=>mL().__FIREBASE_DEFAULTS__,gL=()=>{if(typeof process>"u"||typeof fS>"u")return;const t=fS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zu(t[1]);return e&&JSON.parse(e)},Mg=()=>{try{return cL()||pL()||gL()||yL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gw=t=>Mg()?.emulatorHosts?.[t],vL=t=>{const e=Gw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yw=()=>Mg()?.config,Kw=t=>Mg()?.[`_${t}`];class Hn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ma(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ww(t){return(await fetch(t,{credentials:"include"})).ok}function _L(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uu(JSON.stringify(n)),Uu(JSON.stringify(u)),""].join(".")}const $o={};function bL(){const t={prod:[],emulator:[]};for(const e of Object.keys($o))$o[e]?t.emulator.push(e):t.prod.push(e);return t}function SL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hS=!1;function $w(t,e){if(typeof window>"u"||typeof document>"u"||!Ma(window.location.host)||$o[t]===e||$o[t]||hS)return;$o[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",c=bL().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{hS=!0,u()},_}function g(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=SL(r),x=n("text"),T=document.getElementById(x)||document.createElement("span"),N=n("learnmore"),k=document.getElementById(N)||document.createElement("a"),M=n("preprendIcon"),P=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;h(L),g(k,N);const F=p();m(P,M),L.append(P,T,k,F),document.body.appendChild(L)}c?(T.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function xL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wL(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TL(){return Bw.NODE_ADMIN===!0}function CL(){try{return typeof indexedDB=="object"}catch{return!1}}function AL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const RL="FirebaseError";class Rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RL,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?NL(c,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Rs(o,h,r)}}function NL(t,e){return t.replace(kL,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const kL=/\{\$([^}]+)}/g;function cl(t){return JSON.parse(t)}function mt(t){return JSON.stringify(t)}const Qw=function(t){let e={},n={},r={},o="";try{const c=t.split(".");e=cl(zu(c[0])||""),n=cl(zu(c[1])||""),o=c[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},ML=function(t){const e=Qw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},DL=function(t){const e=Qw(t).claims;return typeof e=="object"&&e.admin===!0};function Wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bu(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function or(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=t[o],u=e[o];if(dS(c)&&dS(u)){if(!or(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function dS(t){return t!==null&&typeof t=="object"}function Da(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function qo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class OL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],u=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=h^c&(u^h),g=1518500249):(p=c^u^h,g=1859775393):y<60?(p=c&u|h&(c|u),g=2400959708):(p=c^u^h,g=3395469782);const _=(o<<5|o>>>27)+p+m+g+r[y]&4294967295;m=h,h=u,u=(c<<30|c>>>2)&4294967295,c=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const c=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(c[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}else for(;o<n;)if(c[u]=e[o],++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function IL(t,e){const n=new LL(t,e);return n.subscribe.bind(n)}class LL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PL(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}function ga(t,e){return`${t} failed: ${e} argument `}const jL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;o=65536+(c<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_f=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function pt(t){return t&&t._delegate?t._delegate:t}class lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class UL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Hn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VL(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zL(t){return t===Zs?void 0:t}function VL(t){return t.instantiationMode==="EAGER"}class BL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const HL={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},FL=Ue.INFO,qL={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},GL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=qL[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=FL,this._logHandler=GL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const YL=(t,e)=>e.some(n=>t instanceof n);let mS,pS;function KL(){return mS||(mS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WL(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zw=new WeakMap,pp=new WeakMap,Jw=new WeakMap,Cm=new WeakMap,Ig=new WeakMap;function $L(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(ms(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Zw.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function XL(t){if(pp.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});pp.set(t,e)}let gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QL(t){gp=t(gp)}function ZL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Am(this),e,...n);return Jw.set(r,e.sort?e.sort():[e]),ms(r)}:WL().includes(t)?function(...e){return t.apply(Am(this),e),ms(Zw.get(this))}:function(...e){return ms(t.apply(Am(this),e))}}function JL(t){return typeof t=="function"?ZL(t):(t instanceof IDBTransaction&&XL(t),YL(t,KL())?new Proxy(t,gp):t)}function ms(t){if(t instanceof IDBRequest)return $L(t);if(Cm.has(t))return Cm.get(t);const e=JL(t);return e!==t&&(Cm.set(t,e),Ig.set(e,t)),e}const Am=t=>Ig.get(t);function e5(t,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),h=ms(u);return r&&u.addEventListener("upgradeneeded",m=>{r(ms(u.result),m.oldVersion,m.newVersion,ms(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const t5=["get","getKey","getAll","getAllKeys","count"],n5=["put","add","delete","clear"],Rm=new Map;function gS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=n5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||t5.includes(n)))return;const c=async function(u,...h){const m=this.transaction(u,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&m.done]))[0]};return Rm.set(e,c),c}QL(t=>({...t,get:(e,n,r)=>gS(e,n)||t.get(e,n,r),has:(e,n)=>!!gS(e,n)||t.has(e,n)}));class i5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s5(t){return t.getComponent()?.type==="VERSION"}const yp="@firebase/app",yS="0.14.7";const Ai=new Og("@firebase/app"),r5="@firebase/app-compat",a5="@firebase/analytics-compat",o5="@firebase/analytics",l5="@firebase/app-check-compat",c5="@firebase/app-check",u5="@firebase/auth",f5="@firebase/auth-compat",h5="@firebase/database",d5="@firebase/data-connect",m5="@firebase/database-compat",p5="@firebase/functions",g5="@firebase/functions-compat",y5="@firebase/installations",v5="@firebase/installations-compat",_5="@firebase/messaging",b5="@firebase/messaging-compat",S5="@firebase/performance",x5="@firebase/performance-compat",E5="@firebase/remote-config",w5="@firebase/remote-config-compat",T5="@firebase/storage",C5="@firebase/storage-compat",A5="@firebase/firestore",R5="@firebase/ai",N5="@firebase/firestore-compat",k5="firebase",M5="12.8.0";const vp="[DEFAULT]",D5={[yp]:"fire-core",[r5]:"fire-core-compat",[o5]:"fire-analytics",[a5]:"fire-analytics-compat",[c5]:"fire-app-check",[l5]:"fire-app-check-compat",[u5]:"fire-auth",[f5]:"fire-auth-compat",[h5]:"fire-rtdb",[d5]:"fire-data-connect",[m5]:"fire-rtdb-compat",[p5]:"fire-fn",[g5]:"fire-fn-compat",[y5]:"fire-iid",[v5]:"fire-iid-compat",[_5]:"fire-fcm",[b5]:"fire-fcm-compat",[S5]:"fire-perf",[x5]:"fire-perf-compat",[E5]:"fire-rc",[w5]:"fire-rc-compat",[T5]:"fire-gcs",[C5]:"fire-gcs-compat",[A5]:"fire-fst",[N5]:"fire-fst-compat",[R5]:"fire-vertex","fire-js":"fire-js",[k5]:"fire-js-all"};const Hu=new Map,O5=new Map,_p=new Map;function vS(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(_p.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of Hu.values())vS(n,t);for(const n of O5.values())vS(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}const I5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Nl("app","Firebase",I5);class L5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const Oa=M5;function eT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=Yw()),!n)throw ps.create("no-options");const c=Hu.get(o);if(c){if(or(n,c.options)&&or(r,c.config))return c;throw ps.create("duplicate-app",{appName:o})}const u=new BL(o);for(const m of _p.values())u.addComponent(m);const h=new L5(n,r,u);return Hu.set(o,h),h}function tT(t=vp){const e=Hu.get(t);if(!e&&t===vp&&Yw())return eT();if(!e)throw ps.create("no-app",{appName:t});return e}function gs(t,e,n){let r=D5[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(u.join(" "));return}ya(new lr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const P5="firebase-heartbeat-database",j5=1,ul="firebase-heartbeat-store";let Nm=null;function nT(){return Nm||(Nm=e5(P5,j5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw ps.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function U5(t){try{const n=(await nT()).transaction(ul),r=await n.objectStore(ul).get(iT(t));return await n.done,r}catch(e){if(e instanceof Rs)Ai.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e?.message});Ai.warn(n.message)}}}async function _S(t,e){try{const r=(await nT()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,iT(t)),await r.done}catch(n){if(n instanceof Rs)Ai.warn(n.message);else{const r=ps.create("idb-set",{originalErrorMessage:n?.message});Ai.warn(r.message)}}}function iT(t){return`${t.name}!${t.options.appId}`}const z5=1024,V5=30;class B5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>V5){const o=q5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bS(),{heartbeatsToSend:n,unsentEntries:r}=H5(this._heartbeatsCache.heartbeats),o=Uu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ai.warn(e),""}}}function bS(){return new Date().toISOString().substring(0,10)}function H5(t,e=z5){const n=[];let r=t.slice();for(const o of t){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),SS(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),SS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CL()?AL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _S(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _S(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function SS(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}function q5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function G5(t){ya(new lr("platform-logger",e=>new i5(e),"PRIVATE")),ya(new lr("heartbeat",e=>new B5(e),"PRIVATE")),gs(yp,yS,t),gs(yp,yS,"esm2020"),gs("fire-js","")}G5("");var Y5="firebase",K5="12.8.0";gs(Y5,K5,"app");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W5=sT,rT=new Nl("auth","Firebase",sT());const Fu=new Og("@firebase/auth");function $5(t,...e){Fu.logLevel<=Ue.WARN&&Fu.warn(`Auth (${Oa}): ${t}`,...e)}function xu(t,...e){Fu.logLevel<=Ue.ERROR&&Fu.error(`Auth (${Oa}): ${t}`,...e)}function En(t,...e){throw jg(t,...e)}function On(t,...e){return jg(t,...e)}function Pg(t,e,n){const r={...W5(),[e]:n};return new Nl("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return Pg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&En(t,"argument-error"),Pg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rT.create(t,...e)}function ae(t,e,...n){if(!t)throw jg(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function Ri(t,e){t||yi(e)}function bp(){return typeof self<"u"&&self.location?.href||""}function Q5(){return xS()==="http:"||xS()==="https:"}function xS(){return typeof self<"u"&&self.location?.protocol||null}function Z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q5()||EL()||"connection"in navigator)?navigator.onLine:!0}function J5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=Dg()||Xw()}get(){return Z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ug(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const e6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const t6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n6=new kl(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Di(t,e,n,r,o={}){return oT(t,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const h=Da({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...c};return xL()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ma(t.emulatorConfig.host)&&(p.credentials="include"),aT.fetch()(await lT(t,t.config.apiHost,n,h),p)})}async function oT(t,e,n){t._canInitEmulator=!1;const r={...e6,...e};try{const o=new s6(t),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw cu(t,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const h=c.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw cu(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw cu(t,"user-disabled",u);const g=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Pg(t,g,p);En(t,g)}}catch(o){if(o instanceof Rs)throw o;En(t,"network-request-failed",{message:String(o)})}}async function Ml(t,e,n,r,o={}){const c=await Di(t,e,n,r,o);return"mfaPendingCredential"in c&&En(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function lT(t,e,n,r){const o=`${e}${n}?${r}`,c=t,u=c.config.emulator?Ug(t.config,o):`${t.config.apiScheme}://${o}`;return t6.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function i6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),n6.get())})}}function cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=On(t,e,r);return o.customData._tokenResponse=n,o}function ES(t){return t!==void 0&&t.enterprise!==void 0}class r6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return i6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a6(t,e){return Di(t,"GET","/v2/recaptchaConfig",Ns(t,e))}async function o6(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function qu(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}function Xo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l6(t,e=!1){const n=pt(t),r=await n.getIdToken(e),o=zg(r);ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:r,authTime:Xo(km(o.auth_time)),issuedAtTime:Xo(km(o.iat)),expirationTime:Xo(km(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function km(t){return Number(t)*1e3}function zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=zu(n);return o?JSON.parse(o):(xu("Failed to decode base64 JWT payload"),null)}catch(o){return xu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wS(t){const e=zg(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function va(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rs&&c6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class u6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gu(t){const e=t.auth,n=await t.getIdToken(),r=await va(t,qu(e,{idToken:n}));ae(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const c=o.providerUserInfo?.length?cT(o.providerUserInfo):[],u=h6(t.providerData,c),h=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!u?.length,p=h?m:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function f6(t){const e=pt(t);await Gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h6(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function cT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function d6(t,e){const n=await oT(t,{},async()=>{const r=Da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=t.config,u=await lT(t,o,"/v1/token",`key=${c}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ma(t.emulatorConfig.host)&&(m.credentials="include"),aT.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m6(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=wS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await d6(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,u=new ua;return r&&(ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(ae(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(ae(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return yi("not implemented")}}function as(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new u6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await va(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l6(this,e)}reload(){return f6(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await va(this,o6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:x,providerData:T,stsTokenManager:N}=n;ae(y&&N,e,"internal-error");const k=ua.fromJSON(this.name,N);ae(typeof y=="string",e,"internal-error"),as(r,e.name),as(o,e.name),ae(typeof _=="boolean",e,"internal-error"),ae(typeof x=="boolean",e,"internal-error"),as(c,e.name),as(u,e.name),as(h,e.name),as(m,e.name),as(p,e.name),as(g,e.name);const M=new Mn({uid:y,auth:e,email:o,emailVerified:_,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:c,tenantId:h,stsTokenManager:k,createdAt:p,lastLoginAt:g});return T&&Array.isArray(T)&&(M.providerData=T.map(P=>({...P}))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(e,n,r=!1){const o=new ua;o.updateFromServerResponse(n);const c=new Mn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Gu(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?cT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,h=new ua;h.updateFromIdToken(r);const m=new Mn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,p),m}}const TS=new Map;function vi(t){Ri(t instanceof Function,"Expected a class definition");let e=TS.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TS.set(t,e),e)}class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uT.type="NONE";const CS=uT;function Eu(t,e,n){return`firebase:${t}:${e}:${n}`}class fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Eu(this.userKey,o.apiKey,c),this.fullPersistenceKey=Eu("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qu(this.auth,{idToken:e}).catch(()=>{});return n?Mn._fromGetAccountInfoResponse(this.auth,n,e):null}return Mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fa(vi(CS),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||vi(CS);const u=Eu(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(u);if(g){let y;if(typeof g=="string"){const _=await qu(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Mn._fromGetAccountInfoResponse(e,_,g)}else y=Mn._fromJSON(e,g);p!==c&&(h=y),c=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new fa(c,e,r):(c=m[0],h&&await c._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(u)}catch{}})),new fa(c,e,r))}}function AS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(hT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fT(t=Ut()){return/firefox\//i.test(t)}function hT(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(t=Ut()){return/crios\//i.test(t)}function mT(t=Ut()){return/iemobile/i.test(t)}function pT(t=Ut()){return/android/i.test(t)}function gT(t=Ut()){return/blackberry/i.test(t)}function yT(t=Ut()){return/webos/i.test(t)}function Vg(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p6(t=Ut()){return Vg(t)&&!!window.navigator?.standalone}function g6(){return wL()&&document.documentMode===10}function vT(t=Ut()){return Vg(t)||pT(t)||yT(t)||gT(t)||/windows phone/i.test(t)||mT(t)}function _T(t,e=[]){let n;switch(t){case"Browser":n=AS(Ut());break;case"Worker":n=`${AS(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}class y6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((u,h)=>{try{const m=e(c);u(m)}catch(m){h(m)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function v6(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Ns(t,e))}const _6=6;class b6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class S6{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RS(this),this.idTokenSubscription=new RS(this),this.beforeStateQueue=new y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qu(this,{idToken:e}),r=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(on(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(xi(this));const n=e?pt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v6(this),n=new b6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(h,this,"internal-error"),h.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,o);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ks(t){return pt(t)}class RS{constructor(e){this.auth=e,this.observer=null,this.addObserver=IL(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x6(t){bf=t}function bT(t){return bf.loadJS(t)}function E6(){return bf.recaptchaEnterpriseScript}function w6(){return bf.gapiScript}function T6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class C6{constructor(){this.enterprise=new A6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const R6="recaptcha-enterprise",ST="NO_RECAPTCHA";class N6{constructor(e){this.type=R6,this.auth=ks(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,h)=>{a6(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new r6(m);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function o(c,u,h){const m=window.grecaptcha;ES(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(p=>{u(p)}).catch(()=>{u(ST)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C6().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(h=>{if(!n&&ES(window.grecaptcha))o(h,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=E6();m.length!==0&&(m+=h),bT(m).then(()=>{o(h,c,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function NS(t,e,n,r=!1,o=!1){const c=new N6(t);let u;if(o)u=ST;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function xp(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await NS(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await NS(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)})}function k6(t,e){const n=Lg(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(or(c,e??{}))return o;En(o,"already-initialized")}return n.initialize({options:e})}function M6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function D6(t,e,n){const r=ks(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=xT(e),{host:u,port:h}=O6(e),m=h===null?"":`:${h}`,p={url:`${c}//${u}${m}/`},g=Object.freeze({host:u,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(or(p,r.config.emulator)&&or(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ma(u)?(Ww(`${c}//${u}${m}`),$w("Auth",!0)):I6()}function xT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O6(t){const e=xT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:kS(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:kS(u)}}}function kS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function L6(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}async function P6(t,e){return Ml(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function j6(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function U6(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}class fl extends Bg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,n,"signInWithPassword",P6);case"emailLink":return j6(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,r,"signUpPassword",L6);case"emailLink":return U6(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ha(t,e){return Ml(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}const z6="http://localhost";class cr extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const u=new cr(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ha(e,n)}buildRequest(){const e={requestUri:z6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Da(n)}return e}}function V6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B6(t){const e=Fo(qo(t)).link,n=e?Fo(qo(e)).deep_link_id:null,r=Fo(qo(t)).deep_link_id;return(r?Fo(qo(r)).link:null)||r||n||e||t}class Hg{constructor(e){const n=Fo(qo(e)),r=n.apiKey??null,o=n.oobCode??null,c=V6(n.mode??null);ae(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=B6(e);try{return new Hg(n)}catch{return null}}}class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hg.parseLink(n);return ae(r,"argument-error"),fl._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dl extends Fg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends Dl{constructor(){super("facebook.com")}static credential(e){return cr._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class pi extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cr._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";class us extends Dl{constructor(){super("github.com")}static credential(e){return cr._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class fs extends Dl{constructor(){super("twitter.com")}static credential(e,n){return cr._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function H6(t,e){return Ml(t,"POST","/v1/accounts:signUp",Ns(t,e))}class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await Mn._fromIdTokenResponse(e,r,o),u=MS(r);return new ur({user:c,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=MS(r);return new ur({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function MS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Yu extends Rs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Yu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Yu(e,n,r,o)}}function ET(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yu._fromErrorAndOperation(t,c,e,r):c})}async function F6(t,e,n=!1){const r=await va(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ur._forOperation(t,"link",r)}async function q6(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(xi(r));const o="reauthenticate";try{const c=await va(t,ET(r,o,e,t),n);ae(c.idToken,r,"internal-error");const u=zg(c.idToken);ae(u,r,"internal-error");const{sub:h}=u;return ae(t.uid===h,r,"user-mismatch"),ur._forOperation(t,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&En(r,"user-mismatch"),c}}async function wT(t,e,n=!1){if(on(t.app))return Promise.reject(xi(t));const r="signIn",o=await ET(t,r,e),c=await ur._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(c.user),c}async function G6(t,e){return wT(ks(t),e)}async function TT(t){const e=ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y6(t,e,n){if(on(t.app))return Promise.reject(xi(t));const r=ks(t),u=await xp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H6).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&TT(t),m}),h=await ur._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function K6(t,e,n){return on(t.app)?Promise.reject(xi(t)):G6(pt(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TT(t),r})}async function W6(t,e){return Di(t,"POST","/v1/accounts:update",e)}async function $6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=pt(t),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await va(r,W6(r.auth,c));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function X6(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function Q6(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function Z6(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function J6(t){return pt(t).signOut()}const Ku="__sak";class CT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eP=1e3,tP=10;class AT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);g6()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tP):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const nP=AT;class RT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RT.type="SESSION";const NT=RT;function iP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async p=>p(n.origin,c)),m=await iP(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];function qg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class sP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((h,m)=>{const p=qg("",20);o.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(_.data.response);break;default:clearTimeout(g),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Yn(){return window}function rP(t){Yn().location.href=t}function kT(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function aP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oP(){return navigator?.serviceWorker?.controller||null}function lP(){return kT()?self:null}const MT="firebaseLocalStorageDb",cP=1,Wu="firebaseLocalStorage",DT="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xf(t,e){return t.transaction([Wu],e?"readwrite":"readonly").objectStore(Wu)}function uP(){const t=indexedDB.deleteDatabase(MT);return new Ol(t).toPromise()}function Ep(){const t=indexedDB.open(MT,cP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wu,{keyPath:DT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wu)?e(r):(r.close(),await uP(),e(await Ep()))})})}async function DS(t,e,n){const r=xf(t,!0).put({[DT]:e,value:n});return new Ol(r).toPromise()}async function fP(t,e){const n=xf(t,!1).get(e),r=await new Ol(n).toPromise();return r===void 0?null:r.value}function OS(t,e){const n=xf(t,!0).delete(e);return new Ol(n).toPromise()}const hP=800,dP=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(lP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aP(),!this.activeServiceWorker)return;this.sender=new sP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await DS(e,Ku,"1"),await OS(e,Ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xf(o,!1).getAll();return new Ol(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const mP=OT;new kl(3e4,6e4);function IT(t,e){return e?vi(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Gg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pP(t){return wT(t.auth,new Gg(t),t.bypassAuthState)}function gP(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),q6(n,new Gg(t),t.bypassAuthState)}async function yP(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),F6(n,new Gg(t),t.bypassAuthState)}class LT{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pP;case"linkViaPopup":case"linkViaRedirect":return yP;case"reauthViaPopup":case"reauthViaRedirect":return gP;default:En(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vP=new kl(2e3,1e4);async function _P(t,e,n){if(on(t.app))return Promise.reject(On(t,"operation-not-supported-in-this-environment"));const r=ks(t);X5(t,e,Fg);const o=IT(r,n);return new nr(r,"signInViaPopup",e,o).executeNotNull()}class nr extends LT{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,nr.currentPopupAction&&nr.currentPopupAction.cancel(),nr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vP.get())};e()}}nr.currentPopupAction=null;const bP="pendingRedirect",wu=new Map;class SP extends LT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wu.get(this.auth._key());if(!e){try{const r=await xP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xP(t,e){const n=TP(e),r=wP(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function EP(t,e){wu.set(t._key(),e)}function wP(t){return vi(t._redirectPersistence)}function TP(t){return Eu(bP,t.config.apiKey,t.name)}async function CP(t,e,n=!1){if(on(t.app))return Promise.reject(xi(t));const r=ks(t),o=IT(r,e),u=await new SP(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const AP=600*1e3;class RP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(On(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AP&&this.cachedEventUids.clear(),this.cachedEventUids.has(IS(e))}saveEventToCache(e){this.cachedEventUids.add(IS(e)),this.lastProcessedEventTime=Date.now()}}function IS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function NP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(t);default:return!1}}async function kP(t,e={}){return Di(t,"GET","/v1/projects",e)}const MP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DP=/^https?/;async function OP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kP(t);for(const n of e)try{if(IP(n))return}catch{}En(t,"unauthorized-domain")}function IP(t){const e=bp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!DP.test(n))return!1;if(MP.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const LP=new kl(3e4,6e4);function LS(){const t=Yn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PP(t){return new Promise((e,n)=>{function r(){LS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LS(),n(On(t,"network-request-failed"))},timeout:LP.get()})}if(Yn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yn().gapi?.load)r();else{const o=T6("iframefcb");return Yn()[o]=()=>{gapi.load?r():n(On(t,"network-request-failed"))},bT(`${w6()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Tu=null,e})}let Tu=null;function jP(t){return Tu=Tu||PP(t),Tu}const UP=new kl(5e3,15e3),zP="__/auth/iframe",VP="emulator/auth/iframe",BP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FP(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ug(e,VP):`https://${t.config.authDomain}/${zP}`,r={apiKey:e.apiKey,appName:t.name,v:Oa},o=HP.get(t.config.apiHost);o&&(r.eid=o);const c=t._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Da(r).slice(1)}`}async function qP(t){const e=await jP(t),n=Yn().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:FP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BP,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=On(t,"network-request-failed"),h=Yn().setTimeout(()=>{c(u)},UP.get());function m(){Yn().clearTimeout(h),o(r)}r.ping(m).then(m,()=>{c(u)})}))}const GP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YP=500,KP=600,WP="_blank",$P="http://localhost";class PS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XP(t,e,n,r=YP,o=KP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...GP,width:r.toString(),height:o.toString(),top:c,left:u},p=Ut().toLowerCase();n&&(h=dT(p)?WP:n),fT(p)&&(e=e||$P,m.scrollbars="yes");const g=Object.entries(m).reduce((_,[x,T])=>`${_}${x}=${T},`,"");if(p6(p)&&h!=="_self")return QP(e||"",h),new PS(null);const y=window.open(e||"",h,g);ae(y,t,"popup-blocked");try{y.focus()}catch{}return new PS(y)}function QP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const ZP="__/auth/handler",JP="emulator/auth/handler",ej=encodeURIComponent("fac");async function jS(t,e,n,r,o,c){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oa,eventId:o};if(e instanceof Fg){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Vu(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof Dl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const m=await t._getAppCheckToken(),p=m?`#${ej}=${encodeURIComponent(m)}`:"";return`${tj(t)}?${Da(h).slice(1)}${p}`}function tj({config:t}){return t.emulator?Ug(t,JP):`https://${t.authDomain}/${ZP}`}const Mm="webStorageSupport";class nj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=CP,this._overrideRedirectResult=EP}async _openPopup(e,n,r,o){Ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await jS(e,n,r,bp(),o);return XP(e,c,qg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await jS(e,n,r,bp(),o);return rP(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ri(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qP(e),r=new RP(e);return n.register("authEvent",o=>(ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{const c=o?.[0]?.[Mm];c!==void 0&&n(!!c),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vT()||hT()||Vg()}}const ij=nj;var US="@firebase/auth",zS="1.12.0";class sj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aj(t){ya(new lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(t)},p=new S6(r,o,c,m);return M6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new lr("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(r=>new sj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(US,zS,rj(t)),gs(US,zS,"esm2020")}const oj=300,lj=Kw("authIdTokenMaxAge")||oj;let VS=null;const cj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lj)return;const o=n?.token;VS!==o&&(VS=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uj(t=tT()){const e=Lg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k6(t,{popupRedirectResolver:ij,persistence:[mP,nP,NT]}),r=Kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=cj(c.toString());Q6(n,u,()=>u(n.currentUser)),X6(n,h=>u(h))}}const o=Gw("auth");return o&&D6(n,`http://${o}`),n}function fj(){return document.getElementsByTagName("head")?.[0]??document}x6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const c=On("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",fj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aj("Browser");var BS={};const HS="@firebase/database",FS="1.1.0";let jT="";function hj(t){jT=t}class dj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:cl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class mj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const UT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new dj(e)}}catch{}return new mj},ir=UT("localStorage"),pj=UT("sessionStorage");const da=new Og("@firebase/database"),gj=(function(){let t=1;return function(){return t++}})(),zT=function(t){const e=jL(t),n=new OL;n.update(e);const r=n.digest();return kg.encodeByteArray(r)},Il=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Il.apply(null,r):typeof r=="object"?e+=mt(r):e+=r,e+=" "}return e};let Qo=null,qS=!0;const yj=function(t,e){G(!0,"Can't turn on custom loggers persistently."),da.logLevel=Ue.VERBOSE,Qo=da.log.bind(da)},St=function(...t){if(qS===!0&&(qS=!1,Qo===null&&pj.get("logging_enabled")===!0&&yj()),Qo){const e=Il.apply(null,t);Qo(e)}},Ll=function(t){return function(...e){St(t,...e)}},wp=function(...t){const e="FIREBASE INTERNAL ERROR: "+Il(...t);da.error(e)},Ni=function(...t){const e=`FIREBASE FATAL ERROR: ${Il(...t)}`;throw da.error(e),new Error(e)},jt=function(...t){const e="FIREBASE WARNING: "+Il(...t);da.warn(e)},vj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ef=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_j=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fr="[MIN_NAME]",Ss="[MAX_NAME]",pr=function(t,e){if(t===e)return 0;if(t===fr||e===Ss)return-1;if(e===fr||t===Ss)return 1;{const n=GS(t),r=GS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},bj=function(t,e){return t===e?0:t<e?-1:1},jo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+mt(e))},Yg=function(t){if(typeof t!="object"||t===null)return mt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=mt(e[r]),n+=":",n+=Yg(t[e[r]]);return n+="}",n},VT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const BT=function(t){G(!Ef(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,c,u,h,m;t===0?(c=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),c=h+r,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(c=0,u=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(m=n;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(m=e;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(m=0;m<64;m+=8){let _=parseInt(g.substr(m,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},Sj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ej(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const wj=new RegExp("^-?(0*)\\d{1,10}$"),Tj=-2147483648,Cj=2147483647,GS=function(t){if(wj.test(t)){const e=Number(t);if(e>=Tj&&e<=Cj)return e}return null},La=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Aj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class Rj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(e)}}class Cu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Cu.OWNER="owner";const Kg="5",HT="v",FT="s",qT="r",GT="f",YT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KT="ls",WT="p",Tp="ac",$T="websocket",XT="long_polling";class QT{constructor(e,n,r,o,c=!1,u="",h=!1,m=!1,p=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ir.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ir.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function kj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZT(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===$T)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===XT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kj(t)&&(n.ns=t.namespace);const o=[];return xt(n,(c,u)=>{o.push(c+"="+u)}),r+o.join("&")}class Mj{constructor(){this.counters_={}}incrementCounter(e,n=1){Wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return hL(this.counters_)}}const Dm={},Om={};function Wg(t){const e=t.toString();return Dm[e]||(Dm[e]=new Mj),Dm[e]}function Dj(t,e){const n=t.toString();return Om[n]||(Om[n]=e()),Om[n]}class Oj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&La(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const YS="start",Ij="close",Lj="pLPCommand",Pj="pRTLPCB",JT="id",eC="pw",tC="ser",jj="cb",Uj="seg",zj="ts",Vj="d",Bj="dframe",nC=1870,iC=30,Hj=nC-iC,Fj=25e3,qj=3e4;class la{constructor(e,n,r,o,c,u,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ll(e),this.stats_=Wg(n),this.urlFn=m=>(this.appCheckToken&&(m[Tp]=this.appCheckToken),ZT(n,XT,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Oj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qj)),_j(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $g((...c)=>{const[u,h,m,p,g]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===YS)this.id=h,this.password=m;else if(u===Ij)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...c)=>{const[u,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[YS]="t",r[tC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[jj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[HT]=Kg,this.transportSessionId&&(r[FT]=this.transportSessionId),this.lastSessionId&&(r[KT]=this.lastSessionId),this.applicationId&&(r[WT]=this.applicationId),this.appCheckToken&&(r[Tp]=this.appCheckToken),typeof location<"u"&&location.hostname&&YT.test(location.hostname)&&(r[qT]=GT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){la.forceAllow_=!0}static forceDisallow(){la.forceDisallow_=!0}static isAvailable(){return la.forceAllow_?!0:!la.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sj()&&!xj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=mt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Fw(n),o=VT(r,Hj);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Bj]="t",r[JT]=e,r[eC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=mt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $g{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gj(),window[Lj+this.uniqueCallbackIdentifier]=e,window[Pj+this.uniqueCallbackIdentifier]=n,this.myIFrame=$g.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){St("frame writing exception"),h.stack&&St(h.stack),St(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||St("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[JT]=this.myID,e[eC]=this.myPW,e[tC]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+iC+r.length<=nC;){const u=this.pendingSegs.shift();r=r+"&"+Uj+o+"="+u.seg+"&"+zj+o+"="+u.ts+"&"+Vj+o+"="+u.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(Fj)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{St("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const Gj=16384,Yj=45e3;let $u=null;typeof MozWebSocket<"u"?$u=MozWebSocket:typeof WebSocket<"u"&&($u=WebSocket);class kn{constructor(e,n,r,o,c,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ll(this.connId),this.stats_=Wg(n),this.connURL=kn.connectionURL_(n,u,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,c){const u={};return u[HT]=Kg,typeof location<"u"&&location.hostname&&YT.test(location.hostname)&&(u[qT]=GT),n&&(u[FT]=n),r&&(u[KT]=r),o&&(u[Tp]=o),c&&(u[WT]=c),ZT(e,$T,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ir.set("previous_websocket_failure",!0);try{let r;TL(),this.mySock=new $u(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){kn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&$u!==null&&!kn.forceDisallow_}static previouslyFailed(){return ir.isInMemoryStorage||ir.get("previous_websocket_failure")===!0}markConnectionHealthy(){ir.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=cl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=mt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VT(n,Gj);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Yj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kn.responsesRequiredToBeHealthy=2;kn.healthyTimeout=3e4;class hl{static get ALL_TRANSPORTS(){return[la,kn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=kn&&kn.isAvailable();let r=n&&!kn.previouslyFailed();if(e.webSocketOnly&&(n||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kn];else{const o=this.transports_=[];for(const c of hl.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);hl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}hl.globalTransportInitialized_=!1;const Kj=6e4,Wj=5e3,$j=10*1024,Xj=100*1024,Im="t",KS="d",Qj="s",WS="r",Zj="e",$S="o",XS="a",QS="n",ZS="p",Jj="h";class eU{constructor(e,n,r,o,c,u,h,m,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ll("c:"+this.id+":"),this.transportManager_=new hl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Zo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Xj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$j?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Im in e){const n=e[Im];n===XS?this.upgradeIfSecondaryHealthy_():n===WS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$S&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=jo("t",e),r=jo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ZS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:XS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:QS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=jo("t",e),r=jo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=jo(Im,e);if(KS in e){const r=e[KS];if(n===Jj){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===QS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Qj?this.onConnectionShutdown_(r):n===WS?this.onReset_(r):n===Zj?wp("Server Error: "+r):n===$S?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kg!==r&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Kj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Wj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ZS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ir.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sC{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class rC{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===n&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Xu extends rC{static getInstance(){return new Xu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const JS=32,ex=768;class De{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ke(){return new De("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xs(t){return t.pieces_.length-t.pieceNum_}function Be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new De(t.pieces_,e)}function Xg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function dl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function aC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new De(e,0)}function et(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof De)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new De(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){const n=me(t),r=me(e);if(n===null)return e;if(n===r)return Pt(Be(t),Be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nU(t,e){const n=dl(t,0),r=dl(e,0);for(let o=0;o<n.length&&o<r.length;o++){const c=pr(n[o],r[o]);if(c!==0)return c}return n.length===r.length?0:n.length<r.length?-1:1}function Qg(t,e){if(xs(t)!==xs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(xs(t)>xs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class iU{constructor(e,n){this.errorPrefix_=n,this.parts_=dl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_f(this.parts_[r]);oC(this)}}function sU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_f(e),oC(t)}function rU(t){const e=t.parts_.pop();t.byteLength_-=_f(e),t.parts_.length>0&&(t.byteLength_-=1)}function oC(t){if(t.byteLength_>ex)throw new Error(t.errorPrefix_+"has a key path longer than "+ex+" bytes ("+t.byteLength_+").");if(t.parts_.length>JS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+JS+") or object contains a cycle "+Js(t))}function Js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class Zg extends rC{static getInstance(){return new Zg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}const Uo=1e3,aU=300*1e3,tx=30*1e3,oU=1.3,lU=3e4,cU="server_kill",nx=3;class Ei extends sC{constructor(e,n,r,o,c,u,h,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Ei.nextPersistentConnectionId_++,this.log_=Ll("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uo,this.maxReconnectDelay_=aU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,c={r:o,a:e,b:n};this.log_(mt(c)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new Hn,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),n.promise}listen(e,n,r,o){this.initConnection_();const c=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+c),this.listens.has(u)||this.listens.set(u,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(u).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(u).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},u="q";e.tag&&(c.q=n._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(u,c,h=>{const m=h.d,p=h.s;Ei.warnOnListenWarnings_(m,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wn(e,"w")){const r=pa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',c=n._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||DL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ML(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const c=o.s,u=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const c={p:e},u="n";o&&(c.q=r,c.t=o),this.sendRequest(u,c)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const c={p:n,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,c){this.initConnection_();const u={p:n,d:r};c!==void 0&&(u.h=c),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,c=>{this.log_(n+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wp("Unrecognized action received from server: "+mt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lU&&(this.reconnectDelay_=Uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Ei.nextConnectionId_++,c=this.lastSessionId;let u=!1,h=null;const m=function(){h?h.close():(u=!0,r())},p=function(y){G(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:m,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new eU(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,x=>{jt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(cU)},c))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&jt(y),m())}}}interrupt(e){St("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){St("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vu(this.interruptReasons_)&&(this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(c=>Yg(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new De(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(n),c.delete(n),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){St("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nx&&(this.reconnectDelay_=tx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){St("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jT.replace(/\./g,"-")]=1,Dg()?e["framework.cordova"]=1:Xw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xu.getInstance().currentlyOnline();return Vu(this.interruptReasons_)&&e}}Ei.nextPersistentConnectionId_=0;Ei.nextConnectionId_=0;class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}class wf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye(fr,e),o=new ye(fr,n);return this.compare(r,o)!==0}minPost(){return ye.MIN}}let uu;class lC extends wf{static get __EMPTY_NODE(){return uu}static set __EMPTY_NODE(e){uu=e}compare(e,n){return pr(e.name,n.name)}isDefinedOn(e){throw ka("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Ss,uu)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,uu)}toString(){return".key"}}const ar=new lC;class fu{constructor(e,n,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?r(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class _t{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??_t.RED,this.left=o??Kt.EMPTY_NODE,this.right=c??Kt.EMPTY_NODE}copy(e,n,r,o,c){return new _t(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Kt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Kt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}_t.RED=!0;_t.BLACK=!1;class uU{copy(e,n,r,o,c){return this}insert(e,n,r){return new _t(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Kt{constructor(e,n=Kt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Kt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,_t.BLACK,null,null))}remove(e){return new Kt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_t.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fu(this.root_,null,this.comparator_,!0,e)}}Kt.EMPTY_NODE=new uU;function fU(t,e){return pr(t.name,e.name)}function Jg(t,e){return pr(t,e)}let Cp;function hU(t){Cp=t}const cC=function(t){return typeof t=="number"?"number:"+BT(t):"string:"+t},uC=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wn(e,".sv"),"Priority must be a string or number.")}else G(t===Cp||t.isEmpty(),"priority of unexpected type.");G(t===Cp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ix;class vt{static set __childrenNodeConstructor(e){ix=e}static get __childrenNodeConstructor(){return ix}constructor(e,n=vt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),uC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new vt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:vt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:me(e)===".priority"?this.priorityNode_:vt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:vt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=me(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||xs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,vt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=BT(this.value_):e+=this.value_,this.lazyHash_=zT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===vt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof vt.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=vt.VALUE_TYPE_ORDER.indexOf(n),c=vt.VALUE_TYPE_ORDER.indexOf(r);return G(o>=0,"Unknown leaf type: "+n),G(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}vt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let fC,hC;function dU(t){fC=t}function mU(t){hC=t}class pU extends wf{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),c=r.compareTo(o);return c===0?pr(e.name,n.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Ss,new vt("[PRIORITY-POST]",hC))}makePost(e,n){const r=fC(e);return new ye(n,new vt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Xe=new pU;const gU=Math.log(2);class yU{constructor(e){const n=c=>parseInt(Math.log(c)/gU,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qu=function(t,e,n,r){t.sort(e);const o=function(m,p){const g=p-m;let y,_;if(g===0)return null;if(g===1)return y=t[m],_=n?n(y):y,new _t(_,y.node,_t.BLACK,null,null);{const x=parseInt(g/2,10)+m,T=o(m,x),N=o(x+1,p);return y=t[x],_=n?n(y):y,new _t(_,y.node,_t.BLACK,T,N)}},c=function(m){let p=null,g=null,y=t.length;const _=function(T,N){const k=y-T,M=y;y-=T;const P=o(k+1,M),L=t[k],F=n?n(L):L;x(new _t(F,L.node,N,null,P))},x=function(T){p?(p.left=T,p=T):(g=T,p=T)};for(let T=0;T<m.count;++T){const N=m.nextBitIsOne(),k=Math.pow(2,m.count-(T+1));N?_(k,_t.BLACK):(_(k,_t.BLACK),_(k,_t.RED))}return g},u=new yU(t.length),h=c(u);return new Kt(r||e,h)};let Lm;const ta={};class _i{static get Default(){return G(ta&&Xe,"ChildrenNode.ts has not been loaded"),Lm=Lm||new _i({".priority":ta},{".priority":Xe}),Lm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=pa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Kt?n:null}hasIndex(e){return Wn(this.indexSet_,e.toString())}addIndex(e,n){G(e!==ar,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=n.getIterator(ye.Wrap);let u=c.getNext();for(;u;)o=o||e.isDefinedOn(u.node),r.push(u),u=c.getNext();let h;o?h=Qu(r,e.getCompare()):h=ta;const m=e.toString(),p={...this.indexSet_};p[m]=e;const g={...this.indexes_};return g[m]=h,new _i(g,p)}addToIndexes(e,n){const r=Bu(this.indexes_,(o,c)=>{const u=pa(this.indexSet_,c);if(G(u,"Missing index implementation for "+c),o===ta)if(u.isDefinedOn(e.node)){const h=[],m=n.getIterator(ye.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),Qu(h,u.getCompare())}else return ta;else{const h=n.get(e.name);let m=o;return h&&(m=m.remove(new ye(e.name,h))),m.insert(e,e.node)}});return new _i(r,this.indexSet_)}removeFromIndexes(e,n){const r=Bu(this.indexes_,o=>{if(o===ta)return o;{const c=n.get(e.name);return c?o.remove(new ye(e.name,c)):o}});return new _i(r,this.indexSet_)}}let zo;class oe{static get EMPTY_NODE(){return zo||(zo=new oe(new Kt(Jg),null,_i.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&uC(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zo}updatePriority(e){return this.children_.isEmpty()?this:new oe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?zo:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let o,c;n.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?zo:this.priorityNode_;return new oe(o,u,c)}}updateChild(e,n){const r=me(e);if(r===null)return n;{G(me(e)!==".priority"||xs(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Be(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,c=!0;if(this.forEachChild(Xe,(u,h)=>{n[u]=h.val(e),r++,c&&oe.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):c=!1}),!e&&c&&o<2*r){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+cC(this.getPriority().val())+":"),this.forEachChild(Xe,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":zT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new ye(e,n));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ye.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pl?-1:0}withIndex(e){if(e===ar||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new oe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ar||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Xe),o=n.getIterator(Xe);let c=r.getNext(),u=o.getNext();for(;c&&u;){if(c.name!==u.name||!c.node.equals(u.node))return!1;c=r.getNext(),u=o.getNext()}return c===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ar?null:this.indexMap_.get(e.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vU extends oe{constructor(){super(new Kt(Jg),oe.EMPTY_NODE,_i.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return oe.EMPTY_NODE}isEmpty(){return!1}}const Pl=new vU;Object.defineProperties(ye,{MIN:{value:new ye(fr,oe.EMPTY_NODE)},MAX:{value:new ye(Ss,Pl)}});lC.__EMPTY_NODE=oe.EMPTY_NODE;vt.__childrenNodeConstructor=oe;hU(Pl);mU(Pl);const _U=!0;function st(t,e=null){if(t===null)return oe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new vt(n,st(e))}if(!(t instanceof Array)&&_U){const n=[];let r=!1;if(xt(t,(u,h)=>{if(u.substring(0,1)!=="."){const m=st(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),n.push(new ye(u,m)))}}),n.length===0)return oe.EMPTY_NODE;const c=Qu(n,fU,u=>u.name,Jg);if(r){const u=Qu(n,Xe.getCompare());return new oe(c,st(e),new _i({".priority":u},{".priority":Xe}))}else return new oe(c,st(e),_i.Default)}else{let n=oe.EMPTY_NODE;return xt(t,(r,o)=>{if(Wn(t,r)&&r.substring(0,1)!=="."){const c=st(o);(c.isLeafNode()||!c.isEmpty())&&(n=n.updateImmediateChild(r,c))}}),n.updatePriority(st(e))}}dU(st);class ey extends wf{constructor(e){super(),this.indexPath_=e,G(!pe(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),c=r.compareTo(o);return c===0?pr(e.name,n.name):c}makePost(e,n){const r=st(e),o=oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,o)}maxPost(){const e=oe.EMPTY_NODE.updateChild(this.indexPath_,Pl);return new ye(Ss,e)}toString(){return dl(this.indexPath_,0).join("/")}}class bU extends wf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?pr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=st(e);return new ye(n,r)}toString(){return".value"}}const dC=new bU;function mC(t){return{type:"value",snapshotNode:t}}function _a(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ml(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function SU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class ty{constructor(e){this.index_=e}updateChild(e,n,r,o,c,u){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(u!=null&&(r.isEmpty()?e.hasChild(n)?u.trackChildChange(ml(n,h)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(_a(n,r)):u.trackChildChange(pl(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Xe,(o,c)=>{n.hasChild(o)||r.trackChildChange(ml(o,c))}),n.isLeafNode()||n.forEachChild(Xe,(o,c)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(c)||r.trackChildChange(pl(o,c,u))}else r.trackChildChange(_a(o,c))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?oe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gl{constructor(e){this.indexedFilter_=new ty(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gl.getStartPost_(e),this.endPost_=gl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,c,u){return this.matches(new ye(n,r))||(r=oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,c,u)}updateFullNode(e,n,r){n.isLeafNode()&&(n=oe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(oe.EMPTY_NODE);const c=this;return n.forEachChild(Xe,(u,h)=>{c.matches(new ye(u,h))||(o=o.updateImmediateChild(u,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}class xU{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,c,u){return this.rangedFilter_.matches(new ye(n,r))||(r=oe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,c,u):this.fullLimitUpdateChild_(e,n,r,c,u)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=oe.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;c.hasNext()&&u<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(oe.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let u=0;for(;c.hasNext();){const h=c.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:o=o.updateImmediateChild(h.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,c){let u;if(this.reverse_){const y=this.index_.getCompare();u=(_,x)=>y(x,_)}else u=this.index_.getCompare();const h=e;G(h.numChildren()===this.limit_,"");const m=new ye(n,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(m);if(h.hasChild(n)){const y=h.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===n||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const x=_==null?1:u(_,m);if(g&&!r.isEmpty()&&x>=0)return c?.trackChildChange(pl(n,r,y)),h.updateImmediateChild(n,r);{c?.trackChildChange(ml(n,y));const N=h.updateImmediateChild(n,oe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(c?.trackChildChange(_a(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return r.isEmpty()?e:g&&u(p,m)>=0?(c!=null&&(c.trackChildChange(ml(p.name,p.node)),c.trackChildChange(_a(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(p.name,oe.EMPTY_NODE)):e}}class ny{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fr}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new ny;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function EU(t){return t.loadsAllData()?new ty(t.getIndex()):t.hasLimit()?new xU(t):new gl(t)}function wU(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function TU(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function CU(t,e){const n=t.copy();return n.index_=e,n}function sx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Xe?n="$priority":t.index_===dC?n="$value":t.index_===ar?n="$key":(G(t.index_ instanceof ey,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=mt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=mt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+mt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=mt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+mt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Xe&&(e.i=t.index_.toString()),e}class Zu extends sC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Ll("p:rest:"),this.listens_={}}listen(e,n,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const u=Zu.getListenId_(e,r),h={};this.listens_[u]=h;const m=sx(e._queryParams);this.restRequest_(c+".json",m,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(c,y,!1,r),pa(this.listens_,u)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,n){const r=Zu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sx(e._queryParams),r=e._path.toString(),o=new Hn;return this.restRequest_(r+".json",n,(c,u)=>{let h=u;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(n.auth=o.accessToken),c&&c.token&&(n.ac=c.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Da(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=cl(h.responseText)}catch{jt("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&jt("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class AU{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Ju(){return{value:null,children:new Map}}function Pa(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=me(e);t.children.has(r)||t.children.set(r,Ju());const o=t.children.get(r);e=Be(e),Pa(o,e,n)}}function Ap(t,e){if(pe(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Xe,(r,o)=>{Pa(t,new De(r),o)}),Ap(t,e)}}else if(t.children.size>0){const n=me(e);return e=Be(e),t.children.has(n)&&Ap(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Rp(t,e,n){t.value!==null?n(e,t.value):RU(t,(r,o)=>{const c=new De(e.toString()+"/"+r);Rp(o,c,n)})}function RU(t,e){t.children.forEach((n,r)=>{e(r,n)})}class NU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&xt(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}const ax=10*1e3,kU=30*1e3,MU=300*1e3;class DU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NU(e);const r=ax+(kU-ax)*Math.random();Zo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;xt(e,(o,c)=>{c>0&&Wn(this.statsToReport_,o)&&(n[o]=c,r=!0)}),r&&this.server_.reportStats(n),Zo(this.reportStats_.bind(this),Math.floor(Math.random()*2*MU))}}var Dn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Dn||(Dn={}));function iy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ry(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class ef{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Dn.ACK_USER_WRITE,this.source=iy()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(e));return new ef(ke(),n,this.revert)}}else return G(me(this.path)===e,"operationForChild called for unrelated child."),new ef(Be(this.path),this.affectedTree,this.revert)}}class yl{constructor(e,n){this.source=e,this.path=n,this.type=Dn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new yl(this.source,ke()):new yl(this.source,Be(this.path))}}class hr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Dn.OVERWRITE}operationForChild(e){return pe(this.path)?new hr(this.source,ke(),this.snap.getImmediateChild(e)):new hr(this.source,Be(this.path),this.snap)}}class ba{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Dn.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new De(e));return n.isEmpty()?null:n.value?new hr(this.source,ke(),n.value):new ba(this.source,ke(),n)}else return G(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ba(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Es{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class OU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function IU(t,e,n,r){const o=[],c=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&c.push(SU(u.childName,u.snapshotNode))}),Vo(t,o,"child_removed",e,r,n),Vo(t,o,"child_added",e,r,n),Vo(t,o,"child_moved",c,r,n),Vo(t,o,"child_changed",e,r,n),Vo(t,o,"value",e,r,n),o}function Vo(t,e,n,r,o,c){const u=r.filter(h=>h.type===n);u.sort((h,m)=>PU(t,h,m)),u.forEach(h=>{const m=LU(t,h,c);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,t.query_))})})}function LU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function PU(t,e,n){if(e.childName==null||n.childName==null)throw ka("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),o=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,o)}function Tf(t,e){return{eventCache:t,serverCache:e}}function Jo(t,e,n,r){return Tf(new Es(e,n,r),t.serverCache)}function pC(t,e,n,r){return Tf(t.eventCache,new Es(e,n,r))}function tf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function dr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Pm;const jU=()=>(Pm||(Pm=new Kt(bj)),Pm);class Fe{static fromObject(e){let n=new Fe(null);return xt(e,(r,o)=>{n=n.set(new De(r),o)}),n}constructor(e,n=jU()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(pe(e))return null;{const r=me(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Be(e),n);return c!=null?{path:et(new De(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=me(e),r=this.children.get(n);return r!==null?r.subtree(Be(e)):new Fe(null)}}set(e,n){if(pe(e))return new Fe(n,this.children);{const r=me(e),c=(this.children.get(r)||new Fe(null)).set(Be(e),n),u=this.children.insert(r,c);return new Fe(this.value,u)}}remove(e){if(pe(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=me(e),r=this.children.get(n);if(r){const o=r.remove(Be(e));let c;return o.isEmpty()?c=this.children.remove(n):c=this.children.insert(n,o),this.value===null&&c.isEmpty()?new Fe(null):new Fe(this.value,c)}else return this}}get(e){if(pe(e))return this.value;{const n=me(e),r=this.children.get(n);return r?r.get(Be(e)):null}}setTree(e,n){if(pe(e))return n;{const r=me(e),c=(this.children.get(r)||new Fe(null)).setTree(Be(e),n);let u;return c.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,c),new Fe(this.value,u)}}fold(e){return this.fold_(ke(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(et(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ke(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(pe(e))return null;{const c=me(e),u=this.children.get(c);return u?u.findOnPath_(Be(e),et(n,c),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ke(),n)}foreachOnPath_(e,n,r){if(pe(e))return this;{this.value&&r(n,this.value);const o=me(e),c=this.children.get(o);return c?c.foreachOnPath_(Be(e),et(n,o),r):new Fe(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(et(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class In{constructor(e){this.writeTree_=e}static empty(){return new In(new Fe(null))}}function el(t,e,n){if(pe(e))return new In(new Fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const u=Pt(o,e);return c=c.updateChild(u,n),new In(t.writeTree_.set(o,c))}else{const o=new Fe(n),c=t.writeTree_.setTree(e,o);return new In(c)}}}function Np(t,e,n){let r=t;return xt(n,(o,c)=>{r=el(r,et(e,o),c)}),r}function ox(t,e){if(pe(e))return In.empty();{const n=t.writeTree_.setTree(e,new Fe(null));return new In(n)}}function kp(t,e){return gr(t,e)!=null}function gr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function lx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Xe,(r,o)=>{e.push(new ye(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ye(r,o.value))}),e}function ys(t,e){if(pe(e))return t;{const n=gr(t,e);return n!=null?new In(new Fe(n)):new In(t.writeTree_.subtree(e))}}function Mp(t){return t.writeTree_.isEmpty()}function Sa(t,e){return gC(ke(),t.writeTree_,e)}function gC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(G(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):n=gC(et(t,o),c,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(et(t,".priority"),r)),n}}function Cf(t,e){return bC(e,t)}function UU(t,e,n,r,o){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=el(t.visibleWrites,e,n)),t.lastWriteId=r}function zU(t,e,n,r){G(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Np(t.visibleWrites,e,n),t.lastWriteId=r}function VU(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function BU(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,c=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&HU(h,r.path)?o=!1:Sn(r.path,h.path)&&(c=!0)),u--}if(o){if(c)return FU(t),!0;if(r.snap)t.visibleWrites=ox(t.visibleWrites,r.path);else{const h=r.children;xt(h,m=>{t.visibleWrites=ox(t.visibleWrites,et(r.path,m))})}return!0}else return!1}function HU(t,e){if(t.snap)return Sn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sn(et(t.path,n),e))return!0;return!1}function FU(t){t.visibleWrites=yC(t.allWrites,qU,ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qU(t){return t.visible}function yC(t,e,n){let r=In.empty();for(let o=0;o<t.length;++o){const c=t[o];if(e(c)){const u=c.path;let h;if(c.snap)Sn(n,u)?(h=Pt(n,u),r=el(r,h,c.snap)):Sn(u,n)&&(h=Pt(u,n),r=el(r,ke(),c.snap.getChild(h)));else if(c.children){if(Sn(n,u))h=Pt(n,u),r=Np(r,h,c.children);else if(Sn(u,n))if(h=Pt(u,n),pe(h))r=Np(r,ke(),c.children);else{const m=pa(c.children,me(h));if(m){const p=m.getChild(Be(h));r=el(r,ke(),p)}}}else throw ka("WriteRecord should have .snap or .children")}}return r}function vC(t,e,n,r,o){if(!r&&!o){const c=gr(t.visibleWrites,e);if(c!=null)return c;{const u=ys(t.visibleWrites,e);if(Mp(u))return n;if(n==null&&!kp(u,ke()))return null;{const h=n||oe.EMPTY_NODE;return Sa(u,h)}}}else{const c=ys(t.visibleWrites,e);if(!o&&Mp(c))return n;if(!o&&n==null&&!kp(c,ke()))return null;{const u=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(Sn(p.path,e)||Sn(e,p.path))},h=yC(t.allWrites,u,e),m=n||oe.EMPTY_NODE;return Sa(h,m)}}}function GU(t,e,n){let r=oe.EMPTY_NODE;const o=gr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Xe,(c,u)=>{r=r.updateImmediateChild(c,u)}),r;if(n){const c=ys(t.visibleWrites,e);return n.forEachChild(Xe,(u,h)=>{const m=Sa(ys(c,new De(u)),h);r=r.updateImmediateChild(u,m)}),lx(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const c=ys(t.visibleWrites,e);return lx(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function YU(t,e,n,r,o){G(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=et(e,n);if(kp(t.visibleWrites,c))return null;{const u=ys(t.visibleWrites,c);return Mp(u)?o.getChild(n):Sa(u,o.getChild(n))}}function KU(t,e,n,r){const o=et(e,n),c=gr(t.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(n)){const u=ys(t.visibleWrites,o);return Sa(u,r.getNode().getImmediateChild(n))}else return null}function WU(t,e){return gr(t.visibleWrites,e)}function $U(t,e,n,r,o,c,u){let h;const m=ys(t.visibleWrites,e),p=gr(m,ke());if(p!=null)h=p;else if(n!=null)h=Sa(m,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=u.getCompare(),_=c?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let x=_.getNext();for(;x&&g.length<o;)y(x,r)!==0&&g.push(x),x=_.getNext();return g}else return[]}function XU(){return{visibleWrites:In.empty(),allWrites:[],lastWriteId:-1}}function nf(t,e,n,r){return vC(t.writeTree,t.treePath,e,n,r)}function ay(t,e){return GU(t.writeTree,t.treePath,e)}function cx(t,e,n,r){return YU(t.writeTree,t.treePath,e,n,r)}function sf(t,e){return WU(t.writeTree,et(t.treePath,e))}function QU(t,e,n,r,o,c){return $U(t.writeTree,t.treePath,e,n,r,o,c)}function oy(t,e,n){return KU(t.writeTree,t.treePath,e,n)}function _C(t,e){return bC(et(t.treePath,e),t.writeTree)}function bC(t,e){return{treePath:t,writeTree:e}}class ZU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(n==="child_added"&&c==="child_removed")this.changeMap.set(r,pl(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&c==="child_changed")this.changeMap.set(r,ml(r,o.oldSnap));else if(n==="child_changed"&&c==="child_added")this.changeMap.set(r,_a(r,e.snapshotNode));else if(n==="child_changed"&&c==="child_changed")this.changeMap.set(r,pl(r,e.snapshotNode,o.oldSnap));else throw ka("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class JU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const SC=new JU;class ly{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Es(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oy(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dr(this.viewCache_),c=QU(this.writes_,o,n,1,r,e);return c.length===0?null:c[0]}}function e8(t){return{filter:t}}function t8(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function n8(t,e,n,r,o){const c=new ZU;let u,h;if(n.type===Dn.OVERWRITE){const p=n;p.source.fromUser?u=Dp(t,e,p.path,p.snap,r,o,c):(G(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!pe(p.path),u=rf(t,e,p.path,p.snap,r,o,h,c))}else if(n.type===Dn.MERGE){const p=n;p.source.fromUser?u=s8(t,e,p.path,p.children,r,o,c):(G(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=Op(t,e,p.path,p.children,r,o,h,c))}else if(n.type===Dn.ACK_USER_WRITE){const p=n;p.revert?u=o8(t,e,p.path,r,o,c):u=r8(t,e,p.path,p.affectedTree,r,o,c)}else if(n.type===Dn.LISTEN_COMPLETE)u=a8(t,e,n.path,r,c);else throw ka("Unknown operation type: "+n.type);const m=c.getChanges();return i8(e,u,m),{viewCache:u,changes:m}}function i8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=tf(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&n.push(mC(tf(e)))}}function xC(t,e,n,r,o,c){const u=e.eventCache;if(sf(r,n)!=null)return e;{let h,m;if(pe(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=dr(e),g=p instanceof oe?p:oe.EMPTY_NODE,y=ay(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,c)}else{const p=nf(r,dr(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,c)}else{const p=me(n);if(p===".priority"){G(xs(n)===1,"Can't have a priority with additional path components");const g=u.getNode();m=e.serverCache.getNode();const y=cx(r,n,g,m);y!=null?h=t.filter.updatePriority(g,y):h=u.getNode()}else{const g=Be(n);let y;if(u.isCompleteForChild(p)){m=e.serverCache.getNode();const _=cx(r,n,u.getNode(),m);_!=null?y=u.getNode().getImmediateChild(p).updateChild(g,_):y=u.getNode().getImmediateChild(p)}else y=oy(r,p,e.serverCache);y!=null?h=t.filter.updateChild(u.getNode(),p,y,g,o,c):h=u.getNode()}}return Jo(e,h,u.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function rf(t,e,n,r,o,c,u,h){const m=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(pe(n))p=g.updateFullNode(m.getNode(),r,null);else if(g.filtersNodes()&&!m.isFiltered()){const x=m.getNode().updateChild(n,r);p=g.updateFullNode(m.getNode(),x,null)}else{const x=me(n);if(!m.isCompleteForPath(n)&&xs(n)>1)return e;const T=Be(n),k=m.getNode().getImmediateChild(x).updateChild(T,r);x===".priority"?p=g.updatePriority(m.getNode(),k):p=g.updateChild(m.getNode(),x,k,T,SC,null)}const y=pC(e,p,m.isFullyInitialized()||pe(n),g.filtersNodes()),_=new ly(o,y,c);return xC(t,y,n,o,_,h)}function Dp(t,e,n,r,o,c,u){const h=e.eventCache;let m,p;const g=new ly(o,e,c);if(pe(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),m=Jo(e,p,!0,t.filter.filtersNodes());else{const y=me(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),m=Jo(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=Be(n),x=h.getNode().getImmediateChild(y);let T;if(pe(_))T=r;else{const N=g.getCompleteChild(y);N!=null?Xg(_)===".priority"&&N.getChild(aC(_)).isEmpty()?T=N:T=N.updateChild(_,r):T=oe.EMPTY_NODE}if(x.equals(T))m=e;else{const N=t.filter.updateChild(h.getNode(),y,T,_,g,u);m=Jo(e,N,h.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function ux(t,e){return t.eventCache.isCompleteForChild(e)}function s8(t,e,n,r,o,c,u){let h=e;return r.foreach((m,p)=>{const g=et(n,m);ux(e,me(g))&&(h=Dp(t,h,g,p,o,c,u))}),r.foreach((m,p)=>{const g=et(n,m);ux(e,me(g))||(h=Dp(t,h,g,p,o,c,u))}),h}function fx(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Op(t,e,n,r,o,c,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;pe(n)?p=r:p=new Fe(null).setTree(n,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const x=e.serverCache.getNode().getImmediateChild(y),T=fx(t,x,_);m=rf(t,m,new De(y),T,o,c,u,h)}}),p.children.inorderTraversal((y,_)=>{const x=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!x){const T=e.serverCache.getNode().getImmediateChild(y),N=fx(t,T,_);m=rf(t,m,new De(y),N,o,c,u,h)}}),m}function r8(t,e,n,r,o,c,u){if(sf(o,n)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(pe(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return rf(t,e,n,m.getNode().getChild(n),o,c,h,u);if(pe(n)){let p=new Fe(null);return m.getNode().forEachChild(ar,(g,y)=>{p=p.set(new De(g),y)}),Op(t,e,n,p,o,c,h,u)}else return e}else{let p=new Fe(null);return r.foreach((g,y)=>{const _=et(n,g);m.isCompleteForPath(_)&&(p=p.set(g,m.getNode().getChild(_)))}),Op(t,e,n,p,o,c,h,u)}}function a8(t,e,n,r,o){const c=e.serverCache,u=pC(e,c.getNode(),c.isFullyInitialized()||pe(n),c.isFiltered());return xC(t,u,n,r,SC,o)}function o8(t,e,n,r,o,c){let u;if(sf(r,n)!=null)return e;{const h=new ly(r,e,o),m=e.eventCache.getNode();let p;if(pe(n)||me(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=nf(r,dr(e));else{const y=e.serverCache.getNode();G(y instanceof oe,"serverChildren would be complete if leaf node"),g=ay(r,y)}g=g,p=t.filter.updateFullNode(m,g,c)}else{const g=me(n);let y=oy(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=m.getImmediateChild(g)),y!=null?p=t.filter.updateChild(m,g,y,Be(n),h,c):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(m,g,oe.EMPTY_NODE,Be(n),h,c):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=nf(r,dr(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,c)))}return u=e.serverCache.isFullyInitialized()||sf(r,ke())!=null,Jo(e,p,u,t.filter.filtersNodes())}}class l8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new ty(r.getIndex()),c=EU(r);this.processor_=e8(c);const u=n.serverCache,h=n.eventCache,m=o.updateFullNode(oe.EMPTY_NODE,u.getNode(),null),p=c.updateFullNode(oe.EMPTY_NODE,h.getNode(),null),g=new Es(m,u.isFullyInitialized(),o.filtersNodes()),y=new Es(p,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=Tf(y,g),this.eventGenerator_=new OU(this.query_)}get query(){return this.query_}}function c8(t){return t.viewCache_.serverCache.getNode()}function u8(t){return tf(t.viewCache_)}function f8(t,e){const n=dr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function hx(t){return t.eventRegistrations_.length===0}function h8(t,e){t.eventRegistrations_.push(e)}function dx(t,e,n){const r=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(c=>{const u=c.createCancelEvent(n,o);u&&r.push(u)})}if(e){let o=[];for(let c=0;c<t.eventRegistrations_.length;++c){const u=t.eventRegistrations_[c];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(c+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function mx(t,e,n,r){e.type===Dn.MERGE&&e.source.queryId!==null&&(G(dr(t.viewCache_),"We should always have a full cache before handling merges"),G(tf(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,c=n8(t.processor_,o,e,n,r);return t8(t.processor_,c.viewCache),G(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,EC(t,c.changes,c.viewCache.eventCache.getNode(),null)}function d8(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Xe,(c,u)=>{r.push(_a(c,u))}),n.isFullyInitialized()&&r.push(mC(n.getNode())),EC(t,r,n.getNode(),e)}function EC(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return IU(t.eventGenerator_,e,n,o)}let af;class wC{constructor(){this.views=new Map}}function m8(t){G(!af,"__referenceConstructor has already been defined"),af=t}function p8(){return G(af,"Reference.ts has not been loaded"),af}function g8(t){return t.views.size===0}function cy(t,e,n,r){const o=e.source.queryId;if(o!==null){const c=t.views.get(o);return G(c!=null,"SyncTree gave us an op for an invalid query."),mx(c,e,n,r)}else{let c=[];for(const u of t.views.values())c=c.concat(mx(u,e,n,r));return c}}function TC(t,e,n,r,o){const c=e._queryIdentifier,u=t.views.get(c);if(!u){let h=nf(n,o?r:null),m=!1;h?m=!0:r instanceof oe?(h=ay(n,r),m=!1):(h=oe.EMPTY_NODE,m=!1);const p=Tf(new Es(h,m,!1),new Es(r,o,!1));return new l8(e,p)}return u}function y8(t,e,n,r,o,c){const u=TC(t,e,r,o,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),h8(u,n),d8(u,n)}function v8(t,e,n,r){const o=e._queryIdentifier,c=[];let u=[];const h=ws(t);if(o==="default")for(const[m,p]of t.views.entries())u=u.concat(dx(p,n,r)),hx(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query));else{const m=t.views.get(o);m&&(u=u.concat(dx(m,n,r)),hx(m)&&(t.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return h&&!ws(t)&&c.push(new(p8())(e._repo,e._path)),{removed:c,events:u}}function CC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function vs(t,e){let n=null;for(const r of t.views.values())n=n||f8(r,e);return n}function AC(t,e){if(e._queryParams.loadsAllData())return Af(t);{const r=e._queryIdentifier;return t.views.get(r)}}function RC(t,e){return AC(t,e)!=null}function ws(t){return Af(t)!=null}function Af(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let of;function _8(t){G(!of,"__referenceConstructor has already been defined"),of=t}function b8(){return G(of,"Reference.ts has not been loaded"),of}let S8=1;class px{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=XU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NC(t,e,n,r,o){return UU(t.pendingWriteTree_,e,n,r,o),o?ja(t,new hr(iy(),e,n)):[]}function x8(t,e,n,r){zU(t.pendingWriteTree_,e,n,r);const o=Fe.fromObject(n);return ja(t,new ba(iy(),e,o))}function ds(t,e,n=!1){const r=VU(t.pendingWriteTree_,e);if(BU(t.pendingWriteTree_,e)){let c=new Fe(null);return r.snap!=null?c=c.set(ke(),!0):xt(r.children,u=>{c=c.set(new De(u),!0)}),ja(t,new ef(r.path,c,n))}else return[]}function jl(t,e,n){return ja(t,new hr(sy(),e,n))}function E8(t,e,n){const r=Fe.fromObject(n);return ja(t,new ba(sy(),e,r))}function w8(t,e){return ja(t,new yl(sy(),e))}function T8(t,e,n){const r=fy(t,n);if(r){const o=hy(r),c=o.path,u=o.queryId,h=Pt(c,e),m=new yl(ry(u),h);return dy(t,c,m)}else return[]}function lf(t,e,n,r,o=!1){const c=e._path,u=t.syncPointTree_.get(c);let h=[];if(u&&(e._queryIdentifier==="default"||RC(u,e))){const m=v8(u,e,n,r);g8(u)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const p=m.removed;if(h=m.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(c,(_,x)=>ws(x));if(g&&!y){const _=t.syncPointTree_.subtree(c);if(!_.isEmpty()){const x=R8(_);for(let T=0;T<x.length;++T){const N=x[T],k=N.query,M=OC(t,N);t.listenProvider_.startListening(tl(k),vl(t,k),M.hashFn,M.onComplete)}}}!y&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(tl(e),null):p.forEach(_=>{const x=t.queryToTagMap.get(Rf(_));t.listenProvider_.stopListening(tl(_),x)}))}N8(t,p)}return h}function kC(t,e,n,r){const o=fy(t,r);if(o!=null){const c=hy(o),u=c.path,h=c.queryId,m=Pt(u,e),p=new hr(ry(h),m,n);return dy(t,u,p)}else return[]}function C8(t,e,n,r){const o=fy(t,r);if(o){const c=hy(o),u=c.path,h=c.queryId,m=Pt(u,e),p=Fe.fromObject(n),g=new ba(ry(h),m,p);return dy(t,u,g)}else return[]}function Ip(t,e,n,r=!1){const o=e._path;let c=null,u=!1;t.syncPointTree_.foreachOnPath(o,(_,x)=>{const T=Pt(_,o);c=c||vs(x,T),u=u||ws(x)});let h=t.syncPointTree_.get(o);h?(u=u||ws(h),c=c||vs(h,ke())):(h=new wC,t.syncPointTree_=t.syncPointTree_.set(o,h));let m;c!=null?m=!0:(m=!1,c=oe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((x,T)=>{const N=vs(T,ke());N&&(c=c.updateImmediateChild(x,N))}));const p=RC(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=Rf(e);G(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const x=k8();t.queryToTagMap.set(_,x),t.tagToQueryMap.set(x,_)}const g=Cf(t.pendingWriteTree_,o);let y=y8(h,e,n,g,c,m);if(!p&&!u&&!r){const _=AC(h,e);y=y.concat(M8(t,e,_))}return y}function uy(t,e,n){const o=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(u,h)=>{const m=Pt(u,e),p=vs(h,m);if(p)return p});return vC(o,e,c,n,!0)}function A8(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(p,g)=>{const y=Pt(p,n);r=r||vs(g,y)});let o=t.syncPointTree_.get(n);o?r=r||vs(o,ke()):(o=new wC,t.syncPointTree_=t.syncPointTree_.set(n,o));const c=r!=null,u=c?new Es(r,!0,!1):null,h=Cf(t.pendingWriteTree_,e._path),m=TC(o,e,h,c?u.getNode():oe.EMPTY_NODE,c);return u8(m)}function ja(t,e){return MC(e,t.syncPointTree_,null,Cf(t.pendingWriteTree_,ke()))}function MC(t,e,n,r){if(pe(t.path))return DC(t,e,n,r);{const o=e.get(ke());n==null&&o!=null&&(n=vs(o,ke()));let c=[];const u=me(t.path),h=t.operationForChild(u),m=e.children.get(u);if(m&&h){const p=n?n.getImmediateChild(u):null,g=_C(r,u);c=c.concat(MC(h,m,p,g))}return o&&(c=c.concat(cy(o,t,r,n))),c}}function DC(t,e,n,r){const o=e.get(ke());n==null&&o!=null&&(n=vs(o,ke()));let c=[];return e.children.inorderTraversal((u,h)=>{const m=n?n.getImmediateChild(u):null,p=_C(r,u),g=t.operationForChild(u);g&&(c=c.concat(DC(g,h,m,p)))}),o&&(c=c.concat(cy(o,t,r,n))),c}function OC(t,e){const n=e.query,r=vl(t,n);return{hashFn:()=>(c8(e)||oe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?T8(t,n._path,r):w8(t,n._path);{const c=Ej(o,n);return lf(t,n,null,c)}}}}function vl(t,e){const n=Rf(e);return t.queryToTagMap.get(n)}function Rf(t){return t._path.toString()+"$"+t._queryIdentifier}function fy(t,e){return t.tagToQueryMap.get(e)}function hy(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new De(t.substr(0,e))}}function dy(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const o=Cf(t.pendingWriteTree_,e);return cy(r,n,o,null)}function R8(t){return t.fold((e,n,r)=>{if(n&&ws(n))return[Af(n)];{let o=[];return n&&(o=CC(n)),xt(r,(c,u)=>{o=o.concat(u)}),o}})}function tl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(b8())(t._repo,t._path):t}function N8(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=Rf(r),c=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(c)}}}function k8(){return S8++}function M8(t,e,n){const r=e._path,o=vl(t,e),c=OC(t,n),u=t.listenProvider_.startListening(tl(e),o,c.hashFn,c.onComplete),h=t.syncPointTree_.subtree(r);if(o)G(!ws(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,g,y)=>{if(!pe(p)&&g&&ws(g))return[Af(g).query];{let _=[];return g&&(_=_.concat(CC(g).map(x=>x.query))),xt(y,(x,T)=>{_=_.concat(T)}),_}});for(let p=0;p<m.length;++p){const g=m[p];t.listenProvider_.stopListening(tl(g),vl(t,g))}}return u}class my{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new my(n)}node(){return this.node_}}class py{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=et(this.path_,e);return new py(this.syncTree_,n)}node(){return uy(this.syncTree_,this.path_)}}const D8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},gx=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return O8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return I8(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},O8=function(t,e,n){if(t==="timestamp")return n.timestamp;G(!1,"Unexpected server value: "+t)},I8=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const o=e.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const u=o.getValue();return typeof u!="number"?r:u+r},IC=function(t,e,n,r){return gy(e,new py(n,t),r)},LC=function(t,e,n){return gy(t,new my(e),n)};function gy(t,e,n){const r=t.getPriority().val(),o=gx(r,e.getImmediateChild(".priority"),n);let c;if(t.isLeafNode()){const u=t,h=gx(u.getValue(),e,n);return h!==u.getValue()||o!==u.getPriority().val()?new vt(h,st(o)):t}else{const u=t;return c=u,o!==u.getPriority().val()&&(c=c.updatePriority(new vt(o))),u.forEachChild(Xe,(h,m)=>{const p=gy(m,e.getImmediateChild(h),n);p!==m&&(c=c.updateImmediateChild(h,p))}),c}}class yy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function vy(t,e){let n=e instanceof De?e:new De(e),r=t,o=me(n);for(;o!==null;){const c=pa(r.node.children,o)||{children:{},childCount:0};r=new yy(o,r,c),n=Be(n),o=me(n)}return r}function Ua(t){return t.node.value}function PC(t,e){t.node.value=e,Lp(t)}function jC(t){return t.node.childCount>0}function L8(t){return Ua(t)===void 0&&!jC(t)}function Nf(t,e){xt(t.node.children,(n,r)=>{e(new yy(n,t,r))})}function UC(t,e,n,r){n&&e(t),Nf(t,o=>{UC(o,e,!0)})}function P8(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ul(t){return new De(t.parent===null?t.name:Ul(t.parent)+"/"+t.name)}function Lp(t){t.parent!==null&&j8(t.parent,t.name,t)}function j8(t,e,n){const r=L8(n),o=Wn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Lp(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Lp(t))}const U8=/[\[\].#$\/\u0000-\u001F\u007F]/,z8=/[\[\].#$\u0000-\u001F\u007F]/,jm=10*1024*1024,_y=function(t){return typeof t=="string"&&t.length!==0&&!U8.test(t)},zC=function(t){return typeof t=="string"&&t.length!==0&&!z8.test(t)},V8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zC(t)},cf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ef(t)||t&&typeof t=="object"&&Wn(t,".sv")},mr=function(t,e,n,r){r&&e===void 0||kf(ga(t,"value"),e,n)},kf=function(t,e,n){const r=n instanceof De?new iU(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Js(r));if(typeof e=="function")throw new Error(t+"contains a function "+Js(r)+" with contents = "+e.toString());if(Ef(e))throw new Error(t+"contains "+e.toString()+" "+Js(r));if(typeof e=="string"&&e.length>jm/3&&_f(e)>jm)throw new Error(t+"contains a string greater than "+jm+" utf8 bytes "+Js(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(xt(e,(u,h)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(c=!0,!_y(u)))throw new Error(t+" contains an invalid key ("+u+") "+Js(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sU(r,u),kf(t,h,r),rU(r)}),o&&c)throw new Error(t+' contains ".value" child '+Js(r)+" in addition to actual children.")}},B8=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const c=dl(r);for(let u=0;u<c.length;u++)if(!(c[u]===".priority"&&u===c.length-1)){if(!_y(c[u]))throw new Error(t+"contains an invalid key ("+c[u]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(nU);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&Sn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},VC=function(t,e,n,r){const o=ga(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];xt(e,(u,h)=>{const m=new De(u);if(kf(o,h,et(n,m)),Xg(m)===".priority"&&!cf(h))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),B8(o,c)},H8=function(t,e,n){if(Ef(e))throw new Error(ga(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cf(e))throw new Error(ga(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},by=function(t,e,n,r){if(!zC(n))throw new Error(ga(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},F8=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),by(t,e,n)},sr=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},q8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_y(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!V8(n))throw new Error(ga(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class G8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mf(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();n!==null&&!Qg(c,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:c}),n.events.push(o)}n&&t.eventLists_.push(n)}function BC(t,e,n){Mf(t,n),HC(t,r=>Qg(r,e))}function wn(t,e,n){Mf(t,n),HC(t,r=>Sn(r,e)||Sn(e,r))}function HC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const c=o.path;e(c)?(Y8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Y8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qo&&St("event: "+n.toString()),La(r)}}}const K8="repo_interrupt",W8=25;class $8{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new G8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ju(),this.transactionQueueTree_=new yy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function X8(t,e,n){if(t.stats_=Wg(t.repoInfo_),t.forceRestClient_||Aj())t.server_=new Zu(t.repoInfo_,(r,o,c,u)=>{yx(t,r,o,c,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>vx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ei(t.repoInfo_,e,(r,o,c,u)=>{yx(t,r,o,c,u)},r=>{vx(t,r)},r=>{Q8(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Dj(t.repoInfo_,()=>new DU(t.stats_,t.server_)),t.infoData_=new AU,t.infoSyncTree_=new px({startListening:(r,o,c,u)=>{let h=[];const m=t.infoData_.getNode(r._path);return m.isEmpty()||(h=jl(t.infoSyncTree_,r._path,m),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),Sy(t,"connected",!1),t.serverSyncTree_=new px({startListening:(r,o,c,u)=>(t.server_.listen(r,c,o,(h,m)=>{const p=u(h,m);wn(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function FC(t){const n=t.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Df(t){return D8({timestamp:FC(t)})}function yx(t,e,n,r,o){t.dataUpdateCount++;const c=new De(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(r){const m=Bu(n,p=>st(p));u=C8(t.serverSyncTree_,c,m,o)}else{const m=st(n);u=kC(t.serverSyncTree_,c,m,o)}else if(r){const m=Bu(n,p=>st(p));u=E8(t.serverSyncTree_,c,m)}else{const m=st(n);u=jl(t.serverSyncTree_,c,m)}let h=c;u.length>0&&(h=xa(t,c)),wn(t.eventQueue_,h,u)}function vx(t,e){Sy(t,"connected",e),e===!1&&tz(t)}function Q8(t,e){xt(e,(n,r)=>{Sy(t,n,r)})}function Sy(t,e,n){const r=new De("/.info/"+e),o=st(n);t.infoData_.updateSnapshot(r,o);const c=jl(t.infoSyncTree_,r,o);wn(t.eventQueue_,r,c)}function xy(t){return t.nextWriteId_++}function Z8(t,e,n){const r=A8(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(o=>{const c=st(o).withIndex(e._queryParams.getIndex());Ip(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=jl(t.serverSyncTree_,e._path,c);else{const h=vl(t.serverSyncTree_,e);u=kC(t.serverSyncTree_,e._path,c,h)}return wn(t.eventQueue_,e._path,u),lf(t.serverSyncTree_,e,n,null,!0),c},o=>(zl(t,"get for query "+mt(e)+" failed: "+o),Promise.reject(new Error(o))))}function J8(t,e,n,r,o){zl(t,"set",{path:e.toString(),value:n,priority:r});const c=Df(t),u=st(n,r),h=uy(t.serverSyncTree_,e),m=LC(u,h,c),p=xy(t),g=NC(t.serverSyncTree_,e,m,p,!0);Mf(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(_,x)=>{const T=_==="ok";T||jt("set at "+e+" failed: "+_);const N=ds(t.serverSyncTree_,p,!T);wn(t.eventQueue_,e,N),Ts(t,o,_,x)});const y=wy(t,e);xa(t,y),wn(t.eventQueue_,y,[])}function ez(t,e,n,r){zl(t,"update",{path:e.toString(),value:n});let o=!0;const c=Df(t),u={};if(xt(n,(h,m)=>{o=!1,u[h]=IC(et(e,h),st(m),t.serverSyncTree_,c)}),o)St("update() called with empty data.  Don't do anything."),Ts(t,r,"ok",void 0);else{const h=xy(t),m=x8(t.serverSyncTree_,e,u,h);Mf(t.eventQueue_,m),t.server_.merge(e.toString(),n,(p,g)=>{const y=p==="ok";y||jt("update at "+e+" failed: "+p);const _=ds(t.serverSyncTree_,h,!y),x=_.length>0?xa(t,e):e;wn(t.eventQueue_,x,_),Ts(t,r,p,g)}),xt(n,p=>{const g=wy(t,et(e,p));xa(t,g)}),wn(t.eventQueue_,e,[])}}function tz(t){zl(t,"onDisconnectEvents");const e=Df(t),n=Ju();Rp(t.onDisconnect_,ke(),(o,c)=>{const u=IC(o,c,t.serverSyncTree_,e);Pa(n,o,u)});let r=[];Rp(n,ke(),(o,c)=>{r=r.concat(jl(t.serverSyncTree_,o,c));const u=wy(t,o);xa(t,u)}),t.onDisconnect_=Ju(),wn(t.eventQueue_,ke(),r)}function nz(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,o)=>{r==="ok"&&Ap(t.onDisconnect_,e),Ts(t,n,r,o)})}function _x(t,e,n,r){const o=st(n);t.server_.onDisconnectPut(e.toString(),o.val(!0),(c,u)=>{c==="ok"&&Pa(t.onDisconnect_,e,o),Ts(t,r,c,u)})}function iz(t,e,n,r,o){const c=st(n,r);t.server_.onDisconnectPut(e.toString(),c.val(!0),(u,h)=>{u==="ok"&&Pa(t.onDisconnect_,e,c),Ts(t,o,u,h)})}function sz(t,e,n,r){if(Vu(n)){St("onDisconnect().update() called with empty data.  Don't do anything."),Ts(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(o,c)=>{o==="ok"&&xt(n,(u,h)=>{const m=st(h);Pa(t.onDisconnect_,et(e,u),m)}),Ts(t,r,o,c)})}function rz(t,e,n){let r;me(e._path)===".info"?r=Ip(t.infoSyncTree_,e,n):r=Ip(t.serverSyncTree_,e,n),BC(t.eventQueue_,e._path,r)}function qC(t,e,n){let r;me(e._path)===".info"?r=lf(t.infoSyncTree_,e,n):r=lf(t.serverSyncTree_,e,n),BC(t.eventQueue_,e._path,r)}function az(t){t.persistentConnection_&&t.persistentConnection_.interrupt(K8)}function zl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),St(n,...e)}function Ts(t,e,n,r){e&&La(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let c=o;r&&(c+=": "+r);const u=new Error(c);u.code=o,e(u)}})}function GC(t,e,n){return uy(t.serverSyncTree_,e,n)||oe.EMPTY_NODE}function Ey(t,e=t.transactionQueueTree_){if(e||Of(t,e),Ua(e)){const n=KC(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&oz(t,Ul(e),n)}else jC(e)&&Nf(e,n=>{Ey(t,n)})}function oz(t,e,n){const r=n.map(p=>p.currentWriteId),o=GC(t,e,r);let c=o;const u=o.hash();for(let p=0;p<n.length;p++){const g=n[p];G(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Pt(e,g.path);c=c.updateChild(y,g.currentOutputSnapshotRaw)}const h=c.val(!0),m=e;t.server_.put(m.toString(),h,p=>{zl(t,"transaction put response",{path:m.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(ds(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Of(t,vy(t.transactionQueueTree_,e)),Ey(t,t.transactionQueueTree_),wn(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)La(y[_])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{jt("transaction at "+m.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}xa(t,e)}},u)}function xa(t,e){const n=YC(t,e),r=Ul(n),o=KC(t,n);return lz(t,o,r),r}function lz(t,e,n){if(e.length===0)return;const r=[];let o=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Pt(n,m.path);let g=!1,y;if(G(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)g=!0,y=m.abortReason,o=o.concat(ds(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=W8)g=!0,y="maxretry",o=o.concat(ds(t.serverSyncTree_,m.currentWriteId,!0));else{const _=GC(t,m.path,u);m.currentInputSnapshot=_;const x=e[h].update(_.val());if(x!==void 0){kf("transaction failed: Data returned ",x,m.path);let T=st(x);typeof x=="object"&&x!=null&&Wn(x,".priority")||(T=T.updatePriority(_.getPriority()));const k=m.currentWriteId,M=Df(t),P=LC(T,_,M);m.currentOutputSnapshotRaw=T,m.currentOutputSnapshotResolved=P,m.currentWriteId=xy(t),u.splice(u.indexOf(k),1),o=o.concat(NC(t.serverSyncTree_,m.path,P,m.currentWriteId,m.applyLocally)),o=o.concat(ds(t.serverSyncTree_,k,!0))}else g=!0,y="nodata",o=o.concat(ds(t.serverSyncTree_,m.currentWriteId,!0))}wn(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Of(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)La(r[h]);Ey(t,t.transactionQueueTree_)}function YC(t,e){let n,r=t.transactionQueueTree_;for(n=me(e);n!==null&&Ua(r)===void 0;)r=vy(r,n),e=Be(e),n=me(e);return r}function KC(t,e){const n=[];return WC(t,e,n),n.sort((r,o)=>r.order-o.order),n}function WC(t,e,n){const r=Ua(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Nf(e,o=>{WC(t,o,n)})}function Of(t,e){const n=Ua(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,PC(e,n.length>0?n:void 0)}Nf(e,r=>{Of(t,r)})}function wy(t,e){const n=Ul(YC(t,e)),r=vy(t.transactionQueueTree_,e);return P8(r,o=>{Um(t,o)}),Um(t,r),UC(r,o=>{Um(t,o)}),n}function Um(t,e){const n=Ua(e);if(n){const r=[];let o=[],c=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(G(c===u-1,"All SENT items should be at beginning of queue."),c=u,n[u].status=3,n[u].abortReason="set"):(G(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(ds(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&r.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));c===-1?PC(e,void 0):n.length=c+1,wn(t.eventQueue_,Ul(e),o);for(let u=0;u<r.length;u++)La(r[u])}}function cz(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function uz(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jt(`Invalid query segment '${n}' in query '${t}'`)}return e}const bx=function(t,e){const n=fz(t),r=n.namespace;n.domain==="firebase.com"&&Ni(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vj();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new QT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new De(n.pathString)}},fz=function(t){let e="",n="",r="",o="",c="",u=!0,h="https",m=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=cz(t.substring(g,y)));const _=uz(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),c=r}"ns"in _&&(c=_.ns)}return{host:e,port:m,domain:n,subdomain:r,secure:u,scheme:h,pathString:o,namespace:c}};const Sx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hz=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=Sx.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");let u=c.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=Sx.charAt(e[o]);return G(u.length===20,"nextPushId: Length should be 20."),u}})();class dz{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mt(this.snapshot.exportVal())}}class mz{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class $C{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class pz{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Hn;return nz(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){sr("OnDisconnect.remove",this._path);const e=new Hn;return _x(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){sr("OnDisconnect.set",this._path),mr("OnDisconnect.set",e,this._path,!1);const n=new Hn;return _x(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){sr("OnDisconnect.setWithPriority",this._path),mr("OnDisconnect.setWithPriority",e,this._path,!1),H8("OnDisconnect.setWithPriority",n);const r=new Hn;return iz(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){sr("OnDisconnect.update",this._path),VC("OnDisconnect.update",e,this._path);const n=new Hn;return sz(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class za{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return pe(this._path)?null:Xg(this._path)}get ref(){return new Oi(this._repo,this._path)}get _queryIdentifier(){const e=rx(this._queryParams),n=Yg(e);return n==="{}"?"default":n}get _queryObject(){return rx(this._queryParams)}isEqual(e){if(e=pt(e),!(e instanceof za))return!1;const n=this._repo===e._repo,r=Qg(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+tU(this._path)}}function gz(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ty(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ar){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==fr)throw new Error(r);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==Ss)throw new Error(r);if(typeof n!="string")throw new Error(o)}}else if(t.getIndex()===Xe){if(e!=null&&!cf(e)||n!=null&&!cf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(G(t.getIndex()instanceof ey||t.getIndex()===dC,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function XC(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Oi extends za{constructor(e,n){super(e,n,new ny,!1)}get parent(){const e=aC(this._path);return e===null?null:new Oi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class _l{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new De(e),r=bl(this.ref,e);return new _l(this._node.getChild(n),r,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new _l(o,bl(this.ref,r),Xe)))}hasChild(e){const n=new De(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function He(t,e){return t=pt(t),t._checkNotDeleted("ref"),e!==void 0?bl(t._root,e):t._root}function bl(t,e){return t=pt(t),me(t._path)===null?F8("child","path",e):by("child","path",e),new Oi(t._repo,et(t._path,e))}function Pp(t){return t=pt(t),new pz(t._repo,t._path)}function QC(t,e){t=pt(t),sr("push",t._path),mr("push",e,t._path,!0);const n=FC(t._repo),r=hz(n),o=bl(t,r),c=bl(t,r);let u;return e!=null?u=Ea(c,e).then(()=>c):u=Promise.resolve(c),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function yz(t){return sr("remove",t._path),Ea(t,null)}function Ea(t,e){t=pt(t),sr("set",t._path),mr("set",e,t._path,!1);const n=new Hn;return J8(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Fn(t,e){VC("update",e,t._path);const n=new Hn;return ez(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function jp(t){t=pt(t);const e=new $C(()=>{}),n=new If(e);return Z8(t._repo,t,n).then(r=>new _l(r,new Oi(t._repo,t._path),t._queryParams.getIndex()))}class If{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new dz("value",this,new _l(e.snapshotNode,new Oi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new mz(this,e,n):null}matches(e){return e instanceof If?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function vz(t,e,n,r,o){const c=new $C(n,void 0),u=new If(c);return rz(t._repo,t,u),()=>qC(t._repo,t,u)}function uf(t,e,n,r){return vz(t,"value",e)}function Up(t,e,n){qC(t._repo,t,null)}class Lf{}class _z extends Lf{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){mr("endAt",this._value,e._path,!0);const n=TU(e._queryParams,this._value,this._key);if(XC(n),Ty(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new za(e._repo,e._path,n,e._orderByCalled)}}class bz extends Lf{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){mr("startAt",this._value,e._path,!0);const n=wU(e._queryParams,this._value,this._key);if(XC(n),Ty(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new za(e._repo,e._path,n,e._orderByCalled)}}class Sz extends Lf{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){gz(e,"orderByChild");const n=new De(this._path);if(pe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new ey(n),o=CU(e._queryParams,r);return Ty(o),new za(e._repo,e._path,o,!0)}}function xz(t){return by("orderByChild","path",t),new Sz(t)}class Ez extends Lf{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(mr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _z(this._value,this._key)._apply(new bz(this._value,this._key)._apply(e))}}function wz(t,e){return new Ez(t,e)}function Tz(t,...e){let n=pt(t);for(const r of e)n=r._apply(n);return n}m8(Oi);_8(Oi);const Cz="FIREBASE_DATABASE_EMULATOR_HOST",zp={};let Az=!1;function Rz(t,e,n,r){const o=e.lastIndexOf(":"),c=e.substring(0,o),u=Ma(c);t.repoInfo_=new QT(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Nz(t,e,n,r,o){let c=r||t.options.databaseURL;c===void 0&&(t.options.projectId||Ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=bx(c,o),h=u.repoInfo,m;typeof process<"u"&&BS&&(m=BS[Cz]),m?(c=`http://${m}?ns=${h.namespace}`,u=bx(c,o),h=u.repoInfo):u.repoInfo.secure;const p=new Nj(t.name,t.options,e);q8("Invalid Firebase Database URL",u),pe(u.path)||Ni("Database URL must point to the root of a Firebase Database (not including a child path).");const g=Mz(h,t,p,new Rj(t,n));return new Dz(g,t)}function kz(t,e){const n=zp[e];(!n||n[t.key]!==t)&&Ni(`Database ${e}(${t.repoInfo_}) has already been deleted.`),az(t),delete n[t.key]}function Mz(t,e,n,r){let o=zp[e.name];o||(o={},zp[e.name]=o);let c=o[t.toURLString()];return c&&Ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new $8(t,Az,n,r),o[t.toURLString()]=c,c}class Dz{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(X8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Oi(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ni("Cannot call "+e+" on a deleted database.")}}function Oz(t=tT(),e){const n=Lg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=vL("database");r&&Iz(n,...r)}return n}function Iz(t,e,n,r={}){t=pt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,c=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&or(r,c.repoInfo_.emulatorOptions))return;Ni("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&Ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Cu(Cu.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:_L(r.mockUserToken,t.app.options.projectId);u=new Cu(h)}Ma(e)&&(Ww(e),$w("Database",!0)),Rz(c,o,r,u)}function Lz(t){hj(Oa),ya(new lr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return Nz(r,o,c,n)},"PUBLIC").setMultipleInstances(!0)),gs(HS,FS,t),gs(HS,FS,"esm2020")}const Pz={".sv":"timestamp"};function bt(){return Pz}Ei.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ei.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Lz();const jz={apiKey:"AIzaSyCwaBJr1l0je2tFqOaME94etWoXnDeRxw4",authDomain:"able-armor-463215-u0.firebaseapp.com",databaseURL:"https://able-armor-463215-u0-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"able-armor-463215-u0",storageBucket:"able-armor-463215-u0.firebasestorage.app",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef123456"};let zm,ia,ZC,Ve;try{zm=eT(jz),ia=uj(zm),ZC=new pi,Ve=Oz(zm)}catch(t){console.warn("Firebase initialization failed:",t)}const Ii=Ng((t,e)=>({user:null,userProfile:null,loading:!0,error:null,initialize:()=>Z6(ia,async r=>{if(r){t({user:r,loading:!0});const o=He(Ve,`/presence/${r.uid}`),c={online:!1,lastSeen:bt()},u={online:!0,lastSeen:bt()},h=He(Ve,".info/connected");uf(h,m=>{m.val()===!0&&(Fn(o,u),Pp(o).update(c))});try{const m=He(Ve,`users/${r.uid}`),p=await jp(m);if(p.exists())t({userProfile:p.val()}),Fn(m,{lastActive:bt()});else{const g={displayName:r.displayName||"User",email:r.email,photoURL:r.photoURL,createdAt:bt(),lastActive:bt(),totalFocusMinutes:0,totalSessions:0,currentStreak:0,longestStreak:0,seeds:5,forest:[],xp:0,level:1,achievements:[]};await Ea(m,g),t({userProfile:g})}}catch(m){console.error("Error fetching profile:",m)}}else t({user:null,userProfile:null});t({loading:!1})}),login:async(n,r)=>{t({loading:!0,error:null});try{await K6(ia,n,r)}catch(o){throw t({error:o.message,loading:!1}),o}},register:async(n,r,o)=>{t({loading:!0,error:null});try{const c=await Y6(ia,n,r);await $6(c.user,{displayName:o});const u=He(Ve,`users/${c.user.uid}`),h={displayName:o,email:n,photoURL:null,createdAt:bt(),lastActive:bt(),totalFocusMinutes:0,totalSessions:0,currentStreak:0,longestStreak:0,seeds:5,forest:[],xp:0,level:1,achievements:[]};await Ea(u,h),t({userProfile:h})}catch(c){throw t({error:c.message,loading:!1}),c}},loginWithGoogle:async()=>{t({loading:!0,error:null});try{await _P(ia,ZC)}catch(n){throw t({error:n.message,loading:!1}),n}},logout:async()=>{t({loading:!0,error:null});try{const n=e().user;if(n){const r=He(Ve,`/presence/${n.uid}`);await Fn(r,{online:!1,lastSeen:bt()})}await J6(ia),t({user:null,userProfile:null})}catch(n){t({error:n.message})}finally{t({loading:!1})}},updateUserProfile:async n=>{const{user:r}=e();if(r)try{const o=He(Ve,`users/${r.uid}`);await Fn(o,n),t(c=>({userProfile:{...c.userProfile,...n}}))}catch(o){throw console.error("Failed to update profile:",o),o}}})),JC=({active:t,onComplete:e})=>{const[n,r]=E.useState([]);return E.useEffect(()=>{if(t){const o=Array.from({length:40}).map((u,h)=>({id:h,x:Math.random()*100-50,y:Math.random()*100-50,color:["var(--neo-pink)","var(--neo-blue)","var(--neo-purple)","var(--neo-green)"][Math.floor(Math.random()*4)],size:Math.random()*15+5}));r(o);const c=setTimeout(()=>{e()},3e3);return()=>clearTimeout(c)}},[t,e]),b.jsx(Cg,{children:t&&b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9999] flex items-center justify-center",children:b.jsx(Ze.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:2},className:"w-0 h-0",children:n.map(o=>b.jsx(Ze.div,{initial:{x:0,y:0,opacity:1,scale:1},animate:{x:o.x*15,y:o.y*15,opacity:0,scale:0,rotate:Math.random()*360},transition:{duration:2.5,ease:"easeOut"},style:{position:"absolute",width:o.size,height:o.size,backgroundColor:o.color,borderRadius:"50%",boxShadow:`0 0 20px ${o.color}`}},o.id))})})})},Uz=()=>{const[t,e]=E.useState(!0),[n,r]=E.useState(""),[o,c]=E.useState(""),[u,h]=E.useState(""),{login:m,register:p,loginWithGoogle:g,user:y,loading:_}=Ii(),x=Mi(),[T,N]=E.useState(!1),[k,M]=E.useState(0);E.useEffect(()=>{y&&x("/")},[y,x]);const P=async F=>{F.preventDefault();try{t?await m(n,o):await p(n,o,u)}catch(Y){Te.error(Y.message)}},L=()=>{M(F=>F+1),k+1>=7&&(N(!0),M(0),Te.success("Welcome to Together Focus! ",{duration:4e3,style:{borderRadius:"12px",background:"white",color:"#000",fontWeight:"bold",border:"2px solid #000",boxShadow:"4px 4px 0px 0px #000"}}))};return b.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-neo-purple font-quicksand",children:[b.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-neo-yellow border-3 border-black rounded-full -rotate-12"}),b.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-neo-green border-3 border-black rounded-2xl rotate-12"}),b.jsx(JC,{active:T,onComplete:()=>N(!1)}),b.jsxs("div",{className:"relative z-10 w-full max-w-lg p-6",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{onClick:L,className:"inline-flex items-center justify-center p-6 bg-white border-3 border-black rounded-3xl mb-6 shadow-neo cursor-pointer active:scale-95 transition-transform",children:b.jsx(wl,{className:"w-10 h-10 text-black"})}),b.jsx("h1",{className:"text-5xl font-black text-black mb-2 font-outfit uppercase tracking-tighter",children:"TogetherFocus"}),b.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] bg-white border-2 border-black px-4 py-1 inline-block",children:"Deep Work Sanctuary"})]}),b.jsxs("div",{className:"neo-card p-8 md:p-12 bg-white",children:[b.jsxs("div",{className:"flex mb-8 gap-4",children:[b.jsx("button",{type:"button",onClick:()=>e(!0),className:Ot("flex-1 py-3 border-2 border-black font-black uppercase tracking-widest text-xs transition-all shadow-neo-sm",t?"bg-neo-blue translate-x-[2px] translate-y-[2px] shadow-none":"bg-white hover:bg-gray-50"),children:"Log In"}),b.jsx("button",{type:"button",onClick:()=>e(!1),className:Ot("flex-1 py-3 border-2 border-black font-black uppercase tracking-widest text-xs transition-all shadow-neo-sm",t?"bg-white hover:bg-gray-50":"bg-neo-pink translate-x-[2px] translate-y-[2px] shadow-none"),children:"Sign Up"})]}),b.jsxs("form",{onSubmit:P,className:"space-y-6",children:[!t&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-black ml-1",children:"Soul Name"}),b.jsxs("div",{className:"relative",children:[b.jsx(fD,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black"}),b.jsx("input",{type:"text",placeholder:"Druid Name?",className:"neo-input w-full pl-12",value:u,onChange:F=>h(F.target.value),required:!0})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-black ml-1",children:"Email Address"}),b.jsxs("div",{className:"relative",children:[b.jsx(LM,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black"}),b.jsx("input",{type:"email",placeholder:"your@email.com",className:"neo-input w-full pl-12",value:n,onChange:F=>r(F.target.value),required:!0})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-black ml-1",children:"Security Key"}),b.jsxs("div",{className:"relative",children:[b.jsx(DM,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-black"}),b.jsx("input",{type:"password",placeholder:"",className:"neo-input w-full pl-12",value:o,onChange:F=>c(F.target.value),required:!0})]})]}),b.jsxs("button",{type:"submit",disabled:_,className:Ot("w-full py-4 border-3 border-black font-black uppercase tracking-[0.2em] text-black transition-all active:scale-95 flex items-center justify-center gap-3 shadow-neo",t?"bg-neo-blue":"bg-neo-pink"),children:[_?"INITIALIZING...":t?"ENTER SANCTUARY":"START JOURNEY",b.jsx(Nu,{className:"w-5 h-5"})]})]}),b.jsxs("div",{className:"mt-10",children:[b.jsxs("div",{className:"relative mb-8 text-center",children:[b.jsx("div",{className:"absolute inset-x-0 top-1/2 h-[2px] bg-black"}),b.jsx("span",{className:"relative bg-white border-2 border-black px-4 text-[10px] font-black uppercase tracking-widest text-black",children:"OR"})]}),b.jsxs("button",{type:"button",onClick:()=>g(),className:"w-full py-3 bg-white border-2 border-black text-[10px] font-black uppercase tracking-widest text-black flex items-center justify-center gap-4 shadow-neo-sm hover:translate-y-1 hover:shadow-none transition-all",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Universal Portal"]})]})]})]})]})},zz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Vz=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=zz[n[t]&63];return e};const Bz=()=>{const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e.slice(0,3)+"-"+e.slice(3)},eA=Ng((t,e)=>({currentRoom:null,messages:[],roomError:null,loading:!1,subscribeToRoom:n=>{if(!n)return;t({loading:!0});const r=He(Ve,`rooms/${n}`),o=He(Ve,`chats/${n}`);uf(r,c=>{const u=c.val();t(u?{currentRoom:u,loading:!1}:{currentRoom:null,loading:!1,roomError:"Room not found"})}),uf(o,c=>{const u=c.val();if(u){const h=Object.entries(u).map(([m,p])=>({id:m,...p})).sort((m,p)=>m.timestamp-p.timestamp);t({messages:h})}else t({messages:[]})})},unsubscribeFromRoom:n=>{n&&(Up(He(Ve,`rooms/${n}`)),Up(He(Ve,`chats/${n}`)))},createRoom:async n=>{t({loading:!0,roomError:null});try{const r=Bz(),o=`room_${Vz(10)}`,c={roomId:o,roomCode:r,hostId:n.uid,members:{[n.uid]:{name:n.displayName||"Wizard",joinedAt:bt(),isHost:!0,online:!0}},status:"active",createdAt:bt(),settings:{defaultDuration:1500,allowPartnerControl:!0},currentSession:{isActive:!1,isPaused:!1,startTime:null,timeRemaining:1500,environment:"garden"}};return await Ea(He(Ve,`rooms/${o}`),c),Pp(He(Ve,`rooms/${o}/members/${n.uid}/online`)).set(!1),t({loading:!1}),o}catch(r){throw t({roomError:r.message,loading:!1}),r}},joinRoom:async(n,r)=>{t({loading:!0,roomError:null});const o=n.toUpperCase();try{const c=He(Ve,"rooms"),u=Tz(c,xz("roomCode"),wz(o)),h=await jp(u);if(!h.exists())throw new Error("Room not found");let m=null,p=null;h.forEach(y=>{m=y.key,p=y.val()});const g=p.members||{};if(Object.keys(g).length>=4&&!g[r.uid])throw new Error("This Common Room is at capacity (max 4).");return await Fn(He(Ve,`rooms/${m}/members/${r.uid}`),{name:r.displayName||"Apprentice",joinedAt:bt(),isHost:!1,online:!0}),Pp(He(Ve,`rooms/${m}/members/${r.uid}/online`)).set(!1),t({loading:!1}),m}catch(c){throw t({roomError:c.message,loading:!1}),c}},sendMessage:async(n,r,o)=>{if(o.trim())try{const c=He(Ve,`chats/${n}`);await QC(c,{senderId:r.uid,senderName:r.displayName||"Wizard",text:o.trim(),timestamp:bt()})}catch(c){console.error("Failed to send message:",c)}},leaveRoom:async(n,r)=>{try{const o=He(Ve,`rooms/${n}/members/${r}`);await Ea(o,null);const c=He(Ve,`rooms/${n}`),u=await jp(c);if(u.exists()){const h=u.val();!h.members||Object.keys(h.members).length===0?await Fn(He(Ve,`rooms/${n}/currentSession`),{isActive:!1,isPaused:!1,timeRemaining:0,lastResetReason:"All wizards have left the portal.",lastResetTime:bt()}):await Fn(He(Ve,`rooms/${n}/currentSession`),{isActive:!1,isPaused:!1,timeRemaining:0,lastResetReason:"A wizard has left the portal.",lastResetTime:bt()})}}catch(o){console.error("Leave room error:",o)}},updateSessionState:async(n,r)=>{try{await Fn(He(Ve,`rooms/${n}/currentSession`),{...r,lastSyncTime:bt()})}catch(o){console.error("Update session error:",o)}},sendPing:async(n,r,o)=>{try{await Fn(He(Ve,`rooms/${n}/currentSession`),{lastPing:{from:r,fromName:o,timestamp:bt()}})}catch(c){console.error("Ping error:",c)}}})),Hz=()=>{const{userProfile:t,updateUserProfile:e}=Ii(),[n,r]=E.useState(null),o=async()=>{if((t?.seeds||0)<1){Te.error("Not enough seeds! Complete sessions to earn more.");return}try{const c={id:Date.now(),plantedAt:Date.now(),stage:"sapling",type:["oak","pine","willow"][Math.floor(Math.random()*3)],position:Math.random()*90},u=[...t?.forest||[],c];await e({seeds:(t.seeds||0)-1,forest:u}),Te.success("A new life begins! ")}catch{Te.error("Failed to plant tree.")}};return b.jsxs("div",{className:"neo-card p-8 h-[500px] relative overflow-hidden bg-gradient-to-b from-neo-blue to-pastel-green",children:[b.jsx(Ze.div,{animate:{x:[0,100,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-white/40",children:b.jsx(yM,{size:48})}),b.jsx("div",{className:"absolute top-6 right-6",children:b.jsx("div",{className:"bg-neo-yellow w-16 h-16 rounded-full border-3 border-black shadow-neo animate-spin-slow flex items-center justify-center",children:b.jsx(aD,{size:32,className:"text-black"})})}),b.jsx("div",{className:"absolute top-6 left-6 z-10 flex gap-4",children:b.jsxs("div",{className:"neo-card px-4 py-2 bg-white flex items-center gap-2",children:[b.jsx(Gm,{className:"text-neo-green font-bold"}),b.jsxs("span",{className:"font-bold text-lg",children:[t?.seeds||0," Seeds"]})]})}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-[#4ade80] border-t-3 border-black transform skew-y-1 origin-bottom-left"}),b.jsx("div",{className:"absolute bottom-10 left-4 right-4 h-64 flex items-end justify-around px-8 pointer-events-none",children:b.jsx(Cg,{children:(t?.forest||[]).map((c,u)=>b.jsx(Ze.div,{initial:{scale:0,y:100},animate:{scale:1,y:0},exit:{scale:0},transition:{type:"spring",bounce:.5,delay:u*.1},className:"relative group cursor-pointer pointer-events-auto",style:{left:`${u%5*10}px`,zIndex:u},onClick:()=>r(c),children:b.jsx(iE,{size:c.stage==="sapling"?48:96,className:`text-black drop-shadow-lg transition-transform hover:scale-110 ${c.type==="oak"?"fill-neo-green":c.type==="pine"?"fill-[#15803d]":"fill-[#fca5a5]"}`,strokeWidth:2.5})},c.id))})}),b.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-20",children:b.jsxs("button",{onClick:o,className:"neo-btn bg-neo-pink text-black hover:bg-pastel-pink text-xl px-8 py-3",children:[b.jsx(Gm,{className:"mr-2"})," Plant Seed (-1)"]})})]})},Fz=()=>{const[t,e]=E.useState("https://open.spotify.com/embed/playlist/37i9dQZF1DX8Uebhn9wzrS"),[n,r]=E.useState(""),[o,c]=E.useState(!1),u=h=>{h.preventDefault();let m=n;if(n.includes("open.spotify.com")){const g=new URL(n).pathname.split("/"),y=g[1],_=g[2];m=`https://open.spotify.com/embed/${y}/${_}`}e(m),c(!1)};return b.jsxs("div",{className:"neo-card p-4 bg-white w-full h-full flex flex-col relative overflow-hidden",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-neo-purple border-2 border-black rounded-lg shadow-neo-sm",children:b.jsx(zM,{className:"w-5 h-5 text-black"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-black text-lg text-black uppercase leading-none",children:"Sonic"}),b.jsx("span",{className:"text-xs font-bold bg-neo-yellow px-1 border border-black",children:"VIBES"})]})]}),b.jsxs("button",{onClick:()=>c(!o),className:"neo-btn px-2 py-1 text-[10px] bg-white hover:bg-gray-100",children:[b.jsx(YM,{size:14})," Tune Frame"]})]}),o&&b.jsxs("form",{onSubmit:u,className:"mb-4 flex gap-2 animate-in slide-in-from-top-2",children:[b.jsx("input",{type:"text",placeholder:"Spotify Link...",className:"neo-input flex-1 p-2 text-xs",value:n,onChange:h=>r(h.target.value)}),b.jsx("button",{type:"submit",className:"neo-btn text-xs py-2 px-3 bg-neo-green",children:"Load"})]}),b.jsxs("div",{className:"flex-1 rounded-xl overflow-hidden border-2 border-black bg-black relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/20",children:b.jsx(xM,{size:48,className:"animate-spin-slow"})}),b.jsx("iframe",{className:"relative z-10",style:{borderRadius:"12px"},src:`${t}?utm_source=generator&theme=0`,width:"100%",height:"100%",frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})]})]})},qz=()=>{const{user:t,userProfile:e,logout:n}=Ii(),{createRoom:r,joinRoom:o,loading:c}=eA(),u=Mi(),[h,m]=E.useState("");E.useEffect(()=>{e&&!e.onboardingCompleted&&u("/onboarding")},[e,u]);const p=async()=>{try{const _=await r(t);_&&(u(`/room/${_}`),Te.success("Focus Session Initiated!"))}catch(_){console.error(_),Te.error("Failed to start session.")}},g=async _=>{if(_.preventDefault(),!!h.trim())try{await o(h.toUpperCase(),t)&&(u(`/room/${h.toUpperCase()}`),Te.success("Joined the room!"))}catch(x){console.error(x),Te.error("Room not found.")}},y=()=>{window.open("https://meet.google.com/new","_blank")};return b.jsx("div",{className:"min-h-screen bg-transparent font-quicksand p-4 md:p-8 relative overflow-x-hidden",children:b.jsxs("div",{className:"max-w-[1600px] mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[b.jsxs("aside",{className:"md:col-span-2 flex flex-col gap-4",children:[b.jsxs("div",{className:"neo-card bg-neo-pink p-6 flex flex-col items-center text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-white border-3 border-black rounded-full mb-4 overflow-hidden relative",children:b.jsx("img",{src:t?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t?.uid}`,alt:"Avatar",className:"w-full h-full object-cover"})}),b.jsx("h2",{className:"font-extrabold text-xl leading-tight font-outfit",children:t?.displayName?.split(" ")[0]}),b.jsxs("button",{onClick:()=>u("/profile"),className:"mt-2 text-xs font-bold bg-white px-3 py-1 rounded-full border-2 border-black inline-flex items-center gap-1 hover:bg-gray-100",children:[b.jsx(Qx,{size:12,className:"text-orange-500 fill-orange-500"}),"Lvl ",e?.level||1]})]}),b.jsxs("nav",{className:"flex flex-col gap-3",children:[b.jsx(hu,{icon:b.jsx(Zx,{}),label:"Dashboard",active:!0}),b.jsx(hu,{icon:b.jsx($x,{}),label:"Library",onClick:()=>u("/library")}),b.jsx(hu,{icon:b.jsx(Kb,{}),label:"Community"}),b.jsx(hu,{icon:b.jsx(nE,{}),label:"Config",onClick:()=>u("/settings")})]}),b.jsxs("button",{onClick:n,className:"mt-auto neo-btn bg-red-200 hover:bg-red-300 w-full justify-start",children:[b.jsx(Jx,{size:20})," Logout"]})]}),b.jsxs("main",{className:"md:col-span-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"md:col-span-3 neo-card bg-neo-yellow p-8 flex justify-between items-center relative overflow-hidden",children:[b.jsxs("div",{className:"relative z-10",children:[b.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold font-outfit uppercase tracking-tight",children:["Ready to ",b.jsx("span",{className:"text-neo-purple underline decoration-4 underline-offset-4",children:"Grow?"})]}),b.jsx("p",{className:"font-bold text-lg mt-2 opacity-80 font-quicksand",children:"Your forest is waiting for new life."})]}),b.jsx("div",{className:"hidden md:block",children:b.jsxs("div",{className:"bg-white border-3 border-black px-6 py-2 rounded-xl font-black text-xl shadow-neo-sm transform rotate-[-2deg]",children:[e?.currentStreak||0," Day Streak "]})}),b.jsx("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-neo-pink rounded-full border-3 border-black opacity-50"})]}),b.jsx("div",{className:"md:col-span-2 h-[500px]",children:b.jsx(Hz,{})}),b.jsxs("div",{className:"md:col-span-1 flex flex-col gap-6 ",children:[b.jsxs("div",{className:"neo-card p-6 bg-neo-blue flex flex-col gap-4",children:[b.jsxs("h3",{className:"font-black text-xl uppercase flex items-center gap-2 font-outfit",children:[b.jsx(il,{className:"fill-yellow-400 text-black"})," Focus Mode"]}),b.jsxs("button",{onClick:p,disabled:c,className:"neo-btn bg-white w-full py-4 text-lg hover:bg-neo-green font-outfit",children:[b.jsx(eE,{size:24})," New Session"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{value:h,onChange:_=>m(_.target.value),placeholder:"CODE",className:"neo-input w-full uppercase text-center tracking-widest font-black"}),b.jsx("button",{onClick:g,className:"neo-btn bg-neo-purple px-4",children:b.jsx(Nu,{})})]})]}),b.jsxs("div",{className:"grid grid-rows-2 font-bold gap-6 flex-1",children:[b.jsxs("div",{onClick:y,className:"neo-card bg-white p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 group",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-red-100 p-3 rounded-xl border-2 border-black group-hover:bg-red-200 transition-colors",children:b.jsx(mD,{size:24,className:"text-red-500"})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm uppercase tracking-wider font-extrabold",children:"Co-Work"}),b.jsx("div",{className:"text-lg",children:"Google Meet"})]})]}),b.jsx(Nu,{className:"group-hover:translate-x-1 transition-transform"})]}),b.jsx("div",{className:"h-full min-h-[12rem]",children:b.jsx(Fz,{})})]})]}),b.jsxs("div",{className:"md:col-span-3 grid grid-cols-2 md:grid-cols-4 gap-6",children:[b.jsx(du,{label:"Total Focus",value:`${Math.floor((e?.totalFocusMinutes||0)/60)}h ${Math.floor((e?.totalFocusMinutes||0)%60)}m`,color:"bg-neo-green",icon:b.jsx(ku,{})}),b.jsx(du,{label:"Sessions",value:e?.totalSessions||0,color:"bg-neo-pink",icon:b.jsx(dM,{})}),b.jsx(du,{label:"Trees Planted",value:e?.forest?.length||0,color:"bg-neo-purple",icon:b.jsx(Kb,{})}),b.jsx(du,{label:"XP Gained",value:e?.xp||0,color:"bg-neo-blue",icon:b.jsx(il,{})})]})]})]})})},hu=({icon:t,label:e,active:n,onClick:r})=>b.jsxs("button",{onClick:r,className:`neo-btn w-full justify-start ${n?"bg-neo-yellow translate-x-[2px] translate-y-[2px] shadow-[2px_2px_0px_0px_#1a1a1a]":"hover:bg-gray-50"}`,children:[gi.cloneElement(t,{size:20})," ",e]}),du=({label:t,value:e,color:n,icon:r})=>b.jsxs("div",{className:`neo-card p-6 flex items-center gap-4 ${n}`,children:[b.jsx("div",{className:"bg-white p-3 rounded-xl border-2 border-black shadow-neo-sm",children:gi.cloneElement(r,{size:24})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-bold opacity-70 uppercase tracking-wider",children:t}),b.jsx("div",{className:"text-2xl font-black font-outfit",children:e})]})]}),Gz=Ng((t,e)=>({tasks:[],loading:!1,subscribeToPlanner:n=>{const r=He(Ve,`planner/${n}`);return t({loading:!0}),uf(r,o=>{const c=o.val();if(c){const u=Object.entries(c).map(([h,m])=>({id:h,...m})).sort((h,m)=>(m.timestamp||0)-(h.timestamp||0));t({tasks:u,loading:!1})}else t({tasks:[],loading:!1})}),()=>Up(r)},addTask:async(n,r,o,c)=>{if(!c.trim())return;const u=He(Ve,`planner/${n}`);await QC(u,{title:c,completed:!1,createdBy:r,createdByName:o,timestamp:bt()})},toggleTask:async(n,r,o)=>{await Fn(He(Ve,`planner/${n}/${r}`),{completed:o,completedAt:o?bt():null})},deleteTask:async(n,r)=>{await yz(He(Ve,`planner/${n}/${r}`))}})),Yz=({type:t,sessionState:e})=>{const n=E.useRef(null);E.useEffect(()=>{const u=n.current;if(!u)return;const h=u.getContext("2d"),m=u.width,p=u.height;let g;const y=()=>{h.clearRect(0,0,m,p);const _=Date.now()/1e3;t==="garden"?r(h,m,p,_):t==="cottage"?o(h,m,p,_):c(h,m,p,_),g=requestAnimationFrame(y)};return y(),()=>cancelAnimationFrame(g)},[t]);const r=(u,h,m,p)=>{u.fillStyle="#e6fff0",u.fillRect(0,0,h,m),u.fillStyle="#fffda8",u.beginPath(),u.arc(h-100,100,60,0,Math.PI*2),u.fill(),u.lineWidth=4,u.strokeStyle="#000",u.stroke();for(let g=0;g<5;g++){const y=h/5*g+100,_=m-100,x=150+Math.sin(p+g)*10;u.fillStyle="#a89f91",u.fillRect(y-15,_-x,30,x),u.strokeRect(y-15,_-x,30,x),u.fillStyle=g%2===0?"#a8ffb5":"#ffa8e0",u.beginPath(),u.arc(y,_-x,50,0,Math.PI*2),u.fill(),u.stroke()}},o=(u,h,m,p)=>{u.fillStyle="#fffda8",u.fillRect(0,0,h,m);for(let g=0;g<8;g++){const y=(g*150+p*20)%h,_=100+Math.sin(p+g)*50;u.fillStyle="#ffa8e0",u.beginPath(),u.rect(y,_,40,40),u.fill(),u.stroke(),u.fillStyle="rgba(0,0,0,0.1)",u.fillRect(y+5,_+5,40,40)}},c=(u,h,m,p)=>{u.fillStyle="#e6f2ff",u.fillRect(0,0,h,m);for(let g=0;g<6;g++){const y=(p*50+g*250)%(h+200)-100,_=100+Math.sin(p*.5+g)*30;u.fillStyle="#ffffff",u.beginPath(),u.arc(y,_,40,0,Math.PI*2),u.arc(y+30,_-10,50,0,Math.PI*2),u.arc(y+60,_,40,0,Math.PI*2),u.fill(),u.stroke()}for(let g=0;g<20;g++){const y=g*90%h,_=g*130%m;Math.sin(p*5+g)>0&&(u.fillStyle="#dca8ff",u.beginPath(),u.moveTo(y,_-10),u.lineTo(y+3,_-3),u.lineTo(y+10,_),u.lineTo(y+3,_+3),u.lineTo(y,_+10),u.lineTo(y-3,_+3),u.lineTo(y-10,_),u.lineTo(y-3,_-3),u.fill(),u.stroke())}};return b.jsxs("div",{className:"relative w-full h-full bg-white",children:[b.jsx("canvas",{ref:n,width:1200,height:600,className:"w-full h-full object-cover"}),b.jsxs("div",{className:"absolute bottom-6 left-6 neo-card px-4 py-2 bg-white flex items-center gap-3",children:[b.jsx("div",{className:"w-3 h-3 bg-black rounded-full animate-pulse"}),b.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-black",children:t==="garden"?"Pastel Park":t==="cottage"?"Cozy Corner":"Dreamy Sky"})]})]})},Kz=()=>{const{roomId:t}=y2(),e=Mi(),{user:n}=Ii(),{currentRoom:r,messages:o,subscribeToRoom:c,unsubscribeFromRoom:u,updateSessionState:h,leaveRoom:m,sendPing:p,sendMessage:g}=eA(),{subscribeToPlanner:y,tasks:_,addTask:x,toggleTask:T,deleteTask:N}=Gz(),k=r?.hostId===n?.uid,M=r?.currentSession,P=r?.members||{},L=Object.keys(P).length,[F,Y]=E.useState(1500),[ie,$]=E.useState(!0),[W,se]=E.useState(""),[be,Ke]=E.useState(""),[We,Wt]=E.useState(25),[zt,Et]=E.useState(!1),[z,q]=E.useState(0),Q=E.useRef(null);E.useEffect(()=>{if(n)return c(t),y(t),()=>u(t)},[t,n]),E.useEffect(()=>{Q.current?.scrollIntoView({behavior:"smooth"})},[o]),E.useEffect(()=>{if(!M)return;let ee;return M.isActive&&!M.isPaused&&M.startTime?ee=setInterval(()=>{const xe=Date.now(),$t=Math.floor((xe-M.startTime)/1e3),jn=Math.max(0,M.timeRemaining-$t);Y(jn),jn<=0&&(clearInterval(ee),K())},1e3):Y(M.timeRemaining),()=>clearInterval(ee)},[M?.isActive,M?.isPaused,M?.startTime,M?.timeRemaining]);const ge=()=>{if(!k&&!r.settings?.allowPartnerControl){Te.error("Only the host can control the session.");return}h(t,{isActive:!0,isPaused:!1,startTime:Date.now(),timeRemaining:F})},Se=()=>{!k&&!r.settings?.allowPartnerControl||h(t,{isActive:!0,isPaused:!0,startTime:null,timeRemaining:F})},A=()=>{if(!k&&!r.settings?.allowPartnerControl)return;const ee=r.settings?.defaultDuration||1500;h(t,{isActive:!1,isPaused:!1,timeRemaining:ee,startTime:null}),Y(ee)},H=ee=>{if(!k&&!r.settings?.allowPartnerControl)return;const xe=parseInt(ee)*60;h(t,{timeRemaining:xe,isActive:!1,isPaused:!1,startTime:null}),Y(xe),Te.success(`Session set to ${Math.floor(ee/60)}h ${ee%60}m`)},K=()=>{k&&Te.success("Session Complete! Great work! ")},Z=ee=>{ee.preventDefault(),W.trim()&&(g(t,n,W),se(""))},le=()=>{q(ee=>ee+1),z+1>=7&&(Et(!0),q(0),Te.success("Zen Burst! ",{duration:4e3,style:{borderRadius:"20px",background:"white",color:"#333",fontWeight:"bold",boxShadow:"5px 5px 0px 0px #000"}}))},de=ee=>{const xe=Math.floor(ee/3600),$t=Math.floor(ee%3600/60),jn=Math.floor(ee%60);return xe>0?`${xe.toString().padStart(2,"0")}:${$t.toString().padStart(2,"0")}:${jn.toString().padStart(2,"0")}`:`${$t.toString().padStart(2,"0")}:${jn.toString().padStart(2,"0")}`},Ae=ee=>{const xe=Math.floor(ee/60),$t=ee%60;return xe>0?`${xe}h ${$t}m`:`${$t}m`};return r?b.jsxs("div",{className:"min-h-screen bg-white text-main font-quicksand relative",children:[b.jsx(JC,{active:zt,onComplete:()=>Et(!1)}),b.jsxs("header",{className:"fixed top-4 left-4 right-4 z-50 neo-card bg-white p-4 flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>e("/"),className:"neo-btn bg-neo-pink p-3",children:b.jsx(Zx,{className:"w-5 h-5 text-black"})}),b.jsx("div",{className:"h-8 w-[2px] bg-black mx-2 hidden md:block"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"flex -space-x-3",children:Object.values(P).map((ee,xe)=>b.jsxs(Ze.div,{initial:{scale:0},animate:{scale:1},className:Ot("w-10 h-10 rounded-full border-2 border-black flex items-center justify-center font-black text-xs relative",ee.online?"bg-neo-green text-black":"bg-gray-300 text-gray-500"),children:[ee.name.charAt(0),b.jsx("div",{className:Ot("absolute bottom-0 right-0 w-3 h-3 rounded-full border border-black",ee.online?"bg-green-500":"bg-red-500")})]},xe))}),b.jsxs("span",{className:"text-xs uppercase font-black tracking-widest hidden md:block",children:[L," active souls"]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(r.roomCode),Te.success("Copied!")},className:"hidden sm:flex bg-neo-blue px-4 py-2 rounded-xl text-xs font-black border-2 border-black shadow-neo-sm items-center gap-2 hover:translate-y-1 hover:shadow-none transition-all",children:[r.roomCode,b.jsx(bM,{className:"w-3 h-3"})]}),b.jsx("button",{onClick:()=>m(t,n.uid).then(()=>e("/")),className:"neo-btn bg-red-400 p-3 hover:bg-red-500",children:b.jsx(Jx,{className:"w-5 h-5 text-black"})})]})]}),b.jsx("main",{className:"pt-28 px-4 md:px-12 pb-32",children:b.jsxs("div",{className:"max-w-[1600px] mx-auto grid lg:grid-cols-12 gap-8 md:gap-12",children:[b.jsxs("div",{className:"lg:col-span-8 space-y-8 md:space-y-12",children:[b.jsxs(Ze.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative rounded-[3rem] overflow-hidden group neo-card bg-white h-[400px] md:h-[550px]",children:[b.jsx("div",{className:"absolute inset-0",children:b.jsx(Yz,{type:M?.environment||"garden",sessionState:M})}),b.jsx("div",{className:"absolute inset-0 pointer-events-none border-4 border-black rounded-[3rem] z-20"}),b.jsx("div",{className:"absolute inset-x-0 bottom-0 p-12 flex justify-center items-end h-full z-30",children:b.jsxs("div",{onClick:le,className:"text-center cursor-pointer select-none",children:[b.jsx(Ze.div,{animate:M?.isActive&&!M?.isPaused?{scale:[1,1.02,1]}:{},transition:{repeat:1/0,duration:4},className:Ot("font-black tracking-tighter leading-none select-none drop-shadow-xl text-white text-outline-black",M?.isActive&&!M?.isPaused?"text-[6rem] sm:text-[10rem] md:text-[13rem]":"text-[5rem] sm:text-[8rem] md:text-[11rem] opacity-50"),style:{textShadow:"4px 4px 0px #000"},children:de(F)}),M?.isActive&&!M?.isPaused&&b.jsx("div",{className:"mt-4 flex justify-center gap-2",children:b.jsx("div",{className:"px-6 py-2 rounded-full bg-neo-green text-black border-2 border-black text-xs font-black uppercase tracking-widest shadow-neo-sm animate-pulse",children:"Deep Flow Active"})})]})})]}),b.jsxs("div",{className:"flex justify-center gap-6 md:gap-10 items-center",children:[b.jsx(Ze.button,{whileHover:{rotate:-10,scale:1.1},whileTap:{scale:.9},onClick:A,className:"neo-btn bg-white p-5",children:b.jsx(WM,{className:"w-8 h-8"})}),!M?.isActive||M.isPaused?b.jsx(Ze.button,{whileHover:{scale:1.05},onClick:ge,className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-neo-green border-3 border-black shadow-neo flex items-center justify-center transition-all hover:bg-green-400",children:b.jsx(FM,{className:"w-12 h-12 ml-2 text-black",fill:"currentColor"})}):b.jsx(Ze.button,{whileHover:{scale:1.05},onClick:Se,className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-neo-yellow border-3 border-black shadow-neo flex items-center justify-center transition-all hover:bg-yellow-200",children:b.jsx(BM,{className:"w-12 h-12 text-black",fill:"currentColor"})}),b.jsx(Ze.button,{whileHover:{rotate:10,scale:1.1},onClick:()=>p(t,n.uid,n.displayName),className:"neo-btn bg-neo-purple p-5",children:b.jsx(wl,{className:"w-8 h-8 text-black"})})]})]}),b.jsxs("div",{className:"lg:col-span-4 space-y-8 flex flex-col pt-4",children:[b.jsxs("div",{className:"neo-card p-6 bg-white space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest flex items-center gap-2",children:[b.jsx(ku,{className:"w-5 h-5"}),"Duration"]}),b.jsx("span",{className:"text-sm font-black bg-neo-blue px-3 py-1 rounded-lg border-2 border-black",children:Ae(We)})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"range",min:"1",max:"720",value:We,onChange:ee=>Wt(parseInt(ee.target.value)),className:"w-full h-4 bg-gray-200 rounded-full appearance-none border-2 border-black accent-black cursor-pointer"}),b.jsx("button",{onClick:()=>H(We),className:"w-full py-3 bg-black text-white font-black text-xs uppercase tracking-widest rounded-xl hover:bg-gray-800 transition-all border-2 border-transparent hover:border-black",children:"Set Interval"})]})]}),b.jsxs("div",{className:"neo-card bg-white h-[450px] flex flex-col overflow-hidden p-0",children:[b.jsxs("div",{className:"p-4 border-b-3 border-black bg-neo-yellow flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xx,{className:"w-5 h-5 text-black"}),b.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Chat Stream"})]}),b.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 border border-black animate-pulse"})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[o.map((ee,xe)=>b.jsx(Ze.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:Ot("flex flex-col",ee.senderId===n.uid?"items-end":"items-start"),children:b.jsxs("div",{className:Ot("max-w-[85%] p-3 rounded-xl text-sm border-2 border-black font-bold shadow-sm",ee.senderId===n.uid?"bg-neo-blue rounded-tr-none":"bg-white rounded-tl-none"),children:[b.jsx("p",{className:"text-[9px] uppercase tracking-wider opacity-60 mb-1",children:ee.senderName}),b.jsx("p",{children:ee.text})]})},xe)),b.jsx("div",{ref:Q})]}),b.jsxs("form",{onSubmit:Z,className:"p-4 bg-white border-t-3 border-black flex gap-2",children:[b.jsx("input",{value:W,onChange:ee=>se(ee.target.value),placeholder:"Type a message...",className:"neo-input flex-1 text-sm py-2"}),b.jsx("button",{type:"submit",className:"neo-btn bg-black text-white p-2",children:b.jsx(tE,{className:"w-4 h-4"})})]})]}),b.jsxs("div",{className:"neo-card p-6 bg-neo-pink space-y-4",children:[b.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest flex items-center gap-2",children:[b.jsx(qm,{className:"w-5 h-5"}),"Focus Tasks"]}),b.jsxs("form",{className:"flex gap-2",onSubmit:ee=>{ee.preventDefault(),be.trim()&&x(t,n.uid,n.displayName,be),Ke("")},children:[b.jsx("input",{value:be,onChange:ee=>Ke(ee.target.value),className:"neo-input flex-1 py-2 text-xs",placeholder:"Add a task..."}),b.jsx("button",{className:"neo-btn bg-white p-2",children:b.jsx(eE,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"max-h-[200px] overflow-y-auto space-y-2 pr-2",children:_.map(ee=>b.jsxs(Ze.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3 p-3 rounded-xl bg-white border-2 border-black shadow-sm",children:[b.jsx("button",{onClick:()=>T(t,ee.id,!ee.completed),className:Ot("w-6 h-6 rounded border-2 border-black flex items-center justify-center transition-all",ee.completed?"bg-neo-green":"bg-white"),children:ee.completed&&b.jsx(qm,{className:"w-4 h-4"})}),b.jsx("span",{className:Ot("text-xs font-bold",ee.completed?"line-through opacity-50":"text-black"),children:ee.title}),b.jsx("button",{onClick:()=>N(t,ee.id),className:"ml-auto text-red-400 hover:text-red-600",children:b.jsx(lD,{className:"w-4 h-4"})})]},ee.id))})]})]})]})})]}):b.jsx("div",{className:"min-h-screen flex items-center justify-center font-black text-2xl animate-bounce",children:"Loading Space..."})},Wz=()=>{const{user:t,userProfile:e}=Ii(),n=Mi();return b.jsx("div",{className:"min-h-screen bg-neo-purple p-4 md:p-8 font-quicksand",children:b.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("button",{onClick:()=>n("/"),className:"neo-btn bg-white px-3",children:[b.jsx($p,{})," Back"]}),b.jsx("h1",{className:"text-3xl font-black font-outfit uppercase bg-white px-4 py-1 border-3 border-black text-black transform -skew-x-12",children:"Soul Profile"})]}),b.jsx("div",{className:"neo-card bg-white p-8 md:p-12 relative overflow-hidden",children:b.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 z-10 relative",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"w-40 h-40 bg-neo-green rounded-full border-4 border-black overflow-hidden relative z-10",children:b.jsx("img",{src:t?.photoURL,alt:"User",className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"absolute top-0 right-0 bg-neo-yellow px-3 py-1 border-2 border-black rounded-full font-black text-xs z-20",children:["Lvl ",e?.level||1]}),b.jsx("div",{className:"absolute inset-0 bg-neo-pink rounded-full border-4 border-black translate-x-2 translate-y-2 -z-0"})]}),b.jsxs("div",{className:"text-center md:text-left space-y-2",children:[b.jsx("h2",{className:"text-4xl font-black font-outfit uppercase tracking-tight",children:t?.displayName}),b.jsx("p",{className:"font-bold text-muted bg-gray-100 px-4 py-1 rounded-lg inline-block border-2 border-dashed border-gray-300",children:"Forest Guardian"}),b.jsx("div",{className:"max-w-md text-sm font-medium pt-2",children:'"The best time to plant a tree was 20 years ago. The second best time is now."'})]})]})}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[b.jsx(mu,{label:"Seeds",value:e?.seeds||0,icon:b.jsx(Gb,{}),color:"bg-neo-green"}),b.jsx(mu,{label:"Forest",value:(e?.forest?.length||0)+" Trees",icon:b.jsx(iE,{}),color:"bg-neo-blue"}),b.jsx(mu,{label:"Streak",value:(e?.currentStreak||0)+" Days",icon:b.jsx(Qx,{}),color:"bg-neo-pink"}),b.jsx(mu,{label:"XP",value:e?.xp||0,icon:b.jsx(il,{}),color:"bg-neo-yellow"})]}),b.jsxs("div",{className:"neo-card bg-neo-blue/20 p-8 space-y-6",children:[b.jsxs("h3",{className:"font-black text-2xl font-outfit flex items-center gap-3",children:[b.jsx(Gb,{className:"w-8 h-8"})," Achievements"]}),b.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{title:"First Seed",desc:"Planted your first tree"},{title:"Early Bird",desc:"Completed a session before 8AM"},{title:"Zen Master",desc:"reached 1000 minutes of focus"}].map((r,o)=>b.jsxs("div",{className:"neo-card p-4 bg-white flex items-center gap-4 hover:scale-[1.02]",children:[b.jsx("div",{className:"w-12 h-12 bg-neo-purple rounded-full border-3 border-black flex items-center justify-center shrink-0",children:b.jsx($x,{className:"w-6 h-6 text-black"})}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-lg leading-none mb-1",children:r.title}),b.jsx("p",{className:"text-xs font-semibold text-muted",children:r.desc})]})]},o))})]})]})})},mu=({label:t,value:e,icon:n,color:r})=>b.jsxs("div",{className:`neo-card ${r} p-4 flex flex-col items-center justify-center text-center space-y-2`,children:[b.jsx("div",{className:"bg-white p-3 rounded-full border-3 border-black",children:gi.cloneElement(n,{size:24})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-black font-outfit",children:e}),b.jsx("div",{className:"text-xs font-bold uppercase tracking-wider opacity-70",children:t})]})]}),$z=()=>{const t=Mi(),e=[{title:"The Art of Deep Focus",category:"Deep Work",duration:"15m",difficulty:"Beginner",icon:b.jsx(il,{className:"text-black"}),desc:"A comprehensive guide on eliminating distractions and entering the flow state with ease.",color:"bg-neo-pink"},{title:"Sanctuary Design",category:"Environment",duration:"5m",difficulty:"Intermediate",icon:b.jsx(Xx,{className:"text-black"}),desc:"How to curate your physical and digital workspace to minimize cognitive load and maximize peace.",color:"bg-neo-blue"},{title:"Collaborative Pulse",category:"Teamwork",duration:"20m",difficulty:"Advanced",icon:b.jsx(wl,{className:"text-black"}),desc:"Strategies for synchronized focus sessions that amplify individual productivity through collective energy.",color:"bg-neo-green"},{title:"Mastering Time Flows",category:"Efficiency",duration:"45m",difficulty:"Expert",icon:b.jsx(ku,{className:"text-black"}),desc:"Advanced techniques for managing long-term projects while maintaining peak mental performance.",color:"bg-neo-purple"}];return b.jsxs("div",{className:"min-h-screen p-6 md:p-12 relative bg-white font-quicksand overflow-hidden",children:[b.jsxs("header",{className:"max-w-6xl mx-auto flex flex-col lg:flex-row justify-between items-start lg:items-center gap-12 mb-20 relative z-10",children:[b.jsxs(Ze.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},children:[b.jsxs("button",{onClick:()=>t(-1),className:"neo-btn bg-white mb-8 text-xs font-bold",children:[b.jsx($p,{className:"w-4 h-4"})," Back to Home"]}),b.jsxs("h1",{className:"text-5xl md:text-7xl font-black font-outfit text-main flex items-center gap-6 leading-none tracking-tight",children:[b.jsx("div",{className:"bg-neo-yellow border-3 border-black p-4 rounded-2xl shadow-neo",children:b.jsx(kM,{className:"w-10 h-10 text-black"})}),"Zen Library"]}),b.jsx("p",{className:"text-muted mt-6 text-sm font-bold uppercase tracking-widest bg-gray-100 px-4 py-2 rounded-lg border-2 border-dashed border-gray-300 inline-block",children:"Knowledge for a Focused Mind"})]}),b.jsxs(Ze.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"w-full lg:w-[500px] relative",children:[b.jsx(XM,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-6 h-6 text-black"}),b.jsx("input",{type:"text",placeholder:"Search resources...",className:"neo-input w-full pl-14 text-lg font-bold"})]})]}),b.jsxs("main",{className:"max-w-6xl mx-auto space-y-24 relative z-10",children:[b.jsx("section",{className:"grid md:grid-cols-2 gap-10",children:e.map((n,r)=>b.jsxs(Ze.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:r*.1},viewport:{once:!0},className:"neo-card p-12 bg-white flex flex-col h-full group hover:bg-gray-50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-10",children:[b.jsx("div",{className:Ot("w-20 h-20 rounded-2xl flex items-center justify-center border-3 border-black shadow-neo-sm group-hover:scale-110 transition-transform duration-300",n.color),children:gi.cloneElement(n.icon,{className:"w-10 h-10"})}),b.jsx("div",{className:"text-right",children:b.jsx("span",{className:"text-xs bg-black text-white px-4 py-2 rounded-lg font-black uppercase tracking-widest border-2 border-transparent",children:n.category})})]}),b.jsx("h3",{className:"text-3xl font-black font-outfit text-main mb-6",children:n.title}),b.jsx("p",{className:"text-muted text-base leading-relaxed mb-10 flex-1 font-bold",children:n.desc}),b.jsxs("div",{className:"flex justify-between items-center pt-8 border-t-3 border-black border-dashed font-black uppercase tracking-wider text-xs",children:[b.jsxs("span",{className:"flex items-center gap-2 bg-neo-pink/30 px-3 py-1 rounded-md border-2 border-black",children:[b.jsx(sD,{className:"w-4 h-4 text-black"})," ",n.difficulty]}),b.jsxs("span",{className:"flex items-center gap-2 bg-neo-blue/30 px-3 py-1 rounded-md border-2 border-black",children:[b.jsx(ku,{className:"w-4 h-4 text-black"})," ",n.duration]})]})]},r))}),b.jsx(Ze.section,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"neo-card p-12 md:p-24 bg-neo-yellow relative overflow-hidden",children:b.jsxs("div",{className:"relative z-10 max-w-2xl space-y-10",children:[b.jsx("div",{className:"bg-white text-black py-2.5 px-6 rounded-xl w-fit text-xs font-black uppercase tracking-[0.2em] border-3 border-black shadow-neo-sm",children:"Curiosity"}),b.jsx("h2",{className:"text-5xl md:text-6xl font-black font-outfit text-black leading-tight tracking-tight",children:"Need something specific?"}),b.jsx("p",{className:"text-xl text-black font-quicksand font-bold italic",children:`"The right information at the right time is the ultimate catalyst for focus. Tell us what you're looking for."`}),b.jsxs(Ze.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"neo-btn bg-neo-purple px-10 py-5 text-sm",children:[b.jsx(AM,{className:"w-6 h-6 mr-3 text-black",fill:"currentColor"}),"Request Knowledge"]})]})})]}),b.jsx("div",{className:"h-24"})]})},Xz=()=>{const t=Mi(),{userProfile:e,updateUserProfile:n}=Ii(),[r,o]=E.useState(e?.wandType||"silent"),c=[{id:"silent",name:"Bamboo Flute",power:"Deep Stillness",icon:b.jsx(wl,{className:"text-black"}),color:"bg-neo-blue"},{id:"potency",name:"Singing Bowl",power:"Resonant Flow",icon:b.jsx(il,{className:"text-black"}),color:"bg-neo-purple"},{id:"versatility",name:"Crystal Chimes",power:"Clear Awareness",icon:b.jsx(jM,{className:"text-black"}),color:"bg-neo-pink"}],u=async(h,m)=>{try{o(h),await n({wandType:h}),Te.success(`${m} is now your focus companion. `)}catch{Te.error("The instrument could not be tuned.")}};return b.jsxs("div",{className:"min-h-screen bg-white text-main font-quicksand relative pb-20 overflow-x-hidden",children:[b.jsxs("header",{className:"fixed top-4 left-4 right-4 z-50 neo-card bg-white p-4 flex justify-between items-center",children:[b.jsx("button",{onClick:()=>t("/"),className:"neo-btn bg-white hover:bg-gray-100 p-3",children:b.jsx($p,{className:"w-5 h-5 text-black"})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-neo-yellow border-2 border-black p-2 rounded-lg shadow-neo-sm",children:b.jsx(nE,{className:"w-5 h-5 text-black animate-spin-slow"})}),b.jsx("h1",{className:"text-sm font-black uppercase tracking-widest text-black",children:"Sanctuary Settings"})]}),b.jsx("div",{className:"w-10"})]}),b.jsxs("main",{className:"max-w-4xl mx-auto pt-32 px-6 space-y-12",children:[b.jsx("section",{className:"neo-card p-10 md:p-14 bg-white relative overflow-hidden",children:b.jsxs("div",{className:"relative z-10",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-10 pb-6 border-b-3 border-black border-dashed",children:[b.jsx("div",{className:"p-3 bg-neo-blue border-2 border-black rounded-xl shadow-neo-sm",children:b.jsx(gD,{className:"w-6 h-6 text-black"})}),b.jsx("h3",{className:"text-2xl font-black font-outfit text-black tracking-tight",children:"Instrument of Focus"})]}),b.jsx("div",{className:"grid gap-6",children:c.map(h=>b.jsxs(Ze.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(h.id,h.name),className:Ot("flex items-center justify-between p-6 rounded-2xl border-2 border-black transition-all relative overflow-hidden text-left",r===h.id?"bg-neo-yellow shadow-neo":"bg-white hover:bg-gray-50"),children:[b.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[b.jsx("div",{className:Ot("p-4 rounded-xl border-2 border-black",h.color),children:gi.cloneElement(h.icon,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-black text-lg text-black font-outfit",children:h.name}),b.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mt-1",children:h.power})]})]}),r===h.id&&b.jsx("div",{className:"relative z-10 bg-black p-2 rounded-full",children:b.jsx(qm,{className:"w-5 h-5 text-white"})})]},h.id))})]})}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("section",{className:"neo-card p-10 bg-neo-pink space-y-8",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(cM,{className:"w-6 h-6 text-black"}),b.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-black",children:"Flow Reminders"})]}),b.jsx("div",{className:"space-y-4",children:[{label:"Spirit Pulses",desc:"When souls message you"},{label:"Zen Bells",desc:"Alerts for session phase changes"}].map((h,m)=>b.jsxs("div",{className:"flex items-center justify-between p-6 bg-white rounded-xl border-2 border-black shadow-sm transition-all hover:translate-x-1",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-black text-black",children:h.label}),b.jsx("div",{className:"text-xs font-bold text-gray-500",children:h.desc})]}),b.jsx("div",{className:"w-12 h-6 bg-neo-green rounded-full relative cursor-pointer border-2 border-black",children:b.jsx("div",{className:"absolute right-0.5 top-0.5 bottom-0.5 w-5 bg-white rounded-full border-2 border-black"})})]},m))})]}),b.jsxs("section",{className:"neo-card p-10 bg-neo-blue space-y-8 relative overflow-hidden",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(eD,{className:"w-6 h-6 text-black"}),b.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-black",children:"Soul Veil"})]}),b.jsxs("div",{className:"p-8 bg-white rounded-xl border-2 border-black flex flex-col gap-6 hover:shadow-neo-sm transition-all",children:[b.jsxs("div",{className:"flex items-center gap-5",children:[b.jsx("div",{className:"p-3 bg-neo-purple border-2 border-black rounded-xl",children:b.jsx(TM,{className:"w-6 h-6 text-black"})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-black text-black",children:"Meditation Cloak"}),b.jsx("p",{className:"text-xs font-bold text-gray-500",children:"Hide your presence."})]})]}),b.jsx("p",{className:"text-xs font-bold text-gray-600 leading-relaxed",children:"When active, your soul essence will remain hidden in the Zen Garden until you decide to manifest."})]})]})]})]})]})},Qz=()=>{const{user:t,userProfile:e,updateUserProfile:n}=Ii(),r=Mi(),[o,c]=E.useState(0),[u,h]=E.useState(t?.photoURL),[m,p]=E.useState(25),g=[`https://api.dicebear.com/7.x/avataaars/svg?seed=${t?.uid}`,`https://api.dicebear.com/7.x/avataaars/svg?seed=${t?.uid}123`,`https://api.dicebear.com/7.x/avataaars/svg?seed=${t?.uid}456`,`https://api.dicebear.com/7.x/bottts/svg?seed=${t?.uid}`],y=async()=>{try{await n({photoURL:u,focusGoal:m,onboardingCompleted:!0,seeds:(e?.seeds||0)+1}),Te.success("Welcome to your Journey!"),r("/")}catch{Te.error("Failed to save progress")}},_=[{title:"Choose Your Persona",content:b.jsx("div",{className:"grid grid-cols-2 gap-4 mt-8",children:g.map((x,T)=>b.jsx("div",{onClick:()=>h(x),className:`p-2 rounded-2xl border-3 cursor-pointer transition-all ${u===x?"border-neo-green bg-neo-green/20 scale-105":"border-transparent hover:bg-gray-100"}`,children:b.jsx("img",{src:x,className:"w-24 h-24 rounded-xl border-2 border-black",alt:"avatar"})},T))})},{title:"Set Your Focus Goal",content:b.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[b.jsxs("div",{className:"w-full neo-card p-6 bg-neo-blue mb-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("span",{className:"font-bold",children:"Daily Focus Target"}),b.jsxs("span",{className:"font-black text-2xl",children:[m,"m"]})]}),b.jsx("input",{type:"range",min:"15",max:"120",step:"5",value:m,onChange:x=>p(x.target.value),className:"w-full h-4 bg-white rounded-full appearance-none border-2 border-black accent-black cursor-pointer"})]}),b.jsx("p",{className:"text-center font-bold text-muted",children:"Start small. Construct consistency."})]})},{title:"A Gift For You",content:b.jsxs("div",{className:"mt-8 flex flex-col items-center text-center",children:[b.jsx(Ze.div,{initial:{scale:0},animate:{scale:1,rotate:360},transition:{type:"spring",bounce:.5},className:"w-32 h-32 bg-neo-green rounded-full border-3 border-black flex items-center justify-center mb-6 shadow-neo",children:b.jsx(Gm,{size:64,className:"text-black"})}),b.jsx("h3",{className:"font-black text-xl mb-2",children:"1x Rare Seed"}),b.jsx("p",{className:"font-medium text-muted",children:"Plant this in your forest to begin your legacy."})]})}];return b.jsx("div",{className:"min-h-screen bg-neo-pink flex items-center justify-center p-6 font-quicksand",children:b.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full neo-card bg-white p-8 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 h-2 bg-neo-purple transition-all duration-300",style:{width:`${(o+1)/_.length*100}%`}}),b.jsx("h1",{className:"text-3xl font-black font-outfit text-center mb-2 mt-4",children:_[o].title}),b.jsx("div",{className:"min-h-[300px] flex flex-col",children:_[o].content}),b.jsxs("div",{className:"flex justify-between mt-auto pt-6 border-t-3 border-black border-dashed",children:[b.jsx("button",{onClick:()=>c(Math.max(0,o-1)),disabled:o===0,className:`font-bold uppercase tracking-widest text-xs px-4 py-2 ${o===0?"opacity-0":"opacity-100"}`,children:"Back"}),b.jsxs("button",{onClick:()=>{o===_.length-1?y():c(o+1)},className:"neo-btn bg-neo-yellow px-6",children:[o===_.length-1?"Start Journey":"Next"," ",b.jsx(Nu,{size:18})]})]})]})})},na=({children:t})=>{const{user:e,loading:n}=Ii(),r=ki();return n?b.jsxs("div",{className:"min-h-screen bg-neo-yellow flex flex-col items-center justify-center gap-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"w-20 h-20 border-4 border-black border-t-transparent rounded-full animate-spin"}),b.jsx(wl,{className:"absolute inset-0 m-auto w-8 h-8 text-black"})]}),b.jsx("p",{className:"text-black font-black text-sm uppercase tracking-widest animate-pulse",children:"Consulting the Oracle..."})]}):e?t:b.jsx(Lx,{to:"/auth",state:{from:r},replace:!0})};function Zz(){const{initialize:t}=Ii();return E.useEffect(()=>{const e=t();return()=>e()},[]),b.jsx(nk,{children:b.jsx(rL,{children:b.jsxs(D2,{children:[b.jsx(mi,{path:"/auth",element:b.jsx(Uz,{})}),b.jsx(mi,{path:"/",element:b.jsx(na,{children:b.jsx(qz,{})})}),b.jsx(mi,{path:"/room/:roomId",element:b.jsx(na,{children:b.jsx(Kz,{})})}),b.jsx(mi,{path:"/profile",element:b.jsx(na,{children:b.jsx(Wz,{})})}),b.jsx(mi,{path:"/library",element:b.jsx(na,{children:b.jsx($z,{})})}),b.jsx(mi,{path:"/onboarding",element:b.jsx(na,{children:b.jsx(Qz,{})})}),b.jsx(mi,{path:"/settings",element:b.jsx(na,{children:b.jsx(Xz,{})})}),b.jsx(mi,{path:"*",element:b.jsx(Lx,{to:"/",replace:!0})})]})})})}IN.createRoot(document.getElementById("root")).render(b.jsx(E.StrictMode,{children:b.jsx(Zz,{})}));
